{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { getUnicodeText, textTrim, withInBounds } from \"../../common/utils/helper\";\nimport { BaseLegend, LegendOptions, Location } from \"../../common/legend/legend\";\nimport { measureText } from '@syncfusion/ej2-svg-base';\nimport { legendClick, legendRender, regSub, regSup } from \"../../common/model/constants\";\nimport { StockChartBorder, StockChartFont, StockMargin } from \"../model/base\";\nimport { Browser } from \"@syncfusion/ej2-base\";\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { Theme } from \"../../common/model/theme\";\nimport { ContainerPadding } from '../../common/model/base';\n/**\n * Configures the legends in charts.\n */\nvar StockChartLegendSettings = /** @class */function (_super) {\n  __extends(StockChartLegendSettings, _super);\n  function StockChartLegendSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(false)], StockChartLegendSettings.prototype, \"visible\", void 0);\n  __decorate([Property(null)], StockChartLegendSettings.prototype, \"height\", void 0);\n  __decorate([Property(null)], StockChartLegendSettings.prototype, \"width\", void 0);\n  __decorate([Complex({\n    x: 0,\n    y: 0\n  }, Location)], StockChartLegendSettings.prototype, \"location\", void 0);\n  __decorate([Property('Auto')], StockChartLegendSettings.prototype, \"position\", void 0);\n  __decorate([Property('Series')], StockChartLegendSettings.prototype, \"mode\", void 0);\n  __decorate([Property(8)], StockChartLegendSettings.prototype, \"padding\", void 0);\n  __decorate([Property(null)], StockChartLegendSettings.prototype, \"itemPadding\", void 0);\n  __decorate([Property('Center')], StockChartLegendSettings.prototype, \"alignment\", void 0);\n  __decorate([Complex(Theme.legendLabelFont, StockChartFont)], StockChartLegendSettings.prototype, \"textStyle\", void 0);\n  __decorate([Property(10)], StockChartLegendSettings.prototype, \"shapeHeight\", void 0);\n  __decorate([Property(10)], StockChartLegendSettings.prototype, \"shapeWidth\", void 0);\n  __decorate([Complex({}, StockChartBorder)], StockChartLegendSettings.prototype, \"border\", void 0);\n  __decorate([Complex({\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  }, StockMargin)], StockChartLegendSettings.prototype, \"margin\", void 0);\n  __decorate([Complex({\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  }, ContainerPadding)], StockChartLegendSettings.prototype, \"containerPadding\", void 0);\n  __decorate([Property(8)], StockChartLegendSettings.prototype, \"shapePadding\", void 0);\n  __decorate([Property('transparent')], StockChartLegendSettings.prototype, \"background\", void 0);\n  __decorate([Property(1)], StockChartLegendSettings.prototype, \"opacity\", void 0);\n  __decorate([Property(true)], StockChartLegendSettings.prototype, \"toggleVisibility\", void 0);\n  __decorate([Property(null)], StockChartLegendSettings.prototype, \"description\", void 0);\n  __decorate([Property(3)], StockChartLegendSettings.prototype, \"tabIndex\", void 0);\n  __decorate([Property(null)], StockChartLegendSettings.prototype, \"title\", void 0);\n  __decorate([Complex(Theme.legendTitleFont, StockChartFont)], StockChartLegendSettings.prototype, \"titleStyle\", void 0);\n  __decorate([Property('Top')], StockChartLegendSettings.prototype, \"titlePosition\", void 0);\n  __decorate([Property(100)], StockChartLegendSettings.prototype, \"maximumTitleWidth\", void 0);\n  __decorate([Property(true)], StockChartLegendSettings.prototype, \"enablePages\", void 0);\n  __decorate([Property(false)], StockChartLegendSettings.prototype, \"isInversed\", void 0);\n  return StockChartLegendSettings;\n}(ChildProperty);\nexport { StockChartLegendSettings };\n/**\n * `Legend` module is used to render legend for the stockchart.\n */\nvar StockLegend = /** @class */function (_super) {\n  __extends(StockLegend, _super);\n  function StockLegend(chart) {\n    var _this = _super.call(this, chart) || this;\n    _this.library = _this;\n    _this.addEventListener();\n    return _this;\n  }\n  /**\n   * Binding events for Stocklegend module.\n   */\n  StockLegend.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n    this.chart.on('click', this.click, this);\n    this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n    this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n  };\n  /**\n   * UnBinding events for Stocklegend module.\n   */\n  StockLegend.prototype.removeEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n    this.chart.off('click', this.click);\n    this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n    this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n  };\n  /**\n   * To handle mosue move for Stocklegend module\n   */\n  StockLegend.prototype.mouseMove = function (e) {\n    if (this.chart.legendSettings.visible && !this.chart.isTouch) {\n      this.move(e);\n    }\n  };\n  /**\n   * To handle mosue end for Stocklegend module\n   */\n  StockLegend.prototype.mouseEnd = function (e) {\n    if (this.chart.legendSettings.visible && this.chart.isTouch) {\n      this.move(e);\n    }\n  };\n  StockLegend.prototype.getLegendOptions = function (visibleSeriesCollection, chart) {\n    this.legendCollections = [];\n    var seriesType;\n    var fillColor;\n    if (visibleSeriesCollection.length > 1) {\n      this.legend.mode = 'Series';\n    }\n    for (var _i = 0, visibleSeriesCollection_1 = visibleSeriesCollection; _i < visibleSeriesCollection_1.length; _i++) {\n      var series = visibleSeriesCollection_1[_i];\n      if (this.legend.mode === 'Series') {\n        series;\n        if (series.category !== 'Indicator') {\n          seriesType = series.type;\n          fillColor = series.pointColorMapping && series.points.length > 0 ? series.points[0].interior ? series.points[0].interior : series.interior : series.interior;\n          this.legendCollections.push(new LegendOptions(series.name, fillColor, series.legendShape, series.category === 'TrendLine' ? this.chart.series[series.sourceIndex].trendlines[series.index].visible : series.visible, seriesType, series.legendImageUrl, series.marker.shape, series.marker.visible));\n        }\n      }\n    }\n  };\n  /** @private */\n  StockLegend.prototype.getLegendBounds = function (availableSize, legendBound, legend) {\n    this.calculateLegendTitle(legend, legendBound);\n    var padding = legend.padding;\n    this.isTitle = legend.title ? true : false;\n    var titlePosition = legend.titlePosition;\n    var extraWidth = 0;\n    var extraHeight = 0;\n    var legendOption;\n    var arrowHeight = this.arrowHeight;\n    var arrowWidth = this.arrowWidth;\n    var verticalArrowSpace = this.isVertical && !legend.enablePages ? arrowHeight : 0;\n    var titleSpace = this.isTitle && titlePosition === 'Top' ? this.fivePixel + this.legendTitleSize.height : 0;\n    titleSpace = this.isTitle && this.isVertical && titlePosition !== 'Top' ? this.fivePixel + this.legendTitleSize.height : titleSpace;\n    if (!this.isVertical) {\n      extraHeight = !legend.height ? availableSize.height / 100 * 5 : 0;\n    } else {\n      extraWidth = !legend.width ? availableSize.width / 100 * 5 : 0;\n    }\n    legendBound.height += extraHeight;\n    legendBound.width += extraWidth;\n    var shapePadding = legend.shapePadding;\n    var shapeWidth = legend.shapeWidth;\n    var maximum_Width = 0;\n    var row_Width = 0;\n    var legend_Width = 0;\n    var column_Height = 0;\n    var row_Count = 0;\n    var titlePlusArrowSpace = 0;\n    var legendEventArgs;\n    this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n    var render = false;\n    for (var i = 0; i < this.legendCollections.length; i++) {\n      legendOption = this.legendCollections[i];\n      if (regSup.test(legendOption.text)) {\n        legendOption.text = getUnicodeText(legendOption.text, regSup);\n      }\n      if (regSub.test(legendOption.text)) {\n        legendOption.text = getUnicodeText(legendOption.text, regSub);\n      }\n      legendEventArgs = {\n        fill: legendOption.fill,\n        text: legendOption.text,\n        shape: legendOption.shape,\n        markerShape: legendOption.markerShape,\n        name: legendRender,\n        cancel: false\n      };\n      this.chart.trigger(legendRender, legendEventArgs);\n      legendOption.text = legendEventArgs.text;\n      legendOption.render = !legendEventArgs.cancel;\n      legendOption.shape = legendEventArgs.shape;\n      legendOption.fill = legendEventArgs.fill;\n      legendOption.markerShape = legendEventArgs.markerShape;\n      legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n      if (legendOption.render) {\n        render = true;\n        legend_Width = shapePadding + shapeWidth + legendOption.textSize.width + (!this.isVertical ? i == 0 ? padding : this.itemPadding : padding);\n        row_Width = row_Width + legend_Width;\n        if (!legend.enablePages && !this.isVertical) {\n          titlePlusArrowSpace = this.isTitle && titlePosition !== 'Top' ? this.legendTitleSize.width + this.fivePixel : 0;\n          titlePlusArrowSpace += arrowWidth;\n        }\n        if (legendBound.width < padding + row_Width + titlePlusArrowSpace || this.isVertical) {\n          maximum_Width = Math.max(maximum_Width, row_Width + padding + titlePlusArrowSpace - (this.isVertical ? 0 : legend_Width));\n          if (row_Count === 0 && legend_Width !== row_Width) {\n            row_Count = 1;\n          }\n          row_Width = this.isVertical ? 0 : legend_Width;\n          row_Count++;\n          column_Height = row_Count * (this.maxItemHeight + (this.isVertical ? this.itemPadding : padding)) + padding + titleSpace + verticalArrowSpace;\n        }\n      }\n    }\n    column_Height = Math.max(column_Height, this.maxItemHeight + padding + padding + titleSpace);\n    this.isPaging = legendBound.height < column_Height;\n    if (this.isPaging && !legend.enablePages) {\n      if (this.isVertical) {\n        // eslint-disable-next-line no-self-assign\n        column_Height = column_Height;\n      } else {\n        column_Height = this.maxItemHeight + padding + padding + (titlePosition === 'Top' ? titleSpace : 0);\n      }\n    }\n    this.totalPages = row_Count;\n    if (!this.isPaging && !this.isVertical) {\n      row_Width += this.isTitle && titlePosition !== 'Top' ? this.fivePixel + this.legendTitleSize.width + this.fivePixel : 0;\n    }\n    if (render) {\n      this.setBounds(Math.max(row_Width + padding, maximum_Width), column_Height, legend, legendBound);\n    } else {\n      this.setBounds(0, 0, legend, legendBound);\n    }\n  };\n  /** @private */\n  StockLegend.prototype.getRenderPoint = function (legendOptions, start, textPadding, prevLegend, rect, count, firstLegend) {\n    var previousBound = prevLegend.location.x + textPadding + prevLegend.textSize.width;\n    var padding = this.legend.padding;\n    if (previousBound + (legendOptions.textSize.width + textPadding - this.itemPadding) > rect.x + rect.width + this.legend.shapeWidth / 2 || this.isVertical) {\n      legendOptions.location.x = start.x;\n      legendOptions.location.y = count === firstLegend ? prevLegend.location.y : prevLegend.location.y + this.maxItemHeight + (this.isVertical ? this.itemPadding : padding);\n    } else {\n      legendOptions.location.x = count === firstLegend ? prevLegend.location.x : previousBound;\n      legendOptions.location.y = prevLegend.location.y;\n    }\n    var availwidth = this.legendBounds.width + this.legendBounds.x - (legendOptions.location.x + textPadding - this.itemPadding - this.legend.shapeWidth / 2);\n    legendOptions.text = textTrim(+availwidth.toFixed(4), legendOptions.text, this.legend.textStyle);\n  };\n  /** @private */\n  StockLegend.prototype.legendClick = function (index, event) {\n    var chart = this.chart;\n    var seriesIndex = chart.legendSettings.mode === 'Series' ? index : 0;\n    var targetSeries = chart.visibleSeries[seriesIndex];\n    var targetLegend = this.legendCollections[index];\n    var legendClickArgs = {\n      legendText: targetLegend.text,\n      legendShape: targetLegend.shape,\n      chart: chart,\n      series: targetSeries,\n      name: legendClick,\n      cancel: false\n    };\n    this.chart.trigger(legendClick, legendClickArgs);\n    targetSeries.legendShape = legendClickArgs.legendShape;\n    if (targetSeries.fill !== null) {\n      chart.visibleSeries[index].interior = targetSeries.fill;\n    }\n    if (chart.legendSettings.toggleVisibility) {\n      this.changeSeriesVisiblity(targetSeries, targetSeries.visible);\n      targetLegend.visible = targetSeries.category === 'TrendLine' ? chart.series[targetSeries.sourceIndex].trendlines[targetSeries.index].visible : targetSeries.visible;\n      this.refreshLegendToggle(chart, targetSeries);\n    }\n  };\n  StockLegend.prototype.refreshLegendToggle = function (chart, series) {\n    var bounds = chart.stockLegendModule.legendBounds;\n    chart.stockLegendModule.renderLegend(chart, chart.legendSettings, bounds);\n    chart.cartesianChart.cartesianChartRefresh(chart);\n  };\n  StockLegend.prototype.changeSeriesVisiblity = function (series, visibility) {\n    series.visible = !visibility;\n    if (this.SecondaryAxis(series.yAxis)) {\n      series.yAxis.internalVisibility = series.yAxis.series.some(function (value) {\n        return value.visible;\n      });\n    }\n    if (this.SecondaryAxis(series.xAxis)) {\n      series.xAxis.internalVisibility = series.xAxis.series.some(function (value) {\n        return value.visible;\n      });\n    }\n  };\n  StockLegend.prototype.SecondaryAxis = function (axis) {\n    return this.chart.axes.indexOf(axis) > -1;\n  };\n  /**\n   * To show the tooltip for the trimmed text in legend.\n   *\n   * @returns {void}\n   */\n  StockLegend.prototype.click = function (event) {\n    var _this = this;\n    if (!this.chart.legendSettings.visible) {\n      return;\n    }\n    var pageY = this.chart.mouseY;\n    var pageX = this.chart.mouseX;\n    var legendRegion = [];\n    var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_marker_', this.legendID + '_shape_'];\n    var targetId = event.target.id;\n    var seriesIndex;\n    for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n      var id = legendItemsId_1[_i];\n      if (targetId.indexOf(id) > -1) {\n        seriesIndex = parseInt(targetId.split(id)[1], 10);\n        this.legendClick(seriesIndex, event);\n        break;\n      }\n    }\n    if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n      this.changePage(event, false);\n    } else if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n      this.changePage(event, true);\n    }\n    legendRegion = this.legendRegions.filter(function (region) {\n      return withInBounds(pageX, pageY + (_this.isPaging ? (_this.currentPageNumber - 1) * _this.translatePage(false, null, 1, 2) : 0), region.rect);\n    });\n  };\n  /**\n   * Get module name\n   */\n  StockLegend.prototype.getModuleName = function () {\n    return 'StockLegend';\n  };\n  /**\n   * To destroy the Legend.\n   *\n   * @returns {void}\n   * @private\n   */\n  StockLegend.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return StockLegend;\n}(BaseLegend);\nexport { StockLegend };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","getUnicodeText","textTrim","withInBounds","BaseLegend","LegendOptions","Location","measureText","legendClick","legendRender","regSub","regSup","StockChartBorder","StockChartFont","StockMargin","Browser","Property","Complex","ChildProperty","Theme","ContainerPadding","StockChartLegendSettings","_super","apply","x","y","legendLabelFont","left","right","top","bottom","legendTitleFont","StockLegend","chart","_this","call","library","addEventListener","isDestroyed","on","click","touchEndEvent","mouseEnd","touchMoveEvent","mouseMove","removeEventListener","off","e","legendSettings","visible","isTouch","move","getLegendOptions","visibleSeriesCollection","legendCollections","seriesType","fillColor","legend","mode","_i","visibleSeriesCollection_1","series","category","type","pointColorMapping","points","interior","push","name","legendShape","sourceIndex","trendlines","index","legendImageUrl","marker","shape","getLegendBounds","availableSize","legendBound","calculateLegendTitle","padding","isTitle","title","titlePosition","extraWidth","extraHeight","legendOption","arrowHeight","arrowWidth","verticalArrowSpace","isVertical","enablePages","titleSpace","fivePixel","legendTitleSize","height","width","shapePadding","shapeWidth","maximum_Width","row_Width","legend_Width","column_Height","row_Count","titlePlusArrowSpace","legendEventArgs","maxItemHeight","Math","max","textStyle","shapeHeight","render","test","text","fill","markerShape","cancel","trigger","textSize","itemPadding","isPaging","totalPages","setBounds","getRenderPoint","legendOptions","start","textPadding","prevLegend","rect","count","firstLegend","previousBound","location","availwidth","legendBounds","toFixed","event","seriesIndex","targetSeries","visibleSeries","targetLegend","legendClickArgs","legendText","toggleVisibility","changeSeriesVisiblity","refreshLegendToggle","bounds","stockLegendModule","renderLegend","cartesianChart","cartesianChartRefresh","visibility","SecondaryAxis","yAxis","internalVisibility","some","value","xAxis","axis","axes","indexOf","pageY","mouseY","pageX","mouseX","legendRegion","legendItemsId","legendID","targetId","id","legendItemsId_1","parseInt","split","changePage","legendRegions","filter","region","currentPageNumber","translatePage","getModuleName","destroy"],"sources":["/Users/thonghoangdanh/FullStack/birdnest/node_modules/@syncfusion/ej2-charts/src/stock-chart/legend/legend.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { getUnicodeText, textTrim, withInBounds } from \"../../common/utils/helper\";\nimport { BaseLegend, LegendOptions, Location } from \"../../common/legend/legend\";\nimport { measureText } from '@syncfusion/ej2-svg-base';\nimport { legendClick, legendRender, regSub, regSup } from \"../../common/model/constants\";\nimport { StockChartBorder, StockChartFont, StockMargin } from \"../model/base\";\nimport { Browser } from \"@syncfusion/ej2-base\";\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { Theme } from \"../../common/model/theme\";\nimport { ContainerPadding } from '../../common/model/base';\n/**\n * Configures the legends in charts.\n */\nvar StockChartLegendSettings = /** @class */ (function (_super) {\n    __extends(StockChartLegendSettings, _super);\n    function StockChartLegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], StockChartLegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], StockChartLegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], StockChartLegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, Location)\n    ], StockChartLegendSettings.prototype, \"location\", void 0);\n    __decorate([\n        Property('Auto')\n    ], StockChartLegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property('Series')\n    ], StockChartLegendSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(8)\n    ], StockChartLegendSettings.prototype, \"padding\", void 0);\n    __decorate([\n        Property(null)\n    ], StockChartLegendSettings.prototype, \"itemPadding\", void 0);\n    __decorate([\n        Property('Center')\n    ], StockChartLegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, StockChartFont)\n    ], StockChartLegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(10)\n    ], StockChartLegendSettings.prototype, \"shapeHeight\", void 0);\n    __decorate([\n        Property(10)\n    ], StockChartLegendSettings.prototype, \"shapeWidth\", void 0);\n    __decorate([\n        Complex({}, StockChartBorder)\n    ], StockChartLegendSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ left: 0, right: 0, top: 0, bottom: 0 }, StockMargin)\n    ], StockChartLegendSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ left: 0, right: 0, top: 0, bottom: 0 }, ContainerPadding)\n    ], StockChartLegendSettings.prototype, \"containerPadding\", void 0);\n    __decorate([\n        Property(8)\n    ], StockChartLegendSettings.prototype, \"shapePadding\", void 0);\n    __decorate([\n        Property('transparent')\n    ], StockChartLegendSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], StockChartLegendSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(true)\n    ], StockChartLegendSettings.prototype, \"toggleVisibility\", void 0);\n    __decorate([\n        Property(null)\n    ], StockChartLegendSettings.prototype, \"description\", void 0);\n    __decorate([\n        Property(3)\n    ], StockChartLegendSettings.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], StockChartLegendSettings.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.legendTitleFont, StockChartFont)\n    ], StockChartLegendSettings.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('Top')\n    ], StockChartLegendSettings.prototype, \"titlePosition\", void 0);\n    __decorate([\n        Property(100)\n    ], StockChartLegendSettings.prototype, \"maximumTitleWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], StockChartLegendSettings.prototype, \"enablePages\", void 0);\n    __decorate([\n        Property(false)\n    ], StockChartLegendSettings.prototype, \"isInversed\", void 0);\n    return StockChartLegendSettings;\n}(ChildProperty));\nexport { StockChartLegendSettings };\n/**\n * `Legend` module is used to render legend for the stockchart.\n */\nvar StockLegend = /** @class */ (function (_super) {\n    __extends(StockLegend, _super);\n    function StockLegend(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.library = _this;\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * Binding events for Stocklegend module.\n     */\n    StockLegend.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on('click', this.click, this);\n        this.chart.on(Browser.touchEndEvent, this.mouseEnd, this);\n        this.chart.on(Browser.touchMoveEvent, this.mouseMove, this);\n    };\n    /**\n     * UnBinding events for Stocklegend module.\n     */\n    StockLegend.prototype.removeEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.off('click', this.click);\n        this.chart.off(Browser.touchEndEvent, this.mouseEnd);\n        this.chart.off(Browser.touchMoveEvent, this.mouseMove);\n    };\n    /**\n     * To handle mosue move for Stocklegend module\n     */\n    StockLegend.prototype.mouseMove = function (e) {\n        if (this.chart.legendSettings.visible && !this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    /**\n     * To handle mosue end for Stocklegend module\n     */\n    StockLegend.prototype.mouseEnd = function (e) {\n        if (this.chart.legendSettings.visible && this.chart.isTouch) {\n            this.move(e);\n        }\n    };\n    StockLegend.prototype.getLegendOptions = function (visibleSeriesCollection, chart) {\n        this.legendCollections = [];\n        var seriesType;\n        var fillColor;\n        if (visibleSeriesCollection.length > 1) {\n            this.legend.mode = 'Series';\n        }\n        for (var _i = 0, visibleSeriesCollection_1 = visibleSeriesCollection; _i < visibleSeriesCollection_1.length; _i++) {\n            var series = visibleSeriesCollection_1[_i];\n            if (this.legend.mode === 'Series') {\n                series;\n                if (series.category !== 'Indicator') {\n                    seriesType = series.type;\n                    fillColor = (series.pointColorMapping && series.points.length > 0) ?\n                        (series.points[0].interior ? series.points[0].interior : series.interior) : series.interior;\n                    this.legendCollections.push(new LegendOptions(series.name, fillColor, series.legendShape, (series.category === 'TrendLine' ?\n                        this.chart.series[series.sourceIndex].trendlines[series.index].visible : series.visible), seriesType, series.legendImageUrl, series.marker.shape, series.marker.visible));\n                }\n            }\n        }\n    };\n    /** @private */\n    StockLegend.prototype.getLegendBounds = function (availableSize, legendBound, legend) {\n        this.calculateLegendTitle(legend, legendBound);\n        var padding = legend.padding;\n        this.isTitle = legend.title ? true : false;\n        var titlePosition = legend.titlePosition;\n        var extraWidth = 0;\n        var extraHeight = 0;\n        var legendOption;\n        var arrowHeight = this.arrowHeight;\n        var arrowWidth = this.arrowWidth;\n        var verticalArrowSpace = this.isVertical && !legend.enablePages ? arrowHeight : 0;\n        var titleSpace = this.isTitle && titlePosition === 'Top' ? this.fivePixel + this.legendTitleSize.height : 0;\n        titleSpace = this.isTitle && this.isVertical && titlePosition !== 'Top' ? this.fivePixel + this.legendTitleSize.height : titleSpace;\n        if (!this.isVertical) {\n            extraHeight = !legend.height ? ((availableSize.height / 100) * 5) : 0;\n        }\n        else {\n            extraWidth = !legend.width ? ((availableSize.width / 100) * 5) : 0;\n        }\n        legendBound.height += (extraHeight);\n        legendBound.width += extraWidth;\n        var shapePadding = legend.shapePadding;\n        var shapeWidth = legend.shapeWidth;\n        var maximum_Width = 0;\n        var row_Width = 0;\n        var legend_Width = 0;\n        var column_Height = 0;\n        var row_Count = 0;\n        var titlePlusArrowSpace = 0;\n        var legendEventArgs;\n        this.maxItemHeight = Math.max(measureText('MeasureText', legend.textStyle).height, legend.shapeHeight);\n        var render = false;\n        for (var i = 0; i < this.legendCollections.length; i++) {\n            legendOption = this.legendCollections[i];\n            if (regSup.test(legendOption.text)) {\n                legendOption.text = getUnicodeText(legendOption.text, regSup);\n            }\n            if (regSub.test(legendOption.text)) {\n                legendOption.text = getUnicodeText(legendOption.text, regSub);\n            }\n            legendEventArgs = {\n                fill: legendOption.fill, text: legendOption.text, shape: legendOption.shape,\n                markerShape: legendOption.markerShape, name: legendRender, cancel: false\n            };\n            this.chart.trigger(legendRender, legendEventArgs);\n            legendOption.text = legendEventArgs.text;\n            legendOption.render = !legendEventArgs.cancel;\n            legendOption.shape = legendEventArgs.shape;\n            legendOption.fill = legendEventArgs.fill;\n            legendOption.markerShape = legendEventArgs.markerShape;\n            legendOption.textSize = measureText(legendOption.text, legend.textStyle);\n            if (legendOption.render) {\n                render = true;\n                legend_Width = shapePadding + shapeWidth + legendOption.textSize.width + (!this.isVertical ? (i == 0) ? padding : this.itemPadding : padding);\n                row_Width = row_Width + legend_Width;\n                if (!legend.enablePages && !this.isVertical) {\n                    titlePlusArrowSpace = this.isTitle && titlePosition !== 'Top' ? this.legendTitleSize.width + this.fivePixel : 0;\n                    titlePlusArrowSpace += arrowWidth;\n                }\n                if (legendBound.width < (padding + row_Width + titlePlusArrowSpace) || this.isVertical) {\n                    maximum_Width = Math.max(maximum_Width, (row_Width + padding + titlePlusArrowSpace - (this.isVertical ? 0 : legend_Width)));\n                    if (row_Count === 0 && (legend_Width !== row_Width)) {\n                        row_Count = 1;\n                    }\n                    row_Width = this.isVertical ? 0 : legend_Width;\n                    row_Count++;\n                    column_Height = (row_Count * (this.maxItemHeight + (this.isVertical ? this.itemPadding : padding))) + padding + titleSpace + verticalArrowSpace;\n                }\n            }\n        }\n        column_Height = Math.max(column_Height, (this.maxItemHeight + padding) + padding + titleSpace);\n        this.isPaging = legendBound.height < column_Height;\n        if (this.isPaging && !legend.enablePages) {\n            if (this.isVertical) {\n                // eslint-disable-next-line no-self-assign\n                column_Height = column_Height;\n            }\n            else {\n                column_Height = (this.maxItemHeight + padding) + padding + (titlePosition === 'Top' ? titleSpace : 0);\n            }\n        }\n        this.totalPages = row_Count;\n        if (!this.isPaging && !this.isVertical) {\n            row_Width += this.isTitle && titlePosition !== 'Top' ? (this.fivePixel + this.legendTitleSize.width + this.fivePixel) : 0;\n        }\n        if (render) {\n            this.setBounds(Math.max((row_Width + padding), maximum_Width), column_Height, legend, legendBound);\n        }\n        else {\n            this.setBounds(0, 0, legend, legendBound);\n        }\n    };\n    /** @private */\n    StockLegend.prototype.getRenderPoint = function (legendOptions, start, textPadding, prevLegend, rect, count, firstLegend) {\n        var previousBound = (prevLegend.location.x + textPadding + prevLegend.textSize.width);\n        var padding = this.legend.padding;\n        if ((previousBound + (legendOptions.textSize.width + textPadding - this.itemPadding)) > (rect.x + rect.width + this.legend.shapeWidth / 2) ||\n            this.isVertical) {\n            legendOptions.location.x = start.x;\n            legendOptions.location.y = (count === firstLegend) ? prevLegend.location.y :\n                prevLegend.location.y + this.maxItemHeight + (this.isVertical ? this.itemPadding : padding);\n        }\n        else {\n            legendOptions.location.x = (count === firstLegend) ? prevLegend.location.x : previousBound;\n            legendOptions.location.y = prevLegend.location.y;\n        }\n        var availwidth = (this.legendBounds.width + this.legendBounds.x) - (legendOptions.location.x +\n            textPadding - this.itemPadding - this.legend.shapeWidth / 2);\n        legendOptions.text = textTrim(+availwidth.toFixed(4), legendOptions.text, this.legend.textStyle);\n    };\n    /** @private */\n    StockLegend.prototype.legendClick = function (index, event) {\n        var chart = this.chart;\n        var seriesIndex = chart.legendSettings.mode === 'Series' ? index : 0;\n        var targetSeries = chart.visibleSeries[seriesIndex];\n        var targetLegend = this.legendCollections[index];\n        var legendClickArgs = {\n            legendText: targetLegend.text, legendShape: targetLegend.shape,\n            chart: chart, series: targetSeries, name: legendClick, cancel: false\n        };\n        this.chart.trigger(legendClick, legendClickArgs);\n        targetSeries.legendShape = legendClickArgs.legendShape;\n        if (targetSeries.fill !== null) {\n            chart.visibleSeries[index].interior = targetSeries.fill;\n        }\n        if (chart.legendSettings.toggleVisibility) {\n            this.changeSeriesVisiblity(targetSeries, targetSeries.visible);\n            targetLegend.visible = targetSeries.category === 'TrendLine' ? chart.series[targetSeries.sourceIndex].trendlines[targetSeries.index].visible :\n                (targetSeries.visible);\n            this.refreshLegendToggle(chart, targetSeries);\n        }\n    };\n    StockLegend.prototype.refreshLegendToggle = function (chart, series) {\n        var bounds = chart.stockLegendModule.legendBounds;\n        chart.stockLegendModule.renderLegend(chart, chart.legendSettings, bounds);\n        chart.cartesianChart.cartesianChartRefresh(chart);\n    };\n    StockLegend.prototype.changeSeriesVisiblity = function (series, visibility) {\n        series.visible = !visibility;\n        if (this.SecondaryAxis(series.yAxis)) {\n            series.yAxis.internalVisibility = series.yAxis.series.some(function (value) { return (value.visible); });\n        }\n        if (this.SecondaryAxis(series.xAxis)) {\n            series.xAxis.internalVisibility = series.xAxis.series.some(function (value) { return (value.visible); });\n        }\n    };\n    StockLegend.prototype.SecondaryAxis = function (axis) {\n        return (this.chart.axes.indexOf(axis) > -1);\n    };\n    /**\n     * To show the tooltip for the trimmed text in legend.\n     *\n     * @returns {void}\n     */\n    StockLegend.prototype.click = function (event) {\n        var _this = this;\n        if (!this.chart.legendSettings.visible) {\n            return;\n        }\n        var pageY = this.chart.mouseY;\n        var pageX = this.chart.mouseX;\n        var legendRegion = [];\n        var legendItemsId = [this.legendID + '_text_', this.legendID + '_shape_marker_',\n            this.legendID + '_shape_'];\n        var targetId = event.target.id;\n        var seriesIndex;\n        for (var _i = 0, legendItemsId_1 = legendItemsId; _i < legendItemsId_1.length; _i++) {\n            var id = legendItemsId_1[_i];\n            if (targetId.indexOf(id) > -1) {\n                seriesIndex = parseInt(targetId.split(id)[1], 10);\n                this.legendClick(seriesIndex, event);\n                break;\n            }\n        }\n        if (targetId.indexOf(this.legendID + '_pagedown') > -1) {\n            this.changePage(event, false);\n        }\n        else if (targetId.indexOf(this.legendID + '_pageup') > -1) {\n            this.changePage(event, true);\n        }\n        legendRegion = this.legendRegions.filter(function (region) {\n            return (withInBounds(pageX, (pageY + (_this.isPaging ? (_this.currentPageNumber - 1) * _this.translatePage(false, null, 1, 2) : 0)), region.rect));\n        });\n    };\n    /**\n     * Get module name\n     */\n    StockLegend.prototype.getModuleName = function () {\n        return 'StockLegend';\n    };\n    /**\n     * To destroy the Legend.\n     *\n     * @returns {void}\n     * @private\n     */\n    StockLegend.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return StockLegend;\n}(BaseLegend));\nexport { StockLegend };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}