{"ast":null,"code":"import { Browser, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectOption, drawSymbol, linear } from '../../common/utils/helper';\nimport { getXLocation, getExactData, getRangeValueXByPoint, getNearestValue } from '../utils/helper';\nimport { PathOption } from '@syncfusion/ej2-svg-base';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * Class for slider\n */\nvar RangeSlider = /** @class */function () {\n  function RangeSlider(range) {\n    this.control = range;\n    this.points = [];\n    this.isIOS = Browser.isIos || Browser.isIos7;\n    var thumb = range.navigatorStyleSettings.thumb;\n    this.thumbVisible = range.themeStyle.thumbWidth !== 0 && range.themeStyle.thumbHeight !== 0;\n    this.elementId = range.element.id;\n    this.thumpPadding = range.themeStyle.thumbWidth / 2;\n    this.addEventListener();\n    this.thumbColor = range.disableRangeSelector ? 'transparent' : thumb.fill || range.themeStyle.thumbBackground;\n  }\n  /**\n   * Render Slider elements for range navigator\n   *\n   * @param {RangeNavigator} range RangeNavigator instance\n   */\n  RangeSlider.prototype.render = function (range) {\n    var renderer = range.renderer;\n    var style = range.navigatorStyleSettings;\n    var disabledColor = range.disableRangeSelector ? 'transparent' : null;\n    var sliderGroup = renderer.createGroup({\n      'id': this.elementId + '_sliders',\n      style: range.disableRangeSelector ? 'pointer-events:none;' : ''\n    });\n    var option = new RectOption(this.elementId + '_leftUnSelectedArea', disabledColor || style.unselectedRegionColor || range.themeStyle.unselectedRectColor, {\n      width: 0\n    }, 1, {\n      x: range.bounds.x,\n      y: range.bounds.y,\n      width: range.bounds.width / 3,\n      height: range.bounds.height\n    });\n    this.leftUnSelectedElement = renderer.drawRectangle(option);\n    option.id = this.elementId + '_rightUnSelectedArea';\n    this.rightUnSelectedElement = renderer.drawRectangle(option);\n    option.id = this.elementId + '_SelectedArea';\n    option.fill = disabledColor || style.selectedRegionColor || range.themeStyle.selectedRegionColor;\n    this.selectedElement = renderer.drawRectangle(option);\n    this.selectedElement.setAttribute('aria-label', 'Range Slider with ' + range.rangeSlider.points.length + ' data points');\n    this.selectedElement.style.cursor = '-webkit-grab';\n    this.leftSlider = renderer.createGroup({\n      'id': this.elementId + '_LeftSlider',\n      'style': 'cursor: ew-resize'\n    });\n    this.rightSlider = renderer.createGroup({\n      'id': this.elementId + '_RightSlider',\n      'style': 'cursor: ew-resize'\n    });\n    this.createThump(renderer, range.bounds, this.leftSlider, this.elementId + '_LeftSlider', sliderGroup);\n    this.createThump(renderer, range.bounds, this.rightSlider, this.elementId + '_RightSlider');\n    sliderGroup.appendChild(this.leftUnSelectedElement);\n    sliderGroup.appendChild(this.rightUnSelectedElement);\n    sliderGroup.appendChild(this.selectedElement);\n    sliderGroup.appendChild(this.leftSlider);\n    sliderGroup.appendChild(this.rightSlider);\n    range.svgObject.appendChild(sliderGroup);\n  };\n  /**\n   * Thumb creation performed\n   *\n   * @param {SvgRenderer} render SvgRenderer\n   * @param {Rect} bounds bounds\n   * @param {Element} parent parent element\n   * @param {string} id id\n   * @param {Element} sliderGroup sliderGroup\n   */\n  RangeSlider.prototype.createThump = function (render, bounds, parent, id, sliderGroup) {\n    var control = this.control;\n    var thump = control.navigatorStyleSettings.thumb;\n    var style = control.themeStyle;\n    var y = bounds.y + bounds.height / 2;\n    var x = this.thumpPadding;\n    var tickLength = control.themeStyle.thumbHeight / 2 - 5;\n    var disabledColor = control.disableRangeSelector ? 'transparent' : null;\n    var lineColor = disabledColor || thump.border.color || style.thumpLineColor;\n    var shadowElement;\n    parent.appendChild(render.drawPath(new PathOption(id + '_ThumpLine', 'transparent', thump.border.width, control.series.length ? lineColor : 'transparent', 1, null, 'M' + ' ' + x + ' ' + bounds.y + ' ' + 'L' + ' ' + x + ' ' + (bounds.y + bounds.height) + ' ')));\n    this.thumpY = y - control.themeStyle.thumbHeight / 2;\n    this.sliderY = bounds.y > this.thumpY ? this.thumpY : bounds.y;\n    if (sliderGroup && !control.disableRangeSelector) {\n      shadowElement = render.createDefs();\n      shadowElement.innerHTML = '<rect xmlns=\"http://www.w3.org/2000/svg\" id=\"' + this.control.element.id + '_shadow' + '\" x=\"0\" ' + 'y=\"' + this.thumpY + '\" width=\"' + control.themeStyle.thumbWidth + '\" height=\"' + control.themeStyle.thumbHeight + '\"' + ' rx=\"' + (thump.type === 'Circle' ? '50%' : '0%') + '\"/>' + '<filter xmlns=\"http://www.w3.org/2000/svg\" x=\"-25.0%\" y=\"-20.0%\" width=\"150.0%\" height=\"150.0%\"' + ' filterUnits=\"objectBoundingBox\" id=\"ej2-range-shadow\"><feOffset dx=\"0\" dy=\"1\" in=\"SourceAlpha\"' + 'result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"1.5\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/>' + '<feComposite in=\"shadowBlurOuter1\" in2=\"SourceAlpha\" operator=\"out\" result=\"shadowBlurOuter1\"/>' + '<feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0\" type=\"matrix\" in=\"shadowBlurOuter1\"/>' + '</filter>';\n      sliderGroup.appendChild(shadowElement);\n    }\n    parent.innerHTML += '<use xmlns=\"http://www.w3.org/2000/svg\" fill=\"black\" fill-opacity=\"1\" filter=\"url(#ej2-range-shadow)\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#path-1\"/>';\n    if (thump.type === 'Circle') {\n      parent.appendChild(drawSymbol({\n        x: x,\n        y: y\n      }, 'Circle', {\n        width: control.themeStyle.thumbWidth,\n        height: control.themeStyle.thumbHeight\n      }, '', new PathOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, thump.border.width, lineColor, 1, null), 'Thumb'));\n    } else {\n      parent.appendChild(render.drawRectangle(new RectOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, {\n        width: thump.border.width,\n        color: lineColor\n      }, 1, {\n        x: x - control.themeStyle.thumbWidth / 2,\n        y: y - control.themeStyle.thumbHeight / 2,\n        width: control.themeStyle.thumbWidth,\n        height: control.themeStyle.thumbHeight\n      }, 2, 2)));\n    }\n    if (this.thumbVisible) {\n      parent.appendChild(render.drawPath(new PathOption(id + '_ThumpGrip', 'transparent', 1, disabledColor || control.themeStyle.gripColor, 1, null, 'M' + ' ' + (x + 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x + 2) + ' ' + (y - tickLength) + ' ' + 'M' + ' ' + x + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + x + ' ' + (y - tickLength) + ' ' + 'M' + ' ' + (x - 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x - 2) + ' ' + (y - tickLength) + ' ')));\n    }\n  };\n  /**\n   * Set slider value for range navigator\n   */\n  RangeSlider.prototype.setSlider = function (start, end, trigger, showTooltip, resize) {\n    if (resize === void 0) {\n      resize = false;\n    }\n    var range = this.control;\n    var padding = range.bounds.x;\n    var axisRange = range.chartSeries.xAxis.actualRange;\n    var isLeightWeight = range.series.length === 0;\n    if (isNaN(start) && isNaN(end)) {\n      start = 0;\n      end = range.bounds.width;\n    }\n    if (!(end >= start)) {\n      start = [end, end = start][0];\n    }\n    start = end >= start ? start : [end, end = start][0];\n    start = Math.max(start, axisRange.min);\n    end = Math.min(end, axisRange.max);\n    this.startX = padding + getXLocation(start, axisRange, range.bounds.width, range.enableRtl);\n    this.endX = padding + getXLocation(end, axisRange, range.bounds.width, range.enableRtl);\n    var selectedX = range.enableRtl ? this.endX : this.startX;\n    var rightPadding = range.enableRtl ? this.startX : this.endX;\n    this.sliderWidth = Math.abs(this.endX - this.startX);\n    this.selectedElement.setAttribute('x', selectedX + '');\n    this.selectedElement.setAttribute('width', this.sliderWidth + '');\n    this.leftUnSelectedElement.setAttribute('width', selectedX - padding + '');\n    this.rightUnSelectedElement.setAttribute('x', rightPadding + '');\n    this.rightUnSelectedElement.setAttribute('width', range.bounds.width - (rightPadding - padding) + '');\n    this.leftSlider.setAttribute('transform', 'translate(' + (this.startX - this.thumpPadding) + ', 0)');\n    this.rightSlider.setAttribute('transform', 'translate(' + (this.endX - this.thumpPadding) + ', 0)');\n    var left = this.control.svgObject.getBoundingClientRect().left - this.control.element.getBoundingClientRect().left;\n    var leftX = this.control.enableRtl ? this.endX : this.startX;\n    var rightX = this.control.enableRtl ? this.startX : this.endX;\n    this.leftRect = {\n      x: isLeightWeight ? left + padding : padding,\n      y: isLeightWeight ? 0 : range.bounds.y,\n      width: isLeightWeight ? leftX - padding : leftX,\n      height: isLeightWeight ? this.thumpY : range.bounds.height\n    };\n    this.rightRect = {\n      x: isLeightWeight ? left + rightX : rightX,\n      y: isLeightWeight ? 0 : range.bounds.y,\n      width: range.bounds.width - (rightPadding - padding),\n      height: isLeightWeight ? this.thumpY : range.bounds.height\n    };\n    this.midRect = {\n      x: isLeightWeight ? leftX + left : 0,\n      y: isLeightWeight ? 0 : range.bounds.y,\n      width: isLeightWeight ? Math.abs(this.endX - this.startX) : rightX,\n      height: isLeightWeight ? this.thumpY : range.bounds.height\n    };\n    this.currentStart = start;\n    this.currentEnd = end;\n    if (showTooltip) {\n      this.control.rangeTooltipModule.renderLeftTooltip(this);\n      this.control.rangeTooltipModule.renderRightTooltip(this);\n    }\n    if (trigger && !resize) {\n      this.triggerEvent(axisRange);\n    }\n  };\n  /**\n   * Trigger changed event\n   *\n   * @param {VisibleRangeModel} range axis visible range\n   */\n  RangeSlider.prototype.triggerEvent = function (range) {\n    var xAxis = this.control.chartSeries.xAxis;\n    var valueType = xAxis.valueType;\n    var argsData = {\n      cancel: false,\n      start: valueType === 'DateTime' ? new Date(this.currentStart) : valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentStart) : this.currentStart,\n      end: valueType === 'DateTime' ? new Date(this.currentEnd) : valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentEnd) : this.currentEnd,\n      name: 'changed',\n      selectedData: getExactData(this.points, this.currentStart, this.currentEnd),\n      zoomPosition: (this.control.enableRtl ? range.max - this.currentEnd : this.currentStart - range.min) / range.delta,\n      zoomFactor: (this.currentEnd - this.currentStart) / range.delta,\n      selectedPeriod: this.selectedPeriod ? this.selectedPeriod : ''\n    };\n    this.control.trigger('changed', argsData);\n  };\n  /**\n   * @hidden\n   */\n  RangeSlider.prototype.addEventListener = function () {\n    if (this.control.isDestroyed) {\n      return;\n    }\n    this.control.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n    this.control.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n    this.control.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    this.control.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler, this);\n  };\n  /**\n   * @hidden\n   */\n  RangeSlider.prototype.removeEventListener = function () {\n    if (this.control.isDestroyed) {\n      return;\n    }\n    this.control.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n    this.control.off(Browser.touchStartEvent, this.mouseDownHandler);\n    this.control.off(Browser.touchEndEvent, this.mouseUpHandler);\n    this.control.off(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler);\n  };\n  /**\n   * Move move handler perfomed here\n   *\n   * @hidden\n   * @param {PointerEvent} e mouse event argument\n   */\n  RangeSlider.prototype.mouseMoveHandler = function (e) {\n    var control = this.control;\n    var axisRange = control.chartSeries.xAxis.actualRange;\n    var bounds = control.bounds;\n    var start;\n    var end;\n    this.getCurrentSlider(e.target.id);\n    if (this.isDrag && control.mouseX >= bounds.x) {\n      switch (this.currentSlider) {\n        case 'Left':\n          control.startValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n          break;\n        case 'Right':\n          control.endValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n          break;\n        case 'Middle':\n          start = Math.max(this.getRangeValue(Math.abs(this.startX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.min);\n          end = Math.min(this.getRangeValue(Math.abs(this.endX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.max);\n          // eslint-disable-next-line no-case-declarations\n          var currentWidth = Math.floor(Math.abs(getXLocation(end, axisRange, control.bounds.width, control.enableRtl) - getXLocation(start, axisRange, control.bounds.width, control.enableRtl)));\n          if (currentWidth === Math.floor(this.sliderWidth)) {\n            control.startValue = start;\n            control.endValue = end;\n          }\n          break;\n      }\n      if (e.preventDefault && this.isIOS) {\n        e.preventDefault();\n      }\n      if (this.selectedPeriod) {\n        var periodSelectorModule = this.control.periodSelectorModule;\n        if (periodSelectorModule) {\n          var buttons = periodSelectorModule.control.periods;\n          buttons.map(function (period) {\n            period.selected = false;\n          });\n          periodSelectorModule.selectedIndex = undefined;\n          var selectedIndex = periodSelectorModule.findSelectedIndex(control.startValue, control.endValue, buttons);\n          periodSelectorModule.setSelectedStyle(selectedIndex);\n        }\n      }\n      this.setSlider(control.startValue, control.endValue, !control.enableDeferredUpdate, control.rangeTooltipModule && control.tooltip.enable);\n      this.previousMoveX = control.mouseX;\n    }\n  };\n  /**\n   * To get the range value\n   *\n   * @param {number} x xValue\n   */\n  RangeSlider.prototype.getRangeValue = function (x) {\n    var control = this.control;\n    var axisRange = control.chartSeries.xAxis.actualRange;\n    var bounds = control.bounds;\n    return getRangeValueXByPoint(x, bounds.width, axisRange, control.enableRtl);\n  };\n  /**\n   * Moused down handler for slider perform here\n   *\n   * @param {PointerEvent} e mouse event argument\n   */\n  RangeSlider.prototype.mouseDownHandler = function (e) {\n    this.currentSlider = this.getCurrentSlider(e.target.id);\n    this.selectedElement.style.cursor = '-webkit-grabbing';\n    this.isDrag = !(this.currentSlider === 'UnSelectedArea' || !this.currentSlider);\n    this.previousMoveX = this.control.mouseDownX;\n  };\n  /**\n   * To get the current slider element\n   *\n   * @param {string} id slider element id\n   */\n  RangeSlider.prototype.getCurrentSlider = function (id) {\n    var hoverColor = this.control.themeStyle.thumbHoverColor;\n    if (id.indexOf(this.elementId + '_LeftSlider') > -1) {\n      this.leftSlider.childNodes[2].setAttribute('fill', hoverColor);\n      return 'Left';\n    } else if (id.indexOf(this.elementId + '_RightSlider') > -1) {\n      this.rightSlider.childNodes[2].setAttribute('fill', hoverColor);\n      return 'Right';\n    } else if (id.indexOf(this.elementId + '_SelectedArea') > -1) {\n      return 'Middle';\n    } else if (id.indexOf('UnSelectedArea') > -1) {\n      this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      return 'UnSelectedArea';\n    } else if (id.indexOf(this.elementId + '_AxisLabel_') > -1 && this.control.valueType === 'DateTime') {\n      this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n      return 'firstLevelLabels';\n    } else if (id.indexOf(this.elementId + '_SecondaryLabel') > -1 && this.control.valueType === 'DateTime') {\n      this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n      return 'secondLevelLabels';\n    } else {\n      this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n      if (this.control.periodSelectorModule) {\n        this.control.periodSelectorModule.triggerChange = true;\n      }\n      return null;\n    }\n  };\n  /**\n   * Mouse up handler performed here\n   */\n  RangeSlider.prototype.mouseUpHandler = function () {\n    var control = this.control;\n    var range = control.chartSeries.xAxis.actualRange;\n    var trigger = control.enableDeferredUpdate;\n    var enabledTooltip = control.tooltip.enable;\n    if (control.stockChart) {\n      control.stockChart.zoomChange = false;\n    }\n    if (this.currentSlider === 'UnSelectedArea') {\n      var value = void 0;\n      var start = void 0;\n      var end = void 0;\n      var isRtl = control.enableRtl;\n      var difference = control.endValue - control.startValue;\n      if (control.mouseDownX < this.startX) {\n        value = Math.max(this.getRangeValue(control.mouseDownX - this.sliderWidth / 2 - control.bounds.x), range.min);\n        end = isRtl ? value : value + difference;\n        start = isRtl ? value - difference : value;\n      } else {\n        value = Math.min(this.getRangeValue(control.mouseDownX + this.sliderWidth / 2 - control.bounds.x), range.max);\n        start = isRtl ? value : value - difference;\n        end = isRtl ? value + difference : value;\n      }\n      this.performAnimation(start, end, control);\n      trigger = false;\n    } else if (this.currentSlider === 'firstLevelLabels' || this.currentSlider === 'secondLevelLabels') {\n      var secondLabel = control.rangeAxis[this.currentSlider][this.labelIndex + 1];\n      if (this.selectedPeriod) {\n        var periodSelectorModule = this.control.periodSelectorModule;\n        if (periodSelectorModule) {\n          var buttons = periodSelectorModule.control.periods;\n          buttons.map(function (period) {\n            period.selected = false;\n          });\n          periodSelectorModule.selectedIndex = undefined;\n          var selectedIndex = periodSelectorModule.findSelectedIndex(control.rangeAxis[this.currentSlider][this.labelIndex].value, secondLabel ? control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value : range.max, buttons);\n          periodSelectorModule.setSelectedStyle(selectedIndex);\n        }\n      }\n      /**\n       * One millisecond is subtracted from the label to indicate the previous label value\n       */\n      this.performAnimation(control.rangeAxis[this.currentSlider][this.labelIndex].value, secondLabel ? control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value : range.max, control);\n      trigger = false;\n    }\n    if (this.isDrag && control.allowSnapping) {\n      this.setAllowSnapping(control, this.currentStart, this.currentEnd, true, enabledTooltip);\n      trigger = false;\n    }\n    if (trigger) {\n      this.setSlider(this.currentStart, this.currentEnd, true, enabledTooltip);\n    }\n    if (this.currentSlider !== null) {\n      if (this.control.periodSelectorSettings.periods.length > 0) {\n        this.control.periodSelectorModule.triggerChange = false;\n        this.control.periodSelectorModule.datePicker.startDate = new Date(this.currentStart);\n        this.control.periodSelectorModule.datePicker.endDate = new Date(this.currentEnd);\n      }\n    }\n    this.selectedElement.style.cursor = '-webkit-grab';\n    control.startValue = this.currentStart;\n    control.endValue = this.currentEnd;\n    this.isDrag = false;\n    this.labelIndex = null;\n    this.currentSlider = null;\n  };\n  /**\n   * Allow Snapping perfomed here\n   *\n   * @param {RangeNavigator} control RangeNavigator instance\n   * @param {number} start start\n   * @param {number} end end\n   * @param {boolean} trigger trigger\n   * @param {boolean} tooltip tooltip\n   * @private\n   */\n  RangeSlider.prototype.setAllowSnapping = function (control, start, end, trigger, tooltip) {\n    var values = control.rangeAxis.lowerValues;\n    values.push(control.chartSeries.xAxis.actualRange.max);\n    this.setSlider(getNearestValue(values, start), getNearestValue(values, end), trigger, tooltip);\n    control.startValue = this.currentStart;\n    control.endValue = this.currentEnd;\n  };\n  /**\n   * Animation Calculation for slider navigation\n   */\n  RangeSlider.prototype.performAnimation = function (start, end, control, animationDuration) {\n    var _this = this;\n    var currentStart = this.currentStart;\n    var currentEnd = this.currentEnd;\n    var isDeffered = control.enableDeferredUpdate;\n    var enableTooltip = control.tooltip.enable;\n    new Animation({}).animate(createElement('div'), {\n      duration: !isNullOrUndefined(animationDuration) ? animationDuration : this.control.animationDuration,\n      progress: function (args) {\n        _this.setSlider(linear(args.timeStamp, 0, start - currentStart, args.duration) + currentStart, linear(args.timeStamp, 0, end - currentEnd, args.duration) + currentEnd, !isDeffered, enableTooltip);\n      },\n      end: function () {\n        if (control.allowSnapping) {\n          _this.setAllowSnapping(control, start, end, true, enableTooltip);\n        } else {\n          _this.setSlider(start, end, true, enableTooltip);\n        }\n        _this.control.startValue = _this.currentStart;\n        _this.control.endValue = _this.currentEnd;\n        if (_this.control.periodSelectorSettings.periods.length > 0) {\n          _this.control.periodSelectorModule.triggerChange = false;\n          _this.control.periodSelectorModule.datePicker.startDate = new Date(_this.currentStart);\n          _this.control.periodSelectorModule.datePicker.endDate = new Date(_this.currentEnd);\n        }\n      }\n    });\n  };\n  /**\n   * Mouse Cancel Handler\n   */\n  RangeSlider.prototype.mouseCancelHandler = function () {\n    if (this.isDrag && this.control.allowSnapping) {\n      this.setAllowSnapping(this.control, this.currentStart, this.currentEnd, false, this.control.tooltip.enable);\n    }\n    this.isDrag = false;\n    this.currentSlider = null;\n    this.control.startValue = this.currentStart;\n    this.control.endValue = this.currentEnd;\n  };\n  /**\n   * Destroy Method Calling here\n   */\n  RangeSlider.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return RangeSlider;\n}();\nexport { RangeSlider };","map":{"version":3,"names":["Browser","createElement","isNullOrUndefined","RectOption","drawSymbol","linear","getXLocation","getExactData","getRangeValueXByPoint","getNearestValue","PathOption","Animation","RangeSlider","range","control","points","isIOS","isIos","isIos7","thumb","navigatorStyleSettings","thumbVisible","themeStyle","thumbWidth","thumbHeight","elementId","element","id","thumpPadding","addEventListener","thumbColor","disableRangeSelector","fill","thumbBackground","prototype","render","renderer","style","disabledColor","sliderGroup","createGroup","option","unselectedRegionColor","unselectedRectColor","width","x","bounds","y","height","leftUnSelectedElement","drawRectangle","rightUnSelectedElement","selectedRegionColor","selectedElement","setAttribute","rangeSlider","length","cursor","leftSlider","rightSlider","createThump","appendChild","svgObject","parent","thump","tickLength","lineColor","border","color","thumpLineColor","shadowElement","drawPath","series","thumpY","sliderY","createDefs","innerHTML","type","gripColor","setSlider","start","end","trigger","showTooltip","resize","padding","axisRange","chartSeries","xAxis","actualRange","isLeightWeight","isNaN","Math","max","min","startX","enableRtl","endX","selectedX","rightPadding","sliderWidth","abs","left","getBoundingClientRect","leftX","rightX","leftRect","rightRect","midRect","currentStart","currentEnd","rangeTooltipModule","renderLeftTooltip","renderRightTooltip","triggerEvent","valueType","argsData","cancel","Date","pow","logBase","name","selectedData","zoomPosition","delta","zoomFactor","selectedPeriod","isDestroyed","on","touchMoveEvent","mouseMoveHandler","touchStartEvent","mouseDownHandler","touchEndEvent","mouseUpHandler","isPointer","mouseCancelHandler","removeEventListener","off","e","getCurrentSlider","target","isDrag","mouseX","currentSlider","startValue","getRangeValue","endValue","previousMoveX","currentWidth","floor","preventDefault","periodSelectorModule","buttons","periods","map","period","selected","selectedIndex","undefined","findSelectedIndex","setSelectedStyle","enableDeferredUpdate","tooltip","enable","mouseDownX","hoverColor","thumbHoverColor","indexOf","childNodes","labelIndex","substring","lastIndexOf","triggerChange","enabledTooltip","stockChart","zoomChange","value","isRtl","difference","performAnimation","secondLabel","rangeAxis","allowIntervalData","allowSnapping","setAllowSnapping","periodSelectorSettings","datePicker","startDate","endDate","values","lowerValues","push","animationDuration","_this","isDeffered","enableTooltip","animate","duration","progress","args","timeStamp","destroy"],"sources":["/Users/thonghoangdanh/FullStack/birdnest/node_modules/@syncfusion/ej2-charts/src/range-navigator/renderer/slider.js"],"sourcesContent":["import { Browser, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectOption, drawSymbol, linear } from '../../common/utils/helper';\nimport { getXLocation, getExactData, getRangeValueXByPoint, getNearestValue } from '../utils/helper';\nimport { PathOption } from '@syncfusion/ej2-svg-base';\nimport { Animation } from '@syncfusion/ej2-base';\n/**\n * Class for slider\n */\nvar RangeSlider = /** @class */ (function () {\n    function RangeSlider(range) {\n        this.control = range;\n        this.points = [];\n        this.isIOS = Browser.isIos || Browser.isIos7;\n        var thumb = range.navigatorStyleSettings.thumb;\n        this.thumbVisible = (range.themeStyle.thumbWidth !== 0 && range.themeStyle.thumbHeight !== 0);\n        this.elementId = range.element.id;\n        this.thumpPadding = range.themeStyle.thumbWidth / 2;\n        this.addEventListener();\n        this.thumbColor = range.disableRangeSelector ? 'transparent' :\n            (thumb.fill || range.themeStyle.thumbBackground);\n    }\n    /**\n     * Render Slider elements for range navigator\n     *\n     * @param {RangeNavigator} range RangeNavigator instance\n     */\n    RangeSlider.prototype.render = function (range) {\n        var renderer = range.renderer;\n        var style = range.navigatorStyleSettings;\n        var disabledColor = (range.disableRangeSelector) ? 'transparent' : null;\n        var sliderGroup = renderer.createGroup({\n            'id': this.elementId + '_sliders',\n            style: (range.disableRangeSelector) ? 'pointer-events:none;' : ''\n        });\n        var option = new RectOption(this.elementId + '_leftUnSelectedArea', disabledColor || style.unselectedRegionColor || range.themeStyle.unselectedRectColor, { width: 0 }, 1, {\n            x: range.bounds.x, y: range.bounds.y,\n            width: range.bounds.width / 3,\n            height: range.bounds.height\n        });\n        this.leftUnSelectedElement = renderer.drawRectangle(option);\n        option.id = this.elementId + '_rightUnSelectedArea';\n        this.rightUnSelectedElement = renderer.drawRectangle(option);\n        option.id = this.elementId + '_SelectedArea';\n        option.fill = disabledColor || style.selectedRegionColor || range.themeStyle.selectedRegionColor;\n        this.selectedElement = renderer.drawRectangle(option);\n        this.selectedElement.setAttribute('aria-label', 'Range Slider with ' + range.rangeSlider.points.length + ' data points');\n        this.selectedElement.style.cursor = '-webkit-grab';\n        this.leftSlider = renderer.createGroup({\n            'id': this.elementId + '_LeftSlider', 'style': 'cursor: ew-resize'\n        });\n        this.rightSlider = renderer.createGroup({\n            'id': this.elementId + '_RightSlider', 'style': 'cursor: ew-resize'\n        });\n        this.createThump(renderer, range.bounds, this.leftSlider, this.elementId + '_LeftSlider', sliderGroup);\n        this.createThump(renderer, range.bounds, this.rightSlider, this.elementId + '_RightSlider');\n        sliderGroup.appendChild(this.leftUnSelectedElement);\n        sliderGroup.appendChild(this.rightUnSelectedElement);\n        sliderGroup.appendChild(this.selectedElement);\n        sliderGroup.appendChild(this.leftSlider);\n        sliderGroup.appendChild(this.rightSlider);\n        range.svgObject.appendChild(sliderGroup);\n    };\n    /**\n     * Thumb creation performed\n     *\n     * @param {SvgRenderer} render SvgRenderer\n     * @param {Rect} bounds bounds\n     * @param {Element} parent parent element\n     * @param {string} id id\n     * @param {Element} sliderGroup sliderGroup\n     */\n    RangeSlider.prototype.createThump = function (render, bounds, parent, id, sliderGroup) {\n        var control = this.control;\n        var thump = control.navigatorStyleSettings.thumb;\n        var style = control.themeStyle;\n        var y = bounds.y + bounds.height / 2;\n        var x = this.thumpPadding;\n        var tickLength = (control.themeStyle.thumbHeight / 2) - 5;\n        var disabledColor = control.disableRangeSelector ? 'transparent' : null;\n        var lineColor = disabledColor || thump.border.color || style.thumpLineColor;\n        var shadowElement;\n        parent.appendChild(render.drawPath(new PathOption(id + '_ThumpLine', 'transparent', thump.border.width, control.series.length ? lineColor : 'transparent', 1, null, 'M' + ' ' + (x) + ' ' + (bounds.y) + ' ' + 'L' + ' ' + (x) + ' ' + (bounds.y + bounds.height) + ' ')));\n        this.thumpY = y - (control.themeStyle.thumbHeight / 2);\n        this.sliderY = bounds.y > this.thumpY ? this.thumpY : bounds.y;\n        if (sliderGroup && !control.disableRangeSelector) {\n            shadowElement = render.createDefs();\n            shadowElement.innerHTML = '<rect xmlns=\"http://www.w3.org/2000/svg\" id=\"' + this.control.element.id + '_shadow' + '\" x=\"0\" ' +\n                'y=\"' + this.thumpY + '\" width=\"' + control.themeStyle.thumbWidth + '\" height=\"' + control.themeStyle.thumbHeight + '\"' +\n                ' rx=\"' + (thump.type === 'Circle' ? '50%' : '0%') + '\"/>' +\n                '<filter xmlns=\"http://www.w3.org/2000/svg\" x=\"-25.0%\" y=\"-20.0%\" width=\"150.0%\" height=\"150.0%\"' +\n                ' filterUnits=\"objectBoundingBox\" id=\"ej2-range-shadow\"><feOffset dx=\"0\" dy=\"1\" in=\"SourceAlpha\"' +\n                'result=\"shadowOffsetOuter1\"/><feGaussianBlur stdDeviation=\"1.5\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"/>' +\n                '<feComposite in=\"shadowBlurOuter1\" in2=\"SourceAlpha\" operator=\"out\" result=\"shadowBlurOuter1\"/>' +\n                '<feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0\" type=\"matrix\" in=\"shadowBlurOuter1\"/>' +\n                '</filter>';\n            sliderGroup.appendChild(shadowElement);\n        }\n        parent.innerHTML += '<use xmlns=\"http://www.w3.org/2000/svg\" fill=\"black\" fill-opacity=\"1\" filter=\"url(#ej2-range-shadow)\"' +\n            ' xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#path-1\"/>';\n        if (thump.type === 'Circle') {\n            parent.appendChild(drawSymbol({ x: x, y: y }, 'Circle', { width: control.themeStyle.thumbWidth, height: control.themeStyle.thumbHeight }, '', new PathOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, thump.border.width, lineColor, 1, null), 'Thumb'));\n        }\n        else {\n            parent.appendChild(render.drawRectangle(new RectOption(id + '_ThumpSymbol', disabledColor || this.thumbColor, { width: thump.border.width, color: lineColor }, 1, {\n                x: x - (control.themeStyle.thumbWidth / 2), y: y - (control.themeStyle.thumbHeight / 2),\n                width: control.themeStyle.thumbWidth,\n                height: control.themeStyle.thumbHeight\n            }, 2, 2)));\n        }\n        if (this.thumbVisible) {\n            parent.appendChild(render.drawPath(new PathOption(id + '_ThumpGrip', 'transparent', 1, disabledColor || control.themeStyle.gripColor, 1, null, 'M' + ' ' + (x + 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x + 2) + ' ' + (y - tickLength) + ' ' +\n                'M' + ' ' + (x) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x) + ' ' + (y - tickLength) + ' ' +\n                'M' + ' ' + (x - 2) + ' ' + (y + tickLength) + ' ' + 'L' + ' ' + (x - 2) + ' ' + (y - tickLength) + ' ')));\n        }\n    };\n    /**\n     * Set slider value for range navigator\n     */\n    RangeSlider.prototype.setSlider = function (start, end, trigger, showTooltip, resize) {\n        if (resize === void 0) { resize = false; }\n        var range = this.control;\n        var padding = range.bounds.x;\n        var axisRange = range.chartSeries.xAxis.actualRange;\n        var isLeightWeight = range.series.length === 0;\n        if (isNaN(start) && isNaN(end)) {\n            start = 0;\n            end = range.bounds.width;\n        }\n        if (!(end >= start)) {\n            start = [end, end = start][0];\n        }\n        start = end >= start ? start : [end, end = start][0];\n        start = Math.max(start, axisRange.min);\n        end = Math.min(end, axisRange.max);\n        this.startX = padding + getXLocation(start, axisRange, range.bounds.width, range.enableRtl);\n        this.endX = padding + getXLocation(end, axisRange, range.bounds.width, range.enableRtl);\n        var selectedX = range.enableRtl ? this.endX : this.startX;\n        var rightPadding = range.enableRtl ? this.startX : this.endX;\n        this.sliderWidth = Math.abs(this.endX - this.startX);\n        this.selectedElement.setAttribute('x', (selectedX) + '');\n        this.selectedElement.setAttribute('width', this.sliderWidth + '');\n        this.leftUnSelectedElement.setAttribute('width', (selectedX - padding) + '');\n        this.rightUnSelectedElement.setAttribute('x', rightPadding + '');\n        this.rightUnSelectedElement.setAttribute('width', (range.bounds.width - (rightPadding - padding)) + '');\n        this.leftSlider.setAttribute('transform', 'translate(' + (this.startX - this.thumpPadding) + ', 0)');\n        this.rightSlider.setAttribute('transform', 'translate(' + (this.endX - this.thumpPadding) + ', 0)');\n        var left = this.control.svgObject.getBoundingClientRect().left -\n            this.control.element.getBoundingClientRect().left;\n        var leftX = this.control.enableRtl ? this.endX : this.startX;\n        var rightX = this.control.enableRtl ? this.startX : this.endX;\n        this.leftRect = {\n            x: isLeightWeight ? left + padding : padding,\n            y: isLeightWeight ? 0 : range.bounds.y,\n            width: isLeightWeight ? leftX - padding : leftX,\n            height: isLeightWeight ? this.thumpY : range.bounds.height\n        };\n        this.rightRect = {\n            x: isLeightWeight ? left + rightX : rightX,\n            y: isLeightWeight ? 0 : range.bounds.y,\n            width: (range.bounds.width - (rightPadding - padding)),\n            height: isLeightWeight ? this.thumpY : range.bounds.height\n        };\n        this.midRect = {\n            x: isLeightWeight ? leftX + left : 0,\n            y: isLeightWeight ? 0 : range.bounds.y,\n            width: isLeightWeight ? Math.abs(this.endX - this.startX) : rightX,\n            height: isLeightWeight ? this.thumpY : range.bounds.height\n        };\n        this.currentStart = start;\n        this.currentEnd = end;\n        if (showTooltip) {\n            this.control.rangeTooltipModule.renderLeftTooltip(this);\n            this.control.rangeTooltipModule.renderRightTooltip(this);\n        }\n        if (trigger && !resize) {\n            this.triggerEvent(axisRange);\n        }\n    };\n    /**\n     * Trigger changed event\n     *\n     * @param {VisibleRangeModel} range axis visible range\n     */\n    RangeSlider.prototype.triggerEvent = function (range) {\n        var xAxis = this.control.chartSeries.xAxis;\n        var valueType = xAxis.valueType;\n        var argsData = {\n            cancel: false,\n            start: valueType === 'DateTime' ? new Date(this.currentStart) :\n                (valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentStart) : this.currentStart),\n            end: valueType === 'DateTime' ? new Date(this.currentEnd) :\n                (valueType === 'Logarithmic' ? Math.pow(xAxis.logBase, this.currentEnd) : this.currentEnd),\n            name: 'changed',\n            selectedData: getExactData(this.points, this.currentStart, this.currentEnd),\n            zoomPosition: (this.control.enableRtl ? range.max - this.currentEnd :\n                this.currentStart - range.min) / range.delta,\n            zoomFactor: (this.currentEnd - this.currentStart) / range.delta,\n            selectedPeriod: this.selectedPeriod ? this.selectedPeriod : '',\n        };\n        this.control.trigger('changed', argsData);\n    };\n    /**\n     * @hidden\n     */\n    RangeSlider.prototype.addEventListener = function () {\n        if (this.control.isDestroyed) {\n            return;\n        }\n        this.control.on(Browser.touchMoveEvent, this.mouseMoveHandler, this);\n        this.control.on(Browser.touchStartEvent, this.mouseDownHandler, this);\n        this.control.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        this.control.on(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler, this);\n    };\n    /**\n     * @hidden\n     */\n    RangeSlider.prototype.removeEventListener = function () {\n        if (this.control.isDestroyed) {\n            return;\n        }\n        this.control.off(Browser.touchMoveEvent, this.mouseMoveHandler);\n        this.control.off(Browser.touchStartEvent, this.mouseDownHandler);\n        this.control.off(Browser.touchEndEvent, this.mouseUpHandler);\n        this.control.off(Browser.isPointer ? 'pointerleave' : 'mouseleave', this.mouseCancelHandler);\n    };\n    /**\n     * Move move handler perfomed here\n     *\n     * @hidden\n     * @param {PointerEvent} e mouse event argument\n     */\n    RangeSlider.prototype.mouseMoveHandler = function (e) {\n        var control = this.control;\n        var axisRange = control.chartSeries.xAxis.actualRange;\n        var bounds = control.bounds;\n        var start;\n        var end;\n        this.getCurrentSlider(e.target.id);\n        if (this.isDrag && control.mouseX >= bounds.x) {\n            switch (this.currentSlider) {\n                case 'Left':\n                    control.startValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n                    break;\n                case 'Right':\n                    control.endValue = this.getRangeValue(Math.abs(control.mouseX - bounds.x));\n                    break;\n                case 'Middle':\n                    start = Math.max(this.getRangeValue(Math.abs(this.startX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.min);\n                    end = Math.min(this.getRangeValue(Math.abs(this.endX - (this.previousMoveX - control.mouseX) - bounds.x)), axisRange.max);\n                    // eslint-disable-next-line no-case-declarations\n                    var currentWidth = Math.floor(Math.abs(getXLocation(end, axisRange, control.bounds.width, control.enableRtl) -\n                        getXLocation(start, axisRange, control.bounds.width, control.enableRtl)));\n                    if (currentWidth === Math.floor(this.sliderWidth)) {\n                        control.startValue = start;\n                        control.endValue = end;\n                    }\n                    break;\n            }\n            if (e.preventDefault && this.isIOS) {\n                e.preventDefault();\n            }\n            if (this.selectedPeriod) {\n                var periodSelectorModule = this.control.periodSelectorModule;\n                if (periodSelectorModule) {\n                    var buttons = periodSelectorModule.control.periods;\n                    buttons.map(function (period) {\n                        period.selected = false;\n                    });\n                    periodSelectorModule.selectedIndex = undefined;\n                    var selectedIndex = periodSelectorModule.findSelectedIndex(control.startValue, control.endValue, buttons);\n                    periodSelectorModule.setSelectedStyle(selectedIndex);\n                }\n            }\n            this.setSlider(control.startValue, control.endValue, !control.enableDeferredUpdate, (control.rangeTooltipModule && control.tooltip.enable));\n            this.previousMoveX = control.mouseX;\n        }\n    };\n    /**\n     * To get the range value\n     *\n     * @param {number} x xValue\n     */\n    RangeSlider.prototype.getRangeValue = function (x) {\n        var control = this.control;\n        var axisRange = control.chartSeries.xAxis.actualRange;\n        var bounds = control.bounds;\n        return getRangeValueXByPoint(x, bounds.width, axisRange, control.enableRtl);\n    };\n    /**\n     * Moused down handler for slider perform here\n     *\n     * @param {PointerEvent} e mouse event argument\n     */\n    RangeSlider.prototype.mouseDownHandler = function (e) {\n        this.currentSlider = this.getCurrentSlider(e.target.id);\n        this.selectedElement.style.cursor = '-webkit-grabbing';\n        this.isDrag = !(this.currentSlider === 'UnSelectedArea' || !this.currentSlider);\n        this.previousMoveX = this.control.mouseDownX;\n    };\n    /**\n     * To get the current slider element\n     *\n     * @param {string} id slider element id\n     */\n    RangeSlider.prototype.getCurrentSlider = function (id) {\n        var hoverColor = this.control.themeStyle.thumbHoverColor;\n        if (id.indexOf(this.elementId + '_LeftSlider') > -1) {\n            this.leftSlider.childNodes[2].setAttribute('fill', hoverColor);\n            return 'Left';\n        }\n        else if (id.indexOf(this.elementId + '_RightSlider') > -1) {\n            this.rightSlider.childNodes[2].setAttribute('fill', hoverColor);\n            return 'Right';\n        }\n        else if (id.indexOf(this.elementId + '_SelectedArea') > -1) {\n            return 'Middle';\n        }\n        else if (id.indexOf('UnSelectedArea') > -1) {\n            this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            return 'UnSelectedArea';\n        }\n        else if (id.indexOf(this.elementId + '_AxisLabel_') > -1 && this.control.valueType === 'DateTime') {\n            this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n            return 'firstLevelLabels';\n        }\n        else if (id.indexOf(this.elementId + '_SecondaryLabel') > -1 && this.control.valueType === 'DateTime') {\n            this.labelIndex = +id.substring(id.lastIndexOf('_') + 1, id.length);\n            return 'secondLevelLabels';\n        }\n        else {\n            this.leftSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            this.rightSlider.childNodes[2].setAttribute('fill', this.thumbColor);\n            if (this.control.periodSelectorModule) {\n                this.control.periodSelectorModule.triggerChange = true;\n            }\n            return null;\n        }\n    };\n    /**\n     * Mouse up handler performed here\n     */\n    RangeSlider.prototype.mouseUpHandler = function () {\n        var control = this.control;\n        var range = control.chartSeries.xAxis.actualRange;\n        var trigger = control.enableDeferredUpdate;\n        var enabledTooltip = control.tooltip.enable;\n        if (control.stockChart) {\n            control.stockChart.zoomChange = false;\n        }\n        if (this.currentSlider === 'UnSelectedArea') {\n            var value = void 0;\n            var start = void 0;\n            var end = void 0;\n            var isRtl = control.enableRtl;\n            var difference = control.endValue - control.startValue;\n            if (control.mouseDownX < this.startX) {\n                value = Math.max(this.getRangeValue((control.mouseDownX - (this.sliderWidth / 2) - control.bounds.x)), range.min);\n                end = isRtl ? value : (value + difference);\n                start = isRtl ? (value - difference) : value;\n            }\n            else {\n                value = Math.min(this.getRangeValue((control.mouseDownX + (this.sliderWidth / 2) - control.bounds.x)), range.max);\n                start = isRtl ? value : (value - difference);\n                end = isRtl ? (value + difference) : value;\n            }\n            this.performAnimation(start, end, control);\n            trigger = false;\n        }\n        else if (this.currentSlider === 'firstLevelLabels' || this.currentSlider === 'secondLevelLabels') {\n            var secondLabel = control.rangeAxis[this.currentSlider][this.labelIndex + 1];\n            if (this.selectedPeriod) {\n                var periodSelectorModule = this.control.periodSelectorModule;\n                if (periodSelectorModule) {\n                    var buttons = periodSelectorModule.control.periods;\n                    buttons.map(function (period) {\n                        period.selected = false;\n                    });\n                    periodSelectorModule.selectedIndex = undefined;\n                    var selectedIndex = periodSelectorModule.findSelectedIndex(control.rangeAxis[this.currentSlider][this.labelIndex].value, (secondLabel ? (control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value) : range.max), buttons);\n                    periodSelectorModule.setSelectedStyle(selectedIndex);\n                }\n            }\n            /**\n             * One millisecond is subtracted from the label to indicate the previous label value\n             */\n            this.performAnimation(control.rangeAxis[this.currentSlider][this.labelIndex].value, (secondLabel ? (control.allowIntervalData ? secondLabel.value - 1 : secondLabel.value) : range.max), control);\n            trigger = false;\n        }\n        if (this.isDrag && control.allowSnapping) {\n            this.setAllowSnapping(control, this.currentStart, this.currentEnd, true, enabledTooltip);\n            trigger = false;\n        }\n        if (trigger) {\n            this.setSlider(this.currentStart, this.currentEnd, true, enabledTooltip);\n        }\n        if (this.currentSlider !== null) {\n            if (this.control.periodSelectorSettings.periods.length > 0) {\n                this.control.periodSelectorModule.triggerChange = false;\n                this.control.periodSelectorModule.datePicker.startDate = new Date(this.currentStart);\n                this.control.periodSelectorModule.datePicker.endDate = new Date(this.currentEnd);\n            }\n        }\n        this.selectedElement.style.cursor = '-webkit-grab';\n        control.startValue = this.currentStart;\n        control.endValue = this.currentEnd;\n        this.isDrag = false;\n        this.labelIndex = null;\n        this.currentSlider = null;\n    };\n    /**\n     * Allow Snapping perfomed here\n     *\n     * @param {RangeNavigator} control RangeNavigator instance\n     * @param {number} start start\n     * @param {number} end end\n     * @param {boolean} trigger trigger\n     * @param {boolean} tooltip tooltip\n     * @private\n     */\n    RangeSlider.prototype.setAllowSnapping = function (control, start, end, trigger, tooltip) {\n        var values = control.rangeAxis.lowerValues;\n        values.push(control.chartSeries.xAxis.actualRange.max);\n        this.setSlider(getNearestValue(values, start), getNearestValue(values, end), trigger, tooltip);\n        control.startValue = this.currentStart;\n        control.endValue = this.currentEnd;\n    };\n    /**\n     * Animation Calculation for slider navigation\n     */\n    RangeSlider.prototype.performAnimation = function (start, end, control, animationDuration) {\n        var _this = this;\n        var currentStart = this.currentStart;\n        var currentEnd = this.currentEnd;\n        var isDeffered = control.enableDeferredUpdate;\n        var enableTooltip = control.tooltip.enable;\n        new Animation({}).animate(createElement('div'), {\n            duration: !isNullOrUndefined(animationDuration) ? animationDuration : this.control.animationDuration,\n            progress: function (args) {\n                _this.setSlider(linear(args.timeStamp, 0, start - currentStart, args.duration) + currentStart, linear(args.timeStamp, 0, end - currentEnd, args.duration) + currentEnd, !isDeffered, enableTooltip);\n            },\n            end: function () {\n                if (control.allowSnapping) {\n                    _this.setAllowSnapping(control, start, end, true, enableTooltip);\n                }\n                else {\n                    _this.setSlider(start, end, true, enableTooltip);\n                }\n                _this.control.startValue = _this.currentStart;\n                _this.control.endValue = _this.currentEnd;\n                if (_this.control.periodSelectorSettings.periods.length > 0) {\n                    _this.control.periodSelectorModule.triggerChange = false;\n                    _this.control.periodSelectorModule.datePicker.startDate = new Date(_this.currentStart);\n                    _this.control.periodSelectorModule.datePicker.endDate = new Date(_this.currentEnd);\n                }\n            }\n        });\n    };\n    /**\n     * Mouse Cancel Handler\n     */\n    RangeSlider.prototype.mouseCancelHandler = function () {\n        if (this.isDrag && this.control.allowSnapping) {\n            this.setAllowSnapping(this.control, this.currentStart, this.currentEnd, false, this.control.tooltip.enable);\n        }\n        this.isDrag = false;\n        this.currentSlider = null;\n        this.control.startValue = this.currentStart;\n        this.control.endValue = this.currentEnd;\n    };\n    /**\n     * Destroy Method Calling here\n     */\n    RangeSlider.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return RangeSlider;\n}());\nexport { RangeSlider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}