{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-inferrable-types */\nimport { print as printWindow, createElement, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { getElement, removeElement } from '../utils/helper';\nimport { beforePrint, afterExport } from '../model/constants';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap, SizeF, PdfStandardFont, PdfPageTemplateElement, PdfSolidBrush, PdfColor } from '@syncfusion/ej2-pdf-export';\nvar ExportUtils = /** @class */function () {\n  /**\n   * Constructor for chart and accumulation annotation\n   *\n   * @param control\n   */\n  function ExportUtils(control) {\n    this.control = control;\n  }\n  /**\n   * To print the accumulation and chart elements\n   *\n   * @param elements\n   */\n  ExportUtils.prototype.print = function (elements) {\n    this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n    this.printWindow.moveTo(0, 0);\n    this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n    var argsData = {\n      cancel: false,\n      htmlContent: this.getHTMLContent(elements),\n      name: beforePrint\n    };\n    this.control.trigger(beforePrint, argsData);\n    if (!argsData.cancel) {\n      printWindow(argsData.htmlContent, this.printWindow);\n    }\n  };\n  /**\n   * To get the html string of the chart and accumulation\n   *\n   * @param elements\n   * @private\n   */\n  ExportUtils.prototype.getHTMLContent = function (elements) {\n    var div = createElement('div');\n    if (elements) {\n      if (elements instanceof Array) {\n        for (var j = 0; j < elements.length; j++) {\n          var value = elements[j];\n          div.appendChild(getElement(value).cloneNode(true));\n        }\n      } else if (elements instanceof Element) {\n        div.appendChild(elements.cloneNode(true));\n      } else {\n        div.appendChild(getElement(elements).cloneNode(true));\n      }\n    } else {\n      div.appendChild(this.control.element.cloneNode(true));\n    }\n    return div;\n  };\n  /**\n   * To export the file as image/svg format\n   *\n   * @param type\n   * @param fileName\n   */\n  ExportUtils.prototype.export = function (type, fileName, orientation, controls, width, height, isVertical, header, footer) {\n    var _this = this;\n    var controlValue = this.getControlsValue(controls, isVertical);\n    width = width ? width : controlValue.width;\n    height = height ? height : controlValue.height;\n    var element = this.control.svgObject;\n    var isCanvas = this.control.enableCanvas;\n    var image;\n    if (!isCanvas) {\n      element = createElement('canvas', {\n        id: 'ej2-canvas',\n        attrs: {\n          'width': width.toString(),\n          'height': height.toString()\n        }\n      });\n    }\n    var isDownload = !(Browser.userAgent.toString().indexOf('HeadlessChrome') > -1);\n    orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n    var svgData = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' + controlValue.svg.outerHTML + '</svg>';\n    var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] : [new XMLSerializer().serializeToString(controlValue.svg)], {\n      type: 'image/svg+xml'\n    }));\n    if (type === 'SVG') {\n      if (Browser.info.name === 'msie') {\n        var svg = new Blob([new XMLSerializer().serializeToString(controlValue.svg)], {\n          type: 'application/octet-stream'\n        });\n        window.navigator.msSaveOrOpenBlob(svg, fileName + '.' + type.toLocaleLowerCase());\n      } else {\n        this.triggerDownload(fileName, type, url, isDownload);\n      }\n    } else if (Browser.info.name === 'msie') {\n      var canvas = element;\n      if (!isCanvas) {\n        canvas = this.createCanvas();\n      }\n      image = canvas.toDataURL();\n      if (type === 'PDF') {\n        this.exportPdf(canvas, orientation, width, height, isDownload, fileName, header, footer);\n      } else {\n        this.doexport(type, image, fileName);\n      }\n    } else {\n      var image_1 = new Image();\n      var ctx_1 = element.getContext('2d');\n      image_1.onload = function () {\n        ctx_1.drawImage(image_1, 0, 0);\n        window.URL.revokeObjectURL(url);\n        if (type === 'PDF') {\n          _this.exportPdf(element, orientation, width, height, isDownload, fileName, header, footer);\n        } else {\n          if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveOrOpenBlob(element.toBlob(null), fileName + '.' + type.toLocaleLowerCase());\n          } else {\n            _this.triggerDownload(fileName, type, element.toDataURL('image/' + type.toLowerCase()), isDownload);\n          }\n        }\n      };\n      image_1.src = url;\n    }\n    if (!isCanvas) {\n      removeElement(document.getElementById(this.control.element.id + '_canvas'));\n    }\n  };\n  /**\n   * To get data url for charts.\n   *\n   * @param chart\n   */\n  ExportUtils.prototype.getDataUrl = function (chart) {\n    var controlValue = this.getControlsValue([chart]);\n    var element = this.control.svgObject;\n    var isCanvas = this.control.enableCanvas;\n    if (!isCanvas) {\n      element = createElement('canvas', {\n        id: 'ej2-canvas',\n        attrs: {\n          'width': controlValue.width.toString(),\n          'height': controlValue.height.toString()\n        }\n      });\n    }\n    var url = window.URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(controlValue.svg)], {\n      type: 'image/svg+xml'\n    }));\n    if (Browser.info.name === 'msie') {\n      var canvas = element;\n      if (!isCanvas) {\n        canvas = this.createCanvas();\n      }\n      var argsData = {\n        name: afterExport,\n        cancel: false,\n        dataUrl: element.toDataURL('image/png')\n      };\n      chart.trigger(afterExport, argsData);\n      return {\n        element: canvas,\n        dataUrl: canvas.toDataURL()\n      };\n    } else {\n      var image_2 = new Image();\n      var ctx_2 = element.getContext('2d');\n      image_2.onload = function () {\n        ctx_2.drawImage(image_2, 0, 0);\n        window.URL.revokeObjectURL(url);\n        var argsData = {\n          name: afterExport,\n          cancel: false,\n          dataUrl: element.toDataURL('image/png')\n        };\n        chart.trigger(afterExport, argsData);\n        return argsData.dataUrl;\n      };\n      image_2.src = url;\n      return {\n        element: element,\n        blobUrl: url\n      };\n    }\n  };\n  /**\n   * To trigger the download element\n   *\n   * @param fileName\n   * @param type\n   * @param url\n   */\n  ExportUtils.prototype.triggerDownload = function (fileName, type, url, isDownload) {\n    createElement('a', {\n      attrs: {\n        'download': fileName + '.' + type.toLocaleLowerCase(),\n        'href': url\n      }\n    }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n      view: window,\n      bubbles: false,\n      cancelable: true\n    }));\n  };\n  /**\n   * To get the maximum size value\n   *\n   * @param controls\n   * @param name\n   */\n  // eslint-disable-next-line max-len\n  ExportUtils.prototype.getControlsValue = function (controls, isVertical) {\n    var width = 0;\n    var height = 0;\n    var isCanvas = this.control.enableCanvas;\n    var svgObject = new SvgRenderer('').createSvg({\n      id: 'Svg_Export_Element',\n      width: 200,\n      height: 200\n    });\n    var backgroundColor;\n    controls.map(function (control) {\n      var svg = control.svgObject.cloneNode(true);\n      var groupEle = control.renderer.createGroup({\n        style: isNullOrUndefined(isVertical) || isVertical ? 'transform: translateY(' + height + 'px)' : 'transform: translateX(' + width + 'px)'\n      });\n      backgroundColor = svg.childNodes[0] ? svg.childNodes[0].getAttribute('fill') : 'transparent';\n      if (backgroundColor === 'transparent') {\n        if (control.theme.indexOf(\"Dark\") > -1 || control.theme === \"HighContrast\") {\n          backgroundColor = 'rgba(0, 0, 0, 1)';\n        } else {\n          backgroundColor = 'rgba(255, 255, 255, 1)';\n        }\n      }\n      if (!isCanvas) {\n        groupEle.appendChild(svg);\n      }\n      var top = 0;\n      var left = 0;\n      if (control.stockLegendModule && control.legendSettings.visible) {\n        if (control.legendSettings.position === \"Bottom\" || control.legendSettings.position === \"Top\" || control.legendSettings.position === \"Auto\") {\n          top += control.stockLegendModule.legendBounds.height;\n        } else if (control.legendSettings.position === \"Left\" || control.legendSettings.position === \"Right\") {\n          left += control.stockLegendModule.legendBounds.width;\n        }\n      }\n      width = isNullOrUndefined(isVertical) || isVertical ? Math.max(control.availableSize.width + left, width) : width + control.availableSize.width + left;\n      height = isNullOrUndefined(isVertical) || isVertical ? height + control.availableSize.height + top : Math.max(control.availableSize.height + top, height);\n      if (!isCanvas) {\n        svgObject.appendChild(groupEle);\n      }\n    });\n    if (!isCanvas) {\n      svgObject.setAttribute('width', width + '');\n      svgObject.setAttribute('height', height + '');\n      svgObject.setAttribute('style', 'background-color: ' + backgroundColor + ';');\n    }\n    return {\n      'width': width,\n      'height': height,\n      'svg': svgObject\n    };\n  };\n  ExportUtils.prototype.createCanvas = function () {\n    var chart = this.control;\n    this.canvasRender(true, chart);\n    var canvas = chart.svgObject;\n    this.canvasRender(false, chart);\n    return canvas;\n  };\n  /**\n   * To convert svg chart into canvas chart to fix export issue in IE\n   * We cant export svg to other formats in IE\n   *\n   * @param enableCanvas\n   * @param chart\n   * @param enableCanvas\n   * @param chart\n   */\n  ExportUtils.prototype.canvasRender = function (enableCanvas, chart) {\n    chart.enableCanvas = enableCanvas;\n    chart['preRender']();\n    chart['render']();\n  };\n  // eslint-disable-next-line max-len\n  ExportUtils.prototype.exportPdf = function (element, orientation, width, height, isDownload, fileName, header, footer) {\n    var document = new PdfDocument();\n    var margin = document.pageSettings.margins;\n    var pdfDefaultWidth = document.pageSettings.width;\n    var pdfDefaultHeight = document.pageSettings.height;\n    var imageString = element.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n    document.pageSettings.orientation = orientation;\n    var exactWidth = pdfDefaultWidth < width ? width + margin.left + margin.right : pdfDefaultWidth;\n    var exactHeight = pdfDefaultHeight < height ? height + margin.top + margin.bottom : pdfDefaultHeight;\n    if (header !== undefined) {\n      var font = new PdfStandardFont(1, header.fontSize || 15);\n      var pdfHeader = new PdfPageTemplateElement(exactWidth, 40);\n      pdfHeader.graphics.drawString(header.content + '', font, null, new PdfSolidBrush(new PdfColor(0, 0, 0)), header.x, header.y, null);\n      document.template.top = pdfHeader;\n    }\n    if (footer !== undefined) {\n      var font = new PdfStandardFont(1, footer.fontSize || 15);\n      var pdfFooter = new PdfPageTemplateElement(exactWidth, 40);\n      pdfFooter.graphics.drawString(footer.content + '', font, null, new PdfSolidBrush(new PdfColor(0, 0, 0)), footer.x, footer.y, null);\n      document.template.bottom = pdfFooter;\n    }\n    document.pageSettings.size = new SizeF(exactWidth, exactHeight);\n    imageString = imageString.slice(imageString.indexOf(',') + 1);\n    document.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, width, height);\n    if (isDownload) {\n      document.save(fileName + '.pdf');\n      document.destroy();\n    }\n  };\n  ExportUtils.prototype.doexport = function (type, image, fileName) {\n    var images = [];\n    var fileType = type || 'JPG';\n    images = [image];\n    this.exportImage(images, fileName, fileType, image);\n  };\n  ExportUtils.prototype.exportImage = function (images, fileName, fileType, image) {\n    var buffers = [];\n    var length = !(images instanceof HTMLElement) ? images.length : 0;\n    for (var g = 0; g < length; g++) {\n      image = images[g];\n      image = image.replace(/^data:[a-z]*;,/, '');\n      var image1 = image.split(',');\n      var byteString = atob(image1[1]);\n      var buffer = new ArrayBuffer(byteString.length);\n      var intArray = new Uint8Array(buffer);\n      for (var i = 0; i < byteString.length; i++) {\n        intArray[i] = byteString.charCodeAt(i);\n      }\n      buffers.push(buffer);\n    }\n    for (var j = 0; j < buffers.length; j++) {\n      var b = new Blob([buffers[j]], {\n        type: 'application/octet-stream'\n      });\n      if (Browser.info.name === 'msie') {\n        window.navigator.msSaveOrOpenBlob(b, fileName + '.' + fileType.toLocaleLowerCase());\n      }\n    }\n  };\n  return ExportUtils;\n}();\nexport { ExportUtils };","map":{"version":3,"names":["print","printWindow","createElement","isNullOrUndefined","Browser","SvgRenderer","getElement","removeElement","beforePrint","afterExport","PdfPageOrientation","PdfDocument","PdfBitmap","SizeF","PdfStandardFont","PdfPageTemplateElement","PdfSolidBrush","PdfColor","ExportUtils","control","prototype","elements","window","open","outerHeight","outerWidth","moveTo","resizeTo","screen","availWidth","availHeight","argsData","cancel","htmlContent","getHTMLContent","name","trigger","div","Array","j","length","value","appendChild","cloneNode","Element","element","export","type","fileName","orientation","controls","width","height","isVertical","header","footer","_this","controlValue","getControlsValue","svgObject","isCanvas","enableCanvas","image","id","attrs","toString","isDownload","userAgent","indexOf","Landscape","svgData","svg","outerHTML","url","URL","createObjectURL","Blob","XMLSerializer","serializeToString","info","navigator","msSaveOrOpenBlob","toLocaleLowerCase","triggerDownload","canvas","createCanvas","toDataURL","exportPdf","doexport","image_1","Image","ctx_1","getContext","onload","drawImage","revokeObjectURL","toBlob","toLowerCase","src","document","getElementById","getDataUrl","chart","dataUrl","image_2","ctx_2","blobUrl","dispatchEvent","MouseEvent","view","bubbles","cancelable","createSvg","backgroundColor","map","groupEle","renderer","createGroup","style","childNodes","getAttribute","theme","top","left","stockLegendModule","legendSettings","visible","position","legendBounds","Math","max","availableSize","setAttribute","canvasRender","margin","pageSettings","margins","pdfDefaultWidth","pdfDefaultHeight","imageString","replace","exactWidth","right","exactHeight","bottom","undefined","font","fontSize","pdfHeader","graphics","drawString","content","x","y","template","pdfFooter","size","slice","pages","add","save","destroy","images","fileType","exportImage","buffers","HTMLElement","g","image1","split","byteString","atob","buffer","ArrayBuffer","intArray","Uint8Array","i","charCodeAt","push","b"],"sources":["/Users/thonghoangdanh/FullStack/birdnest/node_modules/@syncfusion/ej2-charts/src/common/utils/export.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-inferrable-types */\nimport { print as printWindow, createElement, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { getElement, removeElement } from '../utils/helper';\nimport { beforePrint, afterExport } from '../model/constants';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap, SizeF, PdfStandardFont, PdfPageTemplateElement, PdfSolidBrush, PdfColor } from '@syncfusion/ej2-pdf-export';\nvar ExportUtils = /** @class */ (function () {\n    /**\n     * Constructor for chart and accumulation annotation\n     *\n     * @param control\n     */\n    function ExportUtils(control) {\n        this.control = control;\n    }\n    /**\n     * To print the accumulation and chart elements\n     *\n     * @param elements\n     */\n    ExportUtils.prototype.print = function (elements) {\n        this.printWindow = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWindow.moveTo(0, 0);\n        this.printWindow.resizeTo(screen.availWidth, screen.availHeight);\n        var argsData = {\n            cancel: false, htmlContent: this.getHTMLContent(elements), name: beforePrint\n        };\n        this.control.trigger(beforePrint, argsData);\n        if (!argsData.cancel) {\n            printWindow(argsData.htmlContent, this.printWindow);\n        }\n    };\n    /**\n     * To get the html string of the chart and accumulation\n     *\n     * @param elements\n     * @private\n     */\n    ExportUtils.prototype.getHTMLContent = function (elements) {\n        var div = createElement('div');\n        if (elements) {\n            if (elements instanceof Array) {\n                for (var j = 0; j < elements.length; j++) {\n                    var value = elements[j];\n                    div.appendChild(getElement(value).cloneNode(true));\n                }\n            }\n            else if (elements instanceof Element) {\n                div.appendChild(elements.cloneNode(true));\n            }\n            else {\n                div.appendChild(getElement(elements).cloneNode(true));\n            }\n        }\n        else {\n            div.appendChild(this.control.element.cloneNode(true));\n        }\n        return div;\n    };\n    /**\n     * To export the file as image/svg format\n     *\n     * @param type\n     * @param fileName\n     */\n    ExportUtils.prototype.export = function (type, fileName, orientation, controls, width, height, isVertical, header, footer) {\n        var _this = this;\n        var controlValue = this.getControlsValue(controls, isVertical);\n        width = width ? width : controlValue.width;\n        height = height ? height : controlValue.height;\n        var element = this.control.svgObject;\n        var isCanvas = this.control.enableCanvas;\n        var image;\n        if (!isCanvas) {\n            element = createElement('canvas', {\n                id: 'ej2-canvas',\n                attrs: {\n                    'width': width.toString(),\n                    'height': height.toString()\n                }\n            });\n        }\n        var isDownload = !(Browser.userAgent.toString().indexOf('HeadlessChrome') > -1);\n        orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n        var svgData = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' +\n            controlValue.svg.outerHTML +\n            '</svg>';\n        var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] :\n            [(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'image/svg+xml' }));\n        if (type === 'SVG') {\n            if (Browser.info.name === 'msie') {\n                var svg = new Blob([(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'application/octet-stream' });\n                window.navigator.msSaveOrOpenBlob(svg, fileName + '.' + type.toLocaleLowerCase());\n            }\n            else {\n                this.triggerDownload(fileName, type, url, isDownload);\n            }\n        }\n        else if (Browser.info.name === 'msie') {\n            var canvas = element;\n            if (!isCanvas) {\n                canvas = this.createCanvas();\n            }\n            image = canvas.toDataURL();\n            if (type === 'PDF') {\n                this.exportPdf(canvas, orientation, width, height, isDownload, fileName, header, footer);\n            }\n            else {\n                this.doexport(type, image, fileName);\n            }\n        }\n        else {\n            var image_1 = new Image();\n            var ctx_1 = element.getContext('2d');\n            image_1.onload = (function () {\n                ctx_1.drawImage(image_1, 0, 0);\n                window.URL.revokeObjectURL(url);\n                if (type === 'PDF') {\n                    _this.exportPdf(element, orientation, width, height, isDownload, fileName, header, footer);\n                }\n                else {\n                    if (window.navigator.msSaveOrOpenBlob) {\n                        window.navigator.msSaveOrOpenBlob(element.toBlob(null), fileName + '.' + type.toLocaleLowerCase());\n                    }\n                    else {\n                        _this.triggerDownload(fileName, type, element.toDataURL('image/' + type.toLowerCase()), isDownload);\n                    }\n                }\n            });\n            image_1.src = url;\n        }\n        if (!isCanvas) {\n            removeElement(document.getElementById(this.control.element.id + '_canvas'));\n        }\n    };\n    /**\n     * To get data url for charts.\n     *\n     * @param chart\n     */\n    ExportUtils.prototype.getDataUrl = function (chart) {\n        var controlValue = this.getControlsValue([chart]);\n        var element = this.control.svgObject;\n        var isCanvas = this.control.enableCanvas;\n        if (!isCanvas) {\n            element = createElement('canvas', {\n                id: 'ej2-canvas',\n                attrs: {\n                    'width': controlValue.width.toString(),\n                    'height': controlValue.height.toString()\n                }\n            });\n        }\n        var url = window.URL.createObjectURL(new Blob([(new XMLSerializer()).serializeToString(controlValue.svg)], { type: 'image/svg+xml' }));\n        if (Browser.info.name === 'msie') {\n            var canvas = element;\n            if (!isCanvas) {\n                canvas = this.createCanvas();\n            }\n            var argsData = {\n                name: afterExport, cancel: false, dataUrl: element.toDataURL('image/png')\n            };\n            chart.trigger(afterExport, argsData);\n            return { element: canvas, dataUrl: canvas.toDataURL() };\n        }\n        else {\n            var image_2 = new Image();\n            var ctx_2 = element.getContext('2d');\n            image_2.onload = (function () {\n                ctx_2.drawImage(image_2, 0, 0);\n                window.URL.revokeObjectURL(url);\n                var argsData = {\n                    name: afterExport, cancel: false, dataUrl: element.toDataURL('image/png')\n                };\n                chart.trigger(afterExport, argsData);\n                return argsData.dataUrl;\n            });\n            image_2.src = url;\n            return { element: element, blobUrl: url };\n        }\n    };\n    /**\n     * To trigger the download element\n     *\n     * @param fileName\n     * @param type\n     * @param url\n     */\n    ExportUtils.prototype.triggerDownload = function (fileName, type, url, isDownload) {\n        createElement('a', {\n            attrs: {\n                'download': fileName + '.' + type.toLocaleLowerCase(),\n                'href': url\n            }\n        }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n            view: window,\n            bubbles: false,\n            cancelable: true\n        }));\n    };\n    /**\n     * To get the maximum size value\n     *\n     * @param controls\n     * @param name\n     */\n    // eslint-disable-next-line max-len\n    ExportUtils.prototype.getControlsValue = function (controls, isVertical) {\n        var width = 0;\n        var height = 0;\n        var isCanvas = this.control.enableCanvas;\n        var svgObject = new SvgRenderer('').createSvg({\n            id: 'Svg_Export_Element',\n            width: 200, height: 200\n        });\n        var backgroundColor;\n        controls.map(function (control) {\n            var svg = control.svgObject.cloneNode(true);\n            var groupEle = control.renderer.createGroup({\n                style: (isNullOrUndefined(isVertical) || isVertical) ? 'transform: translateY(' + height + 'px)' :\n                    'transform: translateX(' + width + 'px)'\n            });\n            backgroundColor = svg.childNodes[0] ? svg.childNodes[0].getAttribute('fill') : 'transparent';\n            if (backgroundColor === 'transparent') {\n                if (control.theme.indexOf(\"Dark\") > -1 || control.theme === \"HighContrast\") {\n                    backgroundColor = 'rgba(0, 0, 0, 1)';\n                }\n                else {\n                    backgroundColor = 'rgba(255, 255, 255, 1)';\n                }\n            }\n            if (!isCanvas) {\n                groupEle.appendChild(svg);\n            }\n            var top = 0;\n            var left = 0;\n            if (control.stockLegendModule && control.legendSettings.visible) {\n                if (control.legendSettings.position === \"Bottom\" || control.legendSettings.position === \"Top\"\n                    || control.legendSettings.position === \"Auto\") {\n                    top += control.stockLegendModule.legendBounds.height;\n                }\n                else if (control.legendSettings.position === \"Left\" || control.legendSettings.position === \"Right\") {\n                    left += control.stockLegendModule.legendBounds.width;\n                }\n            }\n            width = (isNullOrUndefined(isVertical) || isVertical) ? Math.max(control.availableSize.width + left, width) :\n                width + control.availableSize.width + left;\n            height = (isNullOrUndefined(isVertical) || isVertical) ? height + control.availableSize.height + top :\n                Math.max(control.availableSize.height + top, height);\n            if (!isCanvas) {\n                svgObject.appendChild(groupEle);\n            }\n        });\n        if (!isCanvas) {\n            svgObject.setAttribute('width', width + '');\n            svgObject.setAttribute('height', height + '');\n            svgObject.setAttribute('style', 'background-color: ' + backgroundColor + ';');\n        }\n        return {\n            'width': width,\n            'height': height,\n            'svg': svgObject\n        };\n    };\n    ExportUtils.prototype.createCanvas = function () {\n        var chart = this.control;\n        this.canvasRender(true, chart);\n        var canvas = chart.svgObject;\n        this.canvasRender(false, chart);\n        return canvas;\n    };\n    /**\n     * To convert svg chart into canvas chart to fix export issue in IE\n     * We cant export svg to other formats in IE\n     *\n     * @param enableCanvas\n     * @param chart\n     * @param enableCanvas\n     * @param chart\n     */\n    ExportUtils.prototype.canvasRender = function (enableCanvas, chart) {\n        chart.enableCanvas = enableCanvas;\n        chart['preRender']();\n        chart['render']();\n    };\n    // eslint-disable-next-line max-len\n    ExportUtils.prototype.exportPdf = function (element, orientation, width, height, isDownload, fileName, header, footer) {\n        var document = new PdfDocument();\n        var margin = document.pageSettings.margins;\n        var pdfDefaultWidth = document.pageSettings.width;\n        var pdfDefaultHeight = document.pageSettings.height;\n        var imageString = element.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n        document.pageSettings.orientation = orientation;\n        var exactWidth = (pdfDefaultWidth < width) ? (width + margin.left + margin.right) : pdfDefaultWidth;\n        var exactHeight = (pdfDefaultHeight < height) ? (height + margin.top + margin.bottom) : pdfDefaultHeight;\n        if (header !== undefined) {\n            var font = new PdfStandardFont(1, header.fontSize || 15);\n            var pdfHeader = new PdfPageTemplateElement(exactWidth, 40);\n            pdfHeader.graphics.drawString(header.content + '', font, null, new PdfSolidBrush(new PdfColor(0, 0, 0)), header.x, header.y, null);\n            document.template.top = pdfHeader;\n        }\n        if (footer !== undefined) {\n            var font = new PdfStandardFont(1, footer.fontSize || 15);\n            var pdfFooter = new PdfPageTemplateElement(exactWidth, 40);\n            pdfFooter.graphics.drawString(footer.content + '', font, null, new PdfSolidBrush(new PdfColor(0, 0, 0)), footer.x, footer.y, null);\n            document.template.bottom = pdfFooter;\n        }\n        document.pageSettings.size = new SizeF(exactWidth, exactHeight);\n        imageString = imageString.slice(imageString.indexOf(',') + 1);\n        document.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, width, height);\n        if (isDownload) {\n            document.save(fileName + '.pdf');\n            document.destroy();\n        }\n    };\n    ExportUtils.prototype.doexport = function (type, image, fileName) {\n        var images = [];\n        var fileType = type || 'JPG';\n        images = [image];\n        this.exportImage(images, fileName, fileType, image);\n    };\n    ExportUtils.prototype.exportImage = function (images, fileName, fileType, image) {\n        var buffers = [];\n        var length = (!(images instanceof HTMLElement)) ? images.length : 0;\n        for (var g = 0; g < length; g++) {\n            image = images[g];\n            image = image.replace(/^data:[a-z]*;,/, '');\n            var image1 = image.split(',');\n            var byteString = atob(image1[1]);\n            var buffer = new ArrayBuffer(byteString.length);\n            var intArray = new Uint8Array(buffer);\n            for (var i = 0; i < byteString.length; i++) {\n                intArray[i] = byteString.charCodeAt(i);\n            }\n            buffers.push(buffer);\n        }\n        for (var j = 0; j < buffers.length; j++) {\n            var b = new Blob([buffers[j]], { type: 'application/octet-stream' });\n            if (Browser.info.name === 'msie') {\n                window.navigator.msSaveOrOpenBlob(b, fileName + '.' + fileType.toLocaleLowerCase());\n            }\n        }\n    };\n    return ExportUtils;\n}());\nexport { ExportUtils };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}