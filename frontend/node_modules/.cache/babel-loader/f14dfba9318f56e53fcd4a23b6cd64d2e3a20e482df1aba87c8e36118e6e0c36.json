{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { withIn, PointData, textElement, getElement, valueToCoefficient, drawSymbol, ChartLocation } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\nimport { Tooltip, PathOption, TextOption, measureText, Size } from '@syncfusion/ej2-svg-base';\nimport { createElement, remove } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { stockEventRender } from '../../common/model/constants';\n/**\n * @private\n */\nvar StockEvents = /** @class */function (_super) {\n  __extends(StockEvents, _super);\n  function StockEvents(stockChart) {\n    var _this = _super.call(this, stockChart.chart) || this;\n    /** @private */\n    _this.symbolLocations = [];\n    _this.stockChart = stockChart;\n    _this.chartId = _this.stockChart.element.id;\n    return _this;\n  }\n  /**\n   * To render stock events in chart\n   *\n   * @returns {Element} Stock event element\n   * @private\n   */\n  StockEvents.prototype.renderStockEvents = function () {\n    var sChart = this.stockChart;\n    var stockEvent;\n    var stockEventElement;\n    var textSize;\n    // Creation of group elements for stock events\n    var stockEventsElementGroup = sChart.renderer.createGroup({\n      id: this.chartId + '_StockEvents'\n    });\n    this.symbolLocations = initialArray(sChart.series.length, sChart.stockEvents.length, new ChartLocation(0, 0));\n    for (var i = 0; i < sChart.stockEvents.length; i++) {\n      stockEvent = this.stockChart.stockEvents[i];\n      for (var _i = 0, _a = sChart.chart.series; _i < _a.length; _i++) {\n        var series = _a[_i];\n        var argsData = {\n          name: stockEventRender,\n          stockChart: sChart,\n          text: stockEvent.text,\n          type: stockEvent.type,\n          cancel: false,\n          series: series\n        };\n        sChart.trigger(stockEventRender, argsData);\n        stockEvent.text = argsData.text;\n        stockEvent.type = argsData.type;\n        textSize = measureText(stockEvent.text + 'W', stockEvent.textStyle);\n        if (!argsData.cancel) {\n          stockEventElement = sChart.renderer.createGroup({\n            id: this.chartId + '_Series_' + series.index + '_StockEvents_' + i\n          });\n          var stockEventDate = this.dateParse(stockEvent.date).getTime();\n          if (withIn(stockEventDate, series.xAxis.visibleRange)) {\n            if (stockEvent.seriesIndexes.length > 0) {\n              for (var j = 0; j < stockEvent.seriesIndexes.length; j++) {\n                if (stockEvent.seriesIndexes[j] === series.index) {\n                  stockEventsElementGroup.appendChild(this.creatEventGroup(stockEventElement, series, stockEvent, i, textSize));\n                }\n              }\n            } else {\n              stockEventsElementGroup.appendChild(this.creatEventGroup(stockEventElement, series, stockEvent, i, textSize));\n            }\n          }\n        }\n      }\n    }\n    return stockEventsElementGroup;\n  };\n  StockEvents.prototype.creatEventGroup = function (stockEventElement, series, stockEvent, i, textSize) {\n    var symbolLocation = this.findClosePoint(series, stockEvent);\n    if (!stockEvent.showOnSeries) {\n      symbolLocation.y = series.yAxis.rect.y + series.yAxis.rect.height;\n    }\n    this.symbolLocations[series.index][i] = symbolLocation;\n    this.createStockElements(stockEventElement, stockEvent, series, i, symbolLocation, textSize);\n    return stockEventElement;\n  };\n  StockEvents.prototype.findClosePoint = function (series, sEvent) {\n    var stockEventDate = this.dateParse(sEvent.date).getTime();\n    var closeIndex = this.getClosest(series, stockEventDate);\n    var pointData;\n    var point;\n    var yPixel;\n    for (var k = 0; k < series.points.length; k++) {\n      point = series.points[k];\n      if (closeIndex === point.xValue && point.visible) {\n        pointData = new PointData(point, series);\n      } else if (k !== 0 && k !== series.points.length) {\n        if (closeIndex > series.points[k - 1].xValue && closeIndex < series.points[k + 1].xValue) {\n          pointData = new PointData(point, series);\n        }\n      }\n    }\n    var xPixel = series.xAxis.rect.x + valueToCoefficient(pointData.point.xValue, series.xAxis) * series.xAxis.rect.width;\n    yPixel = valueToCoefficient(pointData.point[sEvent.placeAt], series.yAxis) * series.yAxis.rect.height;\n    yPixel = yPixel * -1 + (series.yAxis.rect.y + series.yAxis.rect.height);\n    return new ChartLocation(xPixel, yPixel);\n  };\n  StockEvents.prototype.createStockElements = function (stockEventElement, stockEve, series, i, symbolLocation, textSize) {\n    var result = new Size(textSize.width > 20 ? textSize.width : 20, textSize.height > 20 ? textSize.height : 20);\n    var pathString;\n    var pathOption;\n    var lx = symbolLocation.x;\n    var ly = symbolLocation.y;\n    var stockId = this.chartId + '_Series_' + series.index + '_StockEvents_' + i;\n    var border = stockEve.border;\n    switch (stockEve.type) {\n      case 'Flag':\n      case 'Circle':\n      case 'Square':\n        stockEventElement.appendChild(drawSymbol(new ChartLocation(lx, ly), 'Circle', new Size(2, 2), '', new PathOption(stockId + '_Circle', 'transparent', border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n        stockEventElement.appendChild(drawSymbol(new ChartLocation(lx, ly - 5), 'VerticalLine', new Size(9, 9), '', new PathOption(stockId + '_Path', border.color, border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n        stockEventElement.appendChild(drawSymbol(new ChartLocation(stockEve.type !== 'Flag' ? lx : lx + result.width / 2, ly - result.height), stockEve.type, result, '', new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n        textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', stockEve.type !== 'Flag' ? symbolLocation.x : symbolLocation.x + result.width / 2, symbolLocation.y - result.height, 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowRight':\n      case 'ArrowLeft':\n        pathString = 'M' + ' ' + lx + ' ' + ly + ' ' + this.findArrowpaths(stockEve.type);\n        pathOption = new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color, 1, '', pathString);\n        stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));\n        break;\n      case 'Triangle':\n      case 'InvertedTriangle':\n        result.height = 3 * textSize.height;\n        result.width = textSize.width + 1.5 * textSize.width;\n        stockEventElement.appendChild(drawSymbol(new ChartLocation(symbolLocation.x, symbolLocation.y), stockEve.type, new Size(20, 20), '', new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n        textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', symbolLocation.x, symbolLocation.y, 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n        break;\n      case 'Text':\n        textSize.height += 8; //padding for text height\n        pathString = 'M' + ' ' + lx + ' ' + ly + ' ' + 'L' + ' ' + (lx - 5) + ' ' + (ly - 5) + ' ' + 'L' + ' ' + (lx - textSize.width / 2) + ' ' + (ly - 5) + ' ' + 'L' + ' ' + (lx - textSize.width / 2) + ' ' + (ly - textSize.height) + ' ' + 'L' + ' ' + (lx + textSize.width / 2) + ' ' + (ly - textSize.height) + ' ' + 'L' + ' ' + (lx + textSize.width / 2) + ' ' + (ly - 5) + ' ' + 'L' + ' ' + (lx + 5) + ' ' + (ly - 5) + ' ' + 'Z';\n        pathOption = new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color, 1, '', pathString);\n        stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));\n        textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', lx, ly - textSize.height / 2, 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n        break;\n      default:\n        //pin type calculation.\n        pathString = 'M' + ' ' + lx + ' ' + ly + ' ' + 'L' + ' ' + (lx - textSize.width / 2) + ' ' + (ly - textSize.height / 3) + ' ' + 'L' + ' ' + (lx - textSize.width / 2) + ' ' + (ly - textSize.height) + ' ' + 'L' + ' ' + (lx + textSize.width / 2) + ' ' + (ly - textSize.height) + ' ' + 'L' + ' ' + (lx + textSize.width / 2) + ' ' + (ly - textSize.height / 3) + ' ' + 'Z';\n        pathOption = new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color, 1, '', pathString);\n        stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));\n        //append text element\n        textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', lx, ly - textSize.height / 2, 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n    }\n  };\n  StockEvents.prototype.renderStockEventTooltip = function (targetId) {\n    var seriesIndex = parseInt(targetId.split('_StockEvents_')[0].split(this.chartId + '_Series_')[1], 10);\n    var pointIndex = parseInt(targetId.split('_StockEvents_')[1].replace(/\\D+/g, ''), 10);\n    var updatedLocation = this.symbolLocations[seriesIndex][pointIndex];\n    var pointLocation = new ChartLocation(updatedLocation.x, updatedLocation.y + this.stockChart.toolbarHeight + this.stockChart.titleSize.height);\n    this.applyHighLights(pointIndex, seriesIndex);\n    //title size and toolbar height is added location for placing tooltip\n    var svgElement = this.getElement(this.chartId + '_StockEvents_Tooltip_svg');\n    var isTooltip = svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0;\n    if (!isTooltip) {\n      if (getElement(this.chartId + '_StockEvents_Tooltip_svg')) {\n        remove(getElement(this.chartId + '_StockEvents_Tooltip'));\n      }\n      var tooltipElement = createElement('div', {\n        id: this.chartId + '_StockEvents_Tooltip',\n        className: 'ejSVGTooltip',\n        attrs: {\n          'style': 'pointer-events:none; position:absolute;z-index: 1'\n        }\n      });\n      getElement(this.chartId + '_Secondary_Element').appendChild(tooltipElement);\n      this.stockEventTooltip = new Tooltip({\n        opacity: 1,\n        header: '',\n        content: [this.stockChart.stockEvents[pointIndex].description],\n        enableAnimation: true,\n        location: pointLocation,\n        theme: this.stockChart.theme,\n        inverted: true,\n        areaBounds: this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect\n      });\n      this.stockEventTooltip.areaBounds.y += this.stockChart.toolbarHeight + this.stockChart.titleSize.height;\n      this.stockEventTooltip.appendTo('#' + tooltipElement.id);\n    } else {\n      this.stockEventTooltip.content = [this.stockChart.stockEvents[pointIndex].description];\n      this.stockEventTooltip.location = pointLocation;\n      this.stockEventTooltip.dataBind();\n    }\n  };\n  /**\n   * Remove the stock event tooltip\n   *\n   * @param {number} duration tooltip timeout duration\n   * @returns {void}\n   */\n  StockEvents.prototype.removeStockEventTooltip = function (duration) {\n    var _this = this;\n    var tooltipElement = this.getElement(this.chartId + '_StockEvents_Tooltip');\n    this.stopAnimation();\n    if (tooltipElement && this.stockEventTooltip) {\n      this.toolTipInterval = +setTimeout(function () {\n        _this.stockEventTooltip.fadeOut();\n        _this.removeHighLights();\n      }, duration);\n    }\n  };\n  StockEvents.prototype.findArrowpaths = function (type) {\n    var arrowString = '';\n    switch (type) {\n      case 'ArrowUp':\n        arrowString = 'l -10 10 l 5 0 l 0 10 l 10 0 l 0 -10 l 5 0 z';\n        break;\n      case 'ArrowDown':\n        arrowString = 'l -10 -10 l 5 0 l 0 -10 l 10 0 l 0 10 l 5 0 z';\n        break;\n      case 'ArrowLeft':\n        arrowString = 'l -10 -10 l 0 5 l -10 0 l 0 10 l 10 0 l 0 5 z';\n        break;\n      case 'ArrowRight':\n        arrowString = 'l 10 -10 l 0 5 l 10 0 l 0 10 l -10 0 l 0 5 z';\n        break;\n    }\n    return arrowString;\n  };\n  StockEvents.prototype.applyHighLights = function (pointIndex, seriesIndex) {\n    if (this.pointIndex !== pointIndex || this.seriesIndex !== seriesIndex) {\n      this.removeHighLights();\n    }\n    this.pointIndex = pointIndex;\n    this.seriesIndex = seriesIndex;\n    var stockId = this.chartId + '_Series_' + seriesIndex + '_StockEvents_' + pointIndex;\n    this.setOpacity(stockId + '_Shape', 0.5);\n    this.setOpacity(stockId + '_Text', 0.5);\n  };\n  StockEvents.prototype.removeHighLights = function () {\n    var stockId = this.chartId + '_Series_' + this.seriesIndex + '_StockEvents_' + this.pointIndex;\n    this.setOpacity(stockId + '_Shape', 1);\n    this.setOpacity(stockId + '_Text', 1);\n  };\n  StockEvents.prototype.setOpacity = function (elementId, opacity) {\n    if (getElement(elementId)) {\n      getElement(elementId).setAttribute('opacity', opacity.toString());\n    }\n  };\n  /**\n   * To convert the c# or javascript date formats into js format\n   * refer chart control's dateTime processing.\n   *\n   * @param {Date | string} value date or string value\n   * @returns {Date} date format value\n   */\n  StockEvents.prototype.dateParse = function (value) {\n    var dateParser = this.chart.intl.getDateParser({\n      skeleton: 'full',\n      type: 'dateTime'\n    });\n    var dateFormatter = this.chart.intl.getDateFormat({\n      skeleton: 'full',\n      type: 'dateTime'\n    });\n    return new Date(Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({\n      val: value\n    }).val)))));\n  };\n  return StockEvents;\n}(BaseTooltip);\nexport { StockEvents };\n// eslint-disable-next-line valid-jsdoc\n/**\n * To initialthe array\n *\n * @param {number} numrows numrows\n * @param {number} numcols numcols\n * @param {ChartLocation} initial initial\n * @returns {ChartLocation[][]} ChartLocation\n */\nfunction initialArray(numrows, numcols, initial) {\n  var arr = [];\n  for (var i = 0; i < numrows; ++i) {\n    var columns = [];\n    for (var j = 0; j < numcols; ++j) {\n      columns[j] = initial;\n    }\n    arr[i] = columns;\n  }\n  return arr;\n}","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","withIn","PointData","textElement","getElement","valueToCoefficient","drawSymbol","ChartLocation","BaseTooltip","Tooltip","PathOption","TextOption","measureText","Size","createElement","remove","DataUtil","stockEventRender","StockEvents","_super","stockChart","_this","call","chart","symbolLocations","chartId","element","id","renderStockEvents","sChart","stockEvent","stockEventElement","textSize","stockEventsElementGroup","renderer","createGroup","initialArray","series","length","stockEvents","i","_i","_a","argsData","name","text","type","cancel","trigger","textStyle","index","stockEventDate","dateParse","date","getTime","xAxis","visibleRange","seriesIndexes","j","appendChild","creatEventGroup","symbolLocation","findClosePoint","showOnSeries","y","yAxis","rect","height","createStockElements","sEvent","closeIndex","getClosest","pointData","point","yPixel","k","points","xValue","visible","xPixel","x","width","placeAt","stockEve","result","pathString","pathOption","lx","ly","stockId","border","color","toISOString","background","findArrowpaths","drawPath","renderStockEventTooltip","targetId","seriesIndex","parseInt","split","pointIndex","replace","updatedLocation","pointLocation","toolbarHeight","titleSize","applyHighLights","svgElement","isTooltip","getAttribute","tooltipElement","className","attrs","stockEventTooltip","opacity","header","content","description","enableAnimation","location","theme","inverted","areaBounds","chartAxisLayoutPanel","seriesClipRect","appendTo","dataBind","removeStockEventTooltip","duration","stopAnimation","toolTipInterval","setTimeout","fadeOut","removeHighLights","arrowString","setOpacity","elementId","setAttribute","toString","value","dateParser","intl","getDateParser","skeleton","dateFormatter","getDateFormat","Date","parse","parseJson","val","numrows","numcols","initial","arr","columns"],"sources":["/Users/thonghoangdanh/FullStack/birdnest/node_modules/@syncfusion/ej2-charts/src/stock-chart/renderer/stock-events.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { withIn, PointData, textElement, getElement, valueToCoefficient, drawSymbol, ChartLocation } from '../../common/utils/helper';\nimport { BaseTooltip } from '../../common/user-interaction/tooltip';\nimport { Tooltip, PathOption, TextOption, measureText, Size } from '@syncfusion/ej2-svg-base';\nimport { createElement, remove } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { stockEventRender } from '../../common/model/constants';\n/**\n * @private\n */\nvar StockEvents = /** @class */ (function (_super) {\n    __extends(StockEvents, _super);\n    function StockEvents(stockChart) {\n        var _this = _super.call(this, stockChart.chart) || this;\n        /** @private */\n        _this.symbolLocations = [];\n        _this.stockChart = stockChart;\n        _this.chartId = _this.stockChart.element.id;\n        return _this;\n    }\n    /**\n     * To render stock events in chart\n     *\n     * @returns {Element} Stock event element\n     * @private\n     */\n    StockEvents.prototype.renderStockEvents = function () {\n        var sChart = this.stockChart;\n        var stockEvent;\n        var stockEventElement;\n        var textSize;\n        // Creation of group elements for stock events\n        var stockEventsElementGroup = sChart.renderer.createGroup({ id: this.chartId + '_StockEvents' });\n        this.symbolLocations = initialArray(sChart.series.length, sChart.stockEvents.length, new ChartLocation(0, 0));\n        for (var i = 0; i < sChart.stockEvents.length; i++) {\n            stockEvent = this.stockChart.stockEvents[i];\n            for (var _i = 0, _a = sChart.chart.series; _i < _a.length; _i++) {\n                var series = _a[_i];\n                var argsData = {\n                    name: stockEventRender, stockChart: sChart, text: stockEvent.text,\n                    type: stockEvent.type, cancel: false, series: series\n                };\n                sChart.trigger(stockEventRender, argsData);\n                stockEvent.text = argsData.text;\n                stockEvent.type = argsData.type;\n                textSize = measureText(stockEvent.text + 'W', stockEvent.textStyle);\n                if (!argsData.cancel) {\n                    stockEventElement = sChart.renderer.createGroup({ id: this.chartId + '_Series_' + series.index + '_StockEvents_' + i });\n                    var stockEventDate = this.dateParse(stockEvent.date).getTime();\n                    if (withIn(stockEventDate, series.xAxis.visibleRange)) {\n                        if (stockEvent.seriesIndexes.length > 0) {\n                            for (var j = 0; j < stockEvent.seriesIndexes.length; j++) {\n                                if (stockEvent.seriesIndexes[j] === series.index) {\n                                    stockEventsElementGroup.appendChild(this.creatEventGroup(stockEventElement, series, stockEvent, i, textSize));\n                                }\n                            }\n                        }\n                        else {\n                            stockEventsElementGroup.appendChild(this.creatEventGroup(stockEventElement, series, stockEvent, i, textSize));\n                        }\n                    }\n                }\n            }\n        }\n        return stockEventsElementGroup;\n    };\n    StockEvents.prototype.creatEventGroup = function (stockEventElement, series, stockEvent, i, textSize) {\n        var symbolLocation = this.findClosePoint(series, stockEvent);\n        if (!stockEvent.showOnSeries) {\n            symbolLocation.y = series.yAxis.rect.y + series.yAxis.rect.height;\n        }\n        this.symbolLocations[series.index][i] = symbolLocation;\n        this.createStockElements(stockEventElement, stockEvent, series, i, symbolLocation, textSize);\n        return stockEventElement;\n    };\n    StockEvents.prototype.findClosePoint = function (series, sEvent) {\n        var stockEventDate = this.dateParse(sEvent.date).getTime();\n        var closeIndex = this.getClosest(series, stockEventDate);\n        var pointData;\n        var point;\n        var yPixel;\n        for (var k = 0; k < series.points.length; k++) {\n            point = series.points[k];\n            if (closeIndex === point.xValue && point.visible) {\n                pointData = new PointData(point, series);\n            }\n            else if (k !== 0 && k !== series.points.length) {\n                if (closeIndex > series.points[k - 1].xValue && closeIndex < series.points[k + 1].xValue) {\n                    pointData = new PointData(point, series);\n                }\n            }\n        }\n        var xPixel = series.xAxis.rect.x + valueToCoefficient(pointData.point.xValue, series.xAxis) * series.xAxis.rect.width;\n        yPixel = valueToCoefficient(pointData.point[sEvent.placeAt], series.yAxis) * series.yAxis.rect.height;\n        yPixel = (yPixel * -1) + (series.yAxis.rect.y + series.yAxis.rect.height);\n        return new ChartLocation(xPixel, yPixel);\n    };\n    StockEvents.prototype.createStockElements = function (stockEventElement, stockEve, series, i, symbolLocation, textSize) {\n        var result = new Size(textSize.width > 20 ? textSize.width : 20, textSize.height > 20 ? textSize.height : 20);\n        var pathString;\n        var pathOption;\n        var lx = symbolLocation.x;\n        var ly = symbolLocation.y;\n        var stockId = this.chartId + '_Series_' + series.index + '_StockEvents_' + i;\n        var border = stockEve.border;\n        switch (stockEve.type) {\n            case 'Flag':\n            case 'Circle':\n            case 'Square':\n                stockEventElement.appendChild(drawSymbol(new ChartLocation(lx, ly), 'Circle', new Size(2, 2), '', new PathOption(stockId + '_Circle', 'transparent', border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n                stockEventElement.appendChild(drawSymbol(new ChartLocation(lx, ly - 5), 'VerticalLine', new Size(9, 9), '', new PathOption(stockId + '_Path', border.color, border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n                stockEventElement.appendChild(drawSymbol(new ChartLocation(stockEve.type !== 'Flag' ? lx : lx + result.width / 2, ly - result.height), stockEve.type, result, '', new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n                textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', stockEve.type !== 'Flag' ? symbolLocation.x : symbolLocation.x + result.width / 2, (symbolLocation.y - result.height), 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n                break;\n            case 'ArrowUp':\n            case 'ArrowDown':\n            case 'ArrowRight':\n            case 'ArrowLeft':\n                pathString = 'M' + ' ' + lx + ' ' + ly + ' ' + this.findArrowpaths(stockEve.type);\n                pathOption = new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color, 1, '', pathString);\n                stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));\n                break;\n            case 'Triangle':\n            case 'InvertedTriangle':\n                result.height = 3 * textSize.height;\n                result.width = textSize.width + (1.5 * textSize.width);\n                stockEventElement.appendChild(drawSymbol(new ChartLocation(symbolLocation.x, symbolLocation.y), stockEve.type, new Size(20, 20), '', new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color), this.dateParse(stockEve.date).toISOString()));\n                textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', symbolLocation.x, symbolLocation.y, 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n                break;\n            case 'Text':\n                textSize.height += 8; //padding for text height\n                pathString = 'M' + ' ' + (lx) + ' ' + (ly) + ' ' +\n                    'L' + ' ' + (lx - 5) + ' ' + (ly - 5) + ' ' +\n                    'L' + ' ' + (lx - ((textSize.width) / 2)) + ' ' + (ly - 5) + ' ' +\n                    'L' + ' ' + (lx - ((textSize.width) / 2)) + ' ' + (ly - textSize.height) + ' ' +\n                    'L' + ' ' + (lx + ((textSize.width) / 2)) + ' ' + (ly - textSize.height) + ' ' +\n                    'L' + ' ' + (lx + ((textSize.width) / 2)) + ' ' + (ly - 5) + ' ' +\n                    'L' + ' ' + (lx + 5) + ' ' + (ly - 5) + ' ' + 'Z';\n                pathOption = new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color, 1, '', pathString);\n                stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));\n                textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', lx, ly - (textSize.height / 2), 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n                break;\n            default:\n                //pin type calculation.\n                pathString = 'M' + ' ' + lx + ' ' + ly + ' ' +\n                    'L' + ' ' + (lx - ((textSize.width) / 2)) + ' ' + (ly - textSize.height / 3) + ' ' +\n                    'L' + ' ' + (lx - ((textSize.width) / 2)) + ' ' + (ly - textSize.height) + ' ' +\n                    'L' + ' ' + (lx + ((textSize.width) / 2)) + ' ' + (ly - textSize.height) + ' ' +\n                    'L' + ' ' + (lx + ((textSize.width) / 2)) + ' ' + (ly - textSize.height / 3) + ' ' + 'Z';\n                pathOption = new PathOption(stockId + '_Shape', stockEve.background, border.width, border.color, 1, '', pathString);\n                stockEventElement.appendChild(this.stockChart.renderer.drawPath(pathOption));\n                //append text element\n                textElement(this.stockChart.renderer, new TextOption(stockId + '_Text', lx, ly - (textSize.height / 2), 'middle', stockEve.text, '', 'middle'), stockEve.textStyle, stockEve.textStyle.color, stockEventElement);\n        }\n    };\n    StockEvents.prototype.renderStockEventTooltip = function (targetId) {\n        var seriesIndex = parseInt((targetId.split('_StockEvents_')[0]).split(this.chartId + '_Series_')[1], 10);\n        var pointIndex = parseInt(targetId.split('_StockEvents_')[1].replace(/\\D+/g, ''), 10);\n        var updatedLocation = this.symbolLocations[seriesIndex][pointIndex];\n        var pointLocation = new ChartLocation(updatedLocation.x, updatedLocation.y + this.stockChart.toolbarHeight + this.stockChart.titleSize.height);\n        this.applyHighLights(pointIndex, seriesIndex);\n        //title size and toolbar height is added location for placing tooltip\n        var svgElement = this.getElement(this.chartId + '_StockEvents_Tooltip_svg');\n        var isTooltip = (svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0);\n        if (!isTooltip) {\n            if (getElement(this.chartId + '_StockEvents_Tooltip_svg')) {\n                remove(getElement(this.chartId + '_StockEvents_Tooltip'));\n            }\n            var tooltipElement = createElement('div', {\n                id: this.chartId + '_StockEvents_Tooltip', className: 'ejSVGTooltip',\n                attrs: { 'style': 'pointer-events:none; position:absolute;z-index: 1' }\n            });\n            getElement(this.chartId + '_Secondary_Element').appendChild(tooltipElement);\n            this.stockEventTooltip = new Tooltip({\n                opacity: 1,\n                header: '', content: [(this.stockChart.stockEvents[pointIndex].description)],\n                enableAnimation: true, location: pointLocation,\n                theme: this.stockChart.theme,\n                inverted: true,\n                areaBounds: this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect\n            });\n            this.stockEventTooltip.areaBounds.y += this.stockChart.toolbarHeight + this.stockChart.titleSize.height;\n            this.stockEventTooltip.appendTo('#' + tooltipElement.id);\n        }\n        else {\n            this.stockEventTooltip.content = [(this.stockChart.stockEvents[pointIndex].description)];\n            this.stockEventTooltip.location = pointLocation;\n            this.stockEventTooltip.dataBind();\n        }\n    };\n    /**\n     * Remove the stock event tooltip\n     *\n     * @param {number} duration tooltip timeout duration\n     * @returns {void}\n     */\n    StockEvents.prototype.removeStockEventTooltip = function (duration) {\n        var _this = this;\n        var tooltipElement = this.getElement(this.chartId + '_StockEvents_Tooltip');\n        this.stopAnimation();\n        if (tooltipElement && this.stockEventTooltip) {\n            this.toolTipInterval = +setTimeout(function () {\n                _this.stockEventTooltip.fadeOut();\n                _this.removeHighLights();\n            }, duration);\n        }\n    };\n    StockEvents.prototype.findArrowpaths = function (type) {\n        var arrowString = '';\n        switch (type) {\n            case 'ArrowUp':\n                arrowString = 'l -10 10 l 5 0 l 0 10 l 10 0 l 0 -10 l 5 0 z';\n                break;\n            case 'ArrowDown':\n                arrowString = 'l -10 -10 l 5 0 l 0 -10 l 10 0 l 0 10 l 5 0 z';\n                break;\n            case 'ArrowLeft':\n                arrowString = 'l -10 -10 l 0 5 l -10 0 l 0 10 l 10 0 l 0 5 z';\n                break;\n            case 'ArrowRight':\n                arrowString = 'l 10 -10 l 0 5 l 10 0 l 0 10 l -10 0 l 0 5 z';\n                break;\n        }\n        return arrowString;\n    };\n    StockEvents.prototype.applyHighLights = function (pointIndex, seriesIndex) {\n        if (this.pointIndex !== pointIndex || this.seriesIndex !== seriesIndex) {\n            this.removeHighLights();\n        }\n        this.pointIndex = pointIndex;\n        this.seriesIndex = seriesIndex;\n        var stockId = this.chartId + '_Series_' + seriesIndex + '_StockEvents_' + pointIndex;\n        this.setOpacity(stockId + '_Shape', 0.5);\n        this.setOpacity(stockId + '_Text', 0.5);\n    };\n    StockEvents.prototype.removeHighLights = function () {\n        var stockId = this.chartId + '_Series_' + this.seriesIndex + '_StockEvents_' + this.pointIndex;\n        this.setOpacity(stockId + '_Shape', 1);\n        this.setOpacity(stockId + '_Text', 1);\n    };\n    StockEvents.prototype.setOpacity = function (elementId, opacity) {\n        if (getElement(elementId)) {\n            getElement(elementId).setAttribute('opacity', opacity.toString());\n        }\n    };\n    /**\n     * To convert the c# or javascript date formats into js format\n     * refer chart control's dateTime processing.\n     *\n     * @param {Date | string} value date or string value\n     * @returns {Date} date format value\n     */\n    StockEvents.prototype.dateParse = function (value) {\n        var dateParser = this.chart.intl.getDateParser({ skeleton: 'full', type: 'dateTime' });\n        var dateFormatter = this.chart.intl.getDateFormat({ skeleton: 'full', type: 'dateTime' });\n        return new Date((Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: value }).val))))));\n    };\n    return StockEvents;\n}(BaseTooltip));\nexport { StockEvents };\n// eslint-disable-next-line valid-jsdoc\n/**\n * To initialthe array\n *\n * @param {number} numrows numrows\n * @param {number} numcols numcols\n * @param {ChartLocation} initial initial\n * @returns {ChartLocation[][]} ChartLocation\n */\nfunction initialArray(numrows, numcols, initial) {\n    var arr = [];\n    for (var i = 0; i < numrows; ++i) {\n        var columns = [];\n        for (var j = 0; j < numcols; ++j) {\n            columns[j] = initial;\n        }\n        arr[i] = columns;\n    }\n    return arr;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}