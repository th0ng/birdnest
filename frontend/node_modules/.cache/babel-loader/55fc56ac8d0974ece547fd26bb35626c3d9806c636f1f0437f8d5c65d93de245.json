{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable valid-jsdoc */\n/* eslint-disable jsdoc/require-param */\n/* eslint-disable @typescript-eslint/no-inferrable-types */\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { measureText, Rect, TextOption, Size, PathOption } from '@syncfusion/ej2-svg-base';\nimport { Font, Border, Margin, ContainerPadding } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { subtractThickness, Thickness, drawSymbol, ChartLocation, titlePositionX, getTitle, textTrim, getTextAnchor } from '../utils/helper';\nimport { RectOption, textElement, stringToNumber } from '../utils/helper';\nimport { removeElement, showTooltip, getElement, appendChildElement } from '../utils/helper';\n/**\n * Configures the location for the legend.\n */\nvar Location = /** @class */function (_super) {\n  __extends(Location, _super);\n  function Location() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(0)], Location.prototype, \"x\", void 0);\n  __decorate([Property(0)], Location.prototype, \"y\", void 0);\n  return Location;\n}(ChildProperty);\nexport { Location };\n/**\n * Configures the legends in charts.\n */\nvar LegendSettings = /** @class */function (_super) {\n  __extends(LegendSettings, _super);\n  function LegendSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(true)], LegendSettings.prototype, \"visible\", void 0);\n  __decorate([Property(null)], LegendSettings.prototype, \"height\", void 0);\n  __decorate([Property(null)], LegendSettings.prototype, \"width\", void 0);\n  __decorate([Complex({\n    x: 0,\n    y: 0\n  }, Location)], LegendSettings.prototype, \"location\", void 0);\n  __decorate([Property('Auto')], LegendSettings.prototype, \"position\", void 0);\n  __decorate([Property('Series')], LegendSettings.prototype, \"mode\", void 0);\n  __decorate([Property(8)], LegendSettings.prototype, \"padding\", void 0);\n  __decorate([Property(null)], LegendSettings.prototype, \"itemPadding\", void 0);\n  __decorate([Property('Center')], LegendSettings.prototype, \"alignment\", void 0);\n  __decorate([Complex(Theme.legendLabelFont, Font)], LegendSettings.prototype, \"textStyle\", void 0);\n  __decorate([Property(10)], LegendSettings.prototype, \"shapeHeight\", void 0);\n  __decorate([Property(10)], LegendSettings.prototype, \"shapeWidth\", void 0);\n  __decorate([Complex({}, Border)], LegendSettings.prototype, \"border\", void 0);\n  __decorate([Complex({\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  }, Margin)], LegendSettings.prototype, \"margin\", void 0);\n  __decorate([Complex({\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  }, ContainerPadding)], LegendSettings.prototype, \"containerPadding\", void 0);\n  __decorate([Property(8)], LegendSettings.prototype, \"shapePadding\", void 0);\n  __decorate([Property('transparent')], LegendSettings.prototype, \"background\", void 0);\n  __decorate([Property(1)], LegendSettings.prototype, \"opacity\", void 0);\n  __decorate([Property(true)], LegendSettings.prototype, \"toggleVisibility\", void 0);\n  __decorate([Property(false)], LegendSettings.prototype, \"enableHighlight\", void 0);\n  __decorate([Property(null)], LegendSettings.prototype, \"description\", void 0);\n  __decorate([Property(3)], LegendSettings.prototype, \"tabIndex\", void 0);\n  __decorate([Property(null)], LegendSettings.prototype, \"title\", void 0);\n  __decorate([Complex(Theme.legendTitleFont, Font)], LegendSettings.prototype, \"titleStyle\", void 0);\n  __decorate([Property('Top')], LegendSettings.prototype, \"titlePosition\", void 0);\n  __decorate([Property('Normal')], LegendSettings.prototype, \"textWrap\", void 0);\n  __decorate([Property('Ellipsis')], LegendSettings.prototype, \"textOverflow\", void 0);\n  __decorate([Property(100)], LegendSettings.prototype, \"maximumTitleWidth\", void 0);\n  __decorate([Property(null)], LegendSettings.prototype, \"maximumLabelWidth\", void 0);\n  __decorate([Property(true)], LegendSettings.prototype, \"enablePages\", void 0);\n  __decorate([Property(false)], LegendSettings.prototype, \"isInversed\", void 0);\n  __decorate([Property(false)], LegendSettings.prototype, \"reverse\", void 0);\n  return LegendSettings;\n}(ChildProperty);\nexport { LegendSettings };\n/**\n * Legend base class for Chart and Accumulation chart.\n *\n * @private\n */\nvar BaseLegend = /** @class */function () {\n  /**\n   * Constructor for the dateTime module.\n   *\n   * @private\n   */\n  function BaseLegend(chart) {\n    this.maxItemHeight = 0;\n    this.rowHeights = [];\n    this.pageHeights = [];\n    this.columnHeights = [];\n    this.pageXCollections = []; // pages of x locations\n    this.chartRowCount = 1;\n    this.legendTitleCollections = [];\n    this.legendRegions = [];\n    this.pagingRegions = [];\n    this.chart = chart;\n    this.legend = chart.legendSettings;\n    this.legendID = chart.element.id + '_chart_legend';\n    this.isChartControl = chart.getModuleName() === 'chart';\n    this.isAccChartControl = chart.getModuleName() === 'accumulationchart';\n    this.isBulletChartControl = chart.getModuleName() === 'bulletChart';\n    this.isStockChartControl = chart.getModuleName() === 'stockChart';\n    this.bulletChart = this.chart;\n    this.fivePixel = 5;\n    this.rowCount = 0;\n    this.pageButtonSize = 8;\n    this.maxColumns = 0;\n    this.maxWidth = 0;\n    this.currentPage = 1;\n    this.backwardArrowOpacity = 0;\n    this.forwardArrowOpacity = 1;\n    this.arrowWidth = 2 * (this.fivePixel + this.pageButtonSize + this.fivePixel);\n    this.arrowHeight = this.arrowWidth;\n    this.isTop = false;\n    this.isTitle = false;\n    this.currentPageNumber = 1;\n  }\n  /**\n   * Calculate the bounds for the legends.\n   *\n   * @returns {void}\n   * @private\n   */\n  BaseLegend.prototype.calculateLegendBounds = function (rect, availableSize, maxLabelSize) {\n    var legend = this.legend;\n    var defaultValue = this.isBulletChartControl ? '40%' : '20%';\n    this.getPosition(legend.position, availableSize);\n    this.legendBounds = new Rect(rect.x, rect.y, 0, 0);\n    this.isVertical = this.position === 'Left' || this.position === 'Right';\n    this.itemPadding = this.legend.itemPadding ? this.legend.itemPadding : this.isVertical ? this.legend.padding : 20;\n    if (this.isVertical) {\n      this.legendBounds.height = stringToNumber(legend.height, availableSize.height - (rect.y - this.chart.margin.top)) || rect.height;\n      this.legendBounds.width = stringToNumber(legend.width || defaultValue, availableSize.width);\n    } else {\n      this.legendBounds.width = stringToNumber(legend.width, availableSize.width) || rect.width;\n      this.legendBounds.height = stringToNumber(legend.height || defaultValue, availableSize.height);\n    }\n    this.library.getLegendBounds(availableSize, this.legendBounds, legend);\n    if (!this.isBulletChartControl) {\n      this.legendBounds.width += this.legend.containerPadding.left + this.legend.containerPadding.right;\n      this.legendBounds.height += this.legend.containerPadding.top + this.legend.containerPadding.bottom;\n    }\n    this.getLocation(this.position, legend.alignment, this.legendBounds, rect, availableSize, maxLabelSize);\n  };\n  /**\n   * To find legend position based on available size for chart and accumulation chart\n   *\n   * @param position\n   * @param availableSize\n   * @param position\n   * @param availableSize\n   * @returns {void}\n   */\n  BaseLegend.prototype.getPosition = function (position, availableSize) {\n    var chart = this.chart;\n    var accumulation = this.chart;\n    if (this.isChartControl || this.isBulletChartControl || this.isStockChartControl) {\n      this.position = position !== 'Auto' ? position : 'Bottom';\n    } else {\n      if (position === 'Auto' && ((chart || accumulation).visibleSeries && (chart || accumulation).visibleSeries[0].type === 'Funnel' || (chart || accumulation).visibleSeries[0].type === 'Pyramid')) {\n        position = 'Top';\n      }\n      this.position = position !== 'Auto' ? position : availableSize.width > availableSize.height ? 'Right' : 'Bottom';\n    }\n  };\n  /**\n   * To set bounds for chart and accumulation chart\n   *\n   * @param computedWidth\n   * @param computedHeight\n   * @param legend\n   * @param legendBounds\n   * @param computedWidth\n   * @param computedHeight\n   * @param legend\n   * @param legendBounds\n   * @param computedWidth\n   * @param computedHeight\n   * @param legend\n   * @param legendBounds\n   * @param computedWidth\n   * @param computedHeight\n   * @param legend\n   * @param legendBounds\n   * @returns {void}\n   */\n  BaseLegend.prototype.setBounds = function (computedWidth, computedHeight, legend, legendBounds) {\n    var titleHeight = legend.title && legend.titlePosition === 'Top' ? this.legendTitleSize.height + this.fivePixel : 0;\n    if (this.isVertical && this.isPaging && !legend.enablePages && !this.isBulletChartControl) {\n      titleHeight = legend.title && legend.titlePosition === 'Top' ? this.legendTitleSize.height + this.fivePixel : 0;\n      titleHeight += this.pageButtonSize + this.fivePixel;\n    }\n    computedWidth = Math.min(computedWidth, legendBounds.width);\n    computedHeight = Math.min(computedHeight, legendBounds.height);\n    if (legend.mode === 'Gradient') {\n      legendBounds.width = legend.width ? legendBounds.width : this.isVertical ? computedWidth : 0.75 * legendBounds.width;\n      legendBounds.height = legend.height ? legendBounds.height : this.isVertical ? 0.75 * legendBounds.height : computedHeight;\n    } else {\n      legendBounds.width = !legend.width ? computedWidth : legendBounds.width;\n      legendBounds.height = !legend.height ? computedHeight : legendBounds.height;\n    }\n    if (!this.isBulletChartControl) {\n      if (this.isTop && legend.titleStyle.textOverflow !== 'None') {\n        this.calculateLegendTitle(legend, legendBounds);\n        legendBounds.height += legend.titleStyle.textOverflow === 'Wrap' && this.legendTitleCollections.length > 1 ? this.legendTitleSize.height - this.legendTitleSize.height / this.legendTitleCollections.length : 0;\n      }\n    }\n    this.rowCount = Math.max(1, Math.ceil((legendBounds.height - legend.padding - titleHeight) / (this.maxItemHeight + legend.padding)));\n  };\n  /**\n   * To find legend location based on position, alignment for chart and accumulation chart\n   *\n   * @param position\n   * @param alignment\n   * @param legendBounds\n   * @param rect\n   * @param availableSize\n   * @param maxLabelSize\n   * @param position\n   * @param alignment\n   * @param legendBounds\n   * @param rect\n   * @param availableSize\n   * @param maxLabelSize\n   * @param position\n   * @param alignment\n   * @param legendBounds\n   * @param rect\n   * @param availableSize\n   * @param maxLabelSize\n   * @param position\n   * @param alignment\n   * @param legendBounds\n   * @param rect\n   * @param availableSize\n   * @param maxLabelSize\n   * @param position\n   * @param alignment\n   * @param legendBounds\n   * @param rect\n   * @param availableSize\n   * @param maxLabelSize\n   * @param position\n   * @param alignment\n   * @param legendBounds\n   * @param rect\n   * @param availableSize\n   * @param maxLabelSize\n   */\n  BaseLegend.prototype.getLocation = function (position, alignment, legendBounds, rect, availableSize, maxLabelSize) {\n    var padding = this.legend.border.width;\n    var isBulletChart = this.isBulletChartControl;\n    var bulletChart = this.bulletChart;\n    var labelIns = bulletChart.labelPosition === 'Inside';\n    var ticklIns = bulletChart.tickPosition === 'Inside';\n    var isVertical = bulletChart.orientation === 'Vertical';\n    var categoryFieldValue = isBulletChart && bulletChart.categoryField !== '' ? maxLabelSize.width + this.chart.border.width + padding * 3 : 0;\n    var marginBottom = this.chart.margin.bottom;\n    var legendHeight = legendBounds.height + padding + this.legend.margin.top + this.legend.margin.bottom;\n    var legendWidth = legendBounds.width + padding + this.legend.margin.left + this.legend.margin.right;\n    if (position === 'Bottom') {\n      legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n      legendBounds.y = rect.y + (rect.height - legendHeight) + padding + this.legend.margin.top;\n      legendBounds.y += isBulletChart && !bulletChart.opposedPosition && !labelIns && !ticklIns && !isVertical ? bulletChart.majorTickLines.height + marginBottom + this.legend.border.width + padding * 2 : isVertical && bulletChart.categoryField !== '' ? maxLabelSize.height + padding * 2 : 0;\n      subtractThickness(rect, new Thickness(0, 0, 0, legendHeight));\n    } else if (position === 'Top') {\n      legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n      legendBounds.y = rect.y + padding + this.legend.margin.top;\n      legendBounds.y -= isBulletChart && bulletChart.opposedPosition && !labelIns && !ticklIns && !isVertical ? bulletChart.majorTickLines.height + this.chart.margin.top : 0;\n      legendHeight -= isBulletChart ? -padding * 2 : 0;\n      subtractThickness(rect, new Thickness(0, 0, legendHeight, 0));\n    } else if (position === 'Right') {\n      legendBounds.x = rect.x + (rect.width - legendBounds.width) - this.legend.margin.right;\n      legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n      legendWidth += isBulletChart && bulletChart.opposedPosition && !labelIns && !ticklIns && isVertical ? this.chart.margin.left + this.chart.margin.right + bulletChart.majorTickLines.height : 0;\n      subtractThickness(rect, new Thickness(0, legendWidth, 0, 0));\n    } else if (position === 'Left') {\n      legendBounds.x = legendBounds.x + this.legend.margin.left;\n      legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n      legendWidth += isBulletChart && !bulletChart.opposedPosition && !labelIns && !ticklIns && isVertical ? legendBounds.x - this.chart.margin.left + padding + bulletChart.majorTickLines.height : bulletChart.orientation !== 'Vertical' && bulletChart.categoryField !== '' ? categoryFieldValue : 0;\n      subtractThickness(rect, new Thickness(legendWidth, 0, 0, 0));\n    } else {\n      legendBounds.x = this.legend.location.x;\n      legendBounds.y = this.legend.location.y;\n      subtractThickness(rect, new Thickness(0, 0, 0, 0));\n    }\n  };\n  /**\n   * To find legend alignment for chart and accumulation chart\n   *\n   * @param start\n   * @param size\n   * @param legendSize\n   * @param alignment\n   * @param start\n   * @param size\n   * @param legendSize\n   * @param alignment\n   * @param start\n   * @param size\n   * @param legendSize\n   * @param alignment\n   * @param start\n   * @param size\n   * @param legendSize\n   * @param alignment\n   */\n  BaseLegend.prototype.alignLegend = function (start, size, legendSize, alignment) {\n    switch (alignment) {\n      case 'Far':\n        start = size - legendSize - start;\n        break;\n      case 'Center':\n        start = (size - legendSize) / 2;\n        break;\n    }\n    return start;\n  };\n  /**\n   * Renders the legend.\n   *\n   * @param chart\n   * @param legend\n   * @param legendBounds\n   * @param redraw\n   * @param chart\n   * @param legend\n   * @param legendBounds\n   * @param redraw\n   * @param chart\n   * @param legend\n   * @param legendBounds\n   * @param redraw\n   * @param chart\n   * @param legend\n   * @param legendBounds\n   * @param redraw\n   * @returns {void}\n   * @private\n   */\n  BaseLegend.prototype.renderLegend = function (chart, legend, legendBounds, redraw) {\n    var titleHeight = 0;\n    var titlePlusArrowWidth = 0;\n    var pagingLegendBounds = new Rect(0, 0, 0, 0);\n    var requireLegendBounds = new Rect(0, 0, 0, 0);\n    var firstLegend = this.findFirstLegendPosition(this.legendCollections);\n    var padding = legend.padding;\n    this.itemPadding = this.isBulletChartControl ? legend.padding : this.itemPadding;\n    var isPaging = legend.enablePages;\n    var titlePosition = legend.titlePosition;\n    var upArrowHeight = this.isPaging && !legend.enablePages && this.isVertical ? this.pageButtonSize : 0;\n    var legendGroup = chart.renderer.createGroup({\n      id: this.legendID + '_g'\n    });\n    var legendTranslateGroup = this.createLegendElements(chart, legendBounds, legendGroup, legend, this.legendID, redraw);\n    this.legendRegions = [];\n    this.chartRowCount = 1;\n    var maxHeight = 0;\n    titleHeight = !this.isTitle ? 0 : this.isTop || this.isVertical ? this.legendTitleSize.height : 0;\n    if (this.isChartControl || this.isAccChartControl && !this.isVertical) {\n      var pageCount = 1;\n      var rowHeights = this.rowHeights[0] + padding;\n      for (var i = 1; i < this.rowHeights.length; i++) {\n        if (rowHeights + this.rowHeights[i] + padding > this.legendBounds.height - this.pageButtonSize - this.maxItemHeight / 2) {\n          this.pageHeights[pageCount - 1] = rowHeights + titleHeight;\n          pageCount++;\n          rowHeights = 0;\n        }\n        rowHeights += this.rowHeights[i] + (this.isVertical ? this.itemPadding : padding);\n      }\n      this.pageHeights[pageCount - 1] = rowHeights + titleHeight;\n      this.totalPages = pageCount;\n    }\n    for (var i = 0; i < this.legendCollections.length; i++) {\n      if (this.legendCollections[i].text !== '') {\n        maxHeight = Math.max(this.legendCollections[i].textSize.height, maxHeight);\n        break;\n      } else {\n        continue;\n      }\n    }\n    if (!this.isChartControl && !this.isAccChartControl) {\n      this.maxItemHeight = Math.max(maxHeight, legend.shapeHeight);\n    }\n    // For new legend navigation\n    if (!isPaging && this.isPaging && !this.isVertical) {\n      titlePlusArrowWidth = !this.isTitle ? 0 : titlePosition === 'Left' ? this.legendTitleSize.width : 0;\n      titlePlusArrowWidth += this.pageButtonSize + 2 * this.fivePixel;\n    } else if (this.isTitle && !this.isPaging && !this.isVertical) {\n      titlePlusArrowWidth = titlePosition === (!this.isRtlEnable ? 'Left' : 'Right') ? this.fivePixel + this.legendTitleSize.width : 0;\n    }\n    if (chart.legendSettings.mode === 'Gradient' && this.legendCollections.length > 1) {\n      this.getLinearLegend(legendBounds, chart, legend, legendTranslateGroup);\n      this.totalPages = 1;\n    } else if (firstLegend !== this.legendCollections.length) {\n      var legendSeriesGroup = void 0; // legendItem group for each series group element\n      var count = 0;\n      var previousLegend = this.legendCollections[firstLegend];\n      // starting shape center x,y position && to resolve lint error used new line for declaration\n      var startPadding = this.isBulletChartControl ? 0 : titlePlusArrowWidth + padding + legend.shapeWidth / 2 + legend.containerPadding.left;\n      var x_Location = this.isBulletChartControl ? legendBounds.x + titlePlusArrowWidth + padding + legend.shapeWidth / 2 : !this.isRtlEnable ? legendBounds.x + startPadding : legendBounds.x + (this.chart.getModuleName() === 'accumulationchart' && this.isVertical ? this.maxWidth : legendBounds.width) - startPadding;\n      var start = new ChartLocation(x_Location, this.isBulletChartControl ? legendBounds.y + titleHeight + upArrowHeight + padding + this.maxItemHeight / 2 : legendBounds.y + titleHeight + upArrowHeight + padding + this.maxItemHeight / 2 + legend.containerPadding.top);\n      var anchor = chart.isRtlEnabled || chart.enableRtl ? 'end' : 'start';\n      var textOptions = new TextOption('', start.x, start.y, anchor);\n      var textPadding = legend.shapePadding + this.itemPadding + legend.shapeWidth;\n      //  initialization for totalPages legend click totalpage again calculate\n      this.totalPages = this.totalPages = this.isAccChartControl || this.isChartControl || this.isBulletChartControl || this.isStockChartControl ? this.totalPages : 0;\n      this.pageXCollections = [];\n      this.legendCollections[firstLegend].location = start;\n      var legendIndex = void 0;\n      if (!legend.enablePages && this.isPaging) {\n        var x = start.x - this.fivePixel;\n        var y = start.y - this.fivePixel;\n        var leftSpace = this.isTitle && !this.isVertical && titlePosition === 'Left' ? this.legendTitleSize.width + this.fivePixel : 0;\n        var bottomSapce = this.isVertical ? this.pageButtonSize + Math.abs(y - legendBounds.y) : 0;\n        var rightSpace = this.isTitle && !this.isVertical && titlePosition === 'Right' ? this.legendTitleSize.width + this.fivePixel : 0;\n        rightSpace += this.isVertical ? 0 : this.fivePixel + this.pageButtonSize + this.fivePixel;\n        pagingLegendBounds = new Rect(x, y, legendBounds.width - rightSpace - leftSpace, legendBounds.height - bottomSapce);\n        requireLegendBounds = pagingLegendBounds;\n      } else {\n        requireLegendBounds = legendBounds;\n      }\n      var legendOption = void 0;\n      for (var i = 0; i < this.legendCollections.length; i++) {\n        legendOption = this.legendCollections[i];\n        legendIndex = !this.isReverse ? count : this.legendCollections.length - 1 - count;\n        if (this.chart.getModuleName() === 'accumulationchart') {\n          // eslint-disable-next-line max-len\n          legendOption.fill = (this.chart || this.chart || this.chart).visibleSeries[0].points[legendOption.pointIndex].color;\n        }\n        if (this.chart.getModuleName() === 'stockChart') {\n          legendOption.type = this.chart.visibleSeries[count].type;\n        }\n        this.accessbilityText = this.isBulletChartControl ? 'Legend of bullet chart' + '' + legendOption.text : 'Click to show or hide the ' + legendOption.text + ' series';\n        if (legendOption.render && legendOption.text !== '') {\n          legendSeriesGroup = chart.renderer.createGroup({\n            id: this.legendID + this.generateId(legendOption, '_g_', legendIndex)\n          });\n          if (legendSeriesGroup) {\n            legendSeriesGroup.setAttribute(\"tabindex\", i === 0 ? \"0\" : \"\");\n            legendSeriesGroup.setAttribute('aria-label', legend.description || 'Show ' + legendOption.text);\n          }\n          this.library.getRenderPoint(legendOption, start, textPadding, previousLegend, requireLegendBounds, count, firstLegend);\n          this.renderSymbol(legendOption, legendSeriesGroup, legendIndex);\n          this.renderText(chart, legendOption, legendSeriesGroup, textOptions, count, legendIndex);\n          if (legendSeriesGroup) {\n            legendSeriesGroup.style.cssText = \"pointer-events: bounding-box; cursor: \" + (!legend.toggleVisibility && (chart.selectionMode === 'None' || chart.highlightMode === 'None' || chart.selectionMode === 'None') || this.isBulletChartControl ? \"auto\" : \"pointer\");\n          }\n          if (legendTranslateGroup) {\n            legendTranslateGroup.appendChild(legendSeriesGroup);\n          }\n          previousLegend = legendOption;\n        }\n        count++;\n      }\n      if (this.isPaging) {\n        this.renderPagingElements(chart, legendBounds, textOptions, legendGroup);\n      } else {\n        this.totalPages = 1;\n      }\n    }\n    appendChildElement(chart.enableCanvas, chart.svgObject, legendGroup, redraw);\n  };\n  /** @private */\n  BaseLegend.prototype.getLinearLegend = function (legendBounds, chart, legend, legendTranslateGroup) {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var previousLegend = this.legendCollections[0];\n    var nextLegend = this.legendCollections[1];\n    var defElement = this.chart.renderer.createDefs();\n    var gradientLegendCount = 0;\n    var linerGradientEle = document.createElementNS(xmlns, 'linearGradient');\n    var opacity = 1;\n    var fillColors = [];\n    var numberItems = [];\n    if (legend.title) {\n      if (!this.isVertical) {\n        if (legend.titlePosition === 'Left') {\n          legendBounds.x += this.legendTitleSize.width;\n          legendBounds.width -= this.legendTitleSize.width;\n        } else if (legend.titlePosition === 'Right') {\n          legendBounds.width -= this.legendTitleSize.width;\n        } else if (legend.titlePosition === 'Top') {\n          legendBounds.y += this.legendTitleSize.height;\n          legendBounds.height -= this.legendTitleSize.height;\n        }\n      } else {\n        legendBounds.y += this.legendTitleSize.height;\n        legendBounds.height -= this.legendTitleSize.height;\n      }\n    }\n    for (var _i = 0, _a = this.chart.rangeColorSettings; _i < _a.length; _i++) {\n      var colorMap = _a[_i];\n      if (numberItems.indexOf(colorMap.start) < 0) {\n        numberItems.push(colorMap.start);\n      }\n      if (colorMap.colors.length > 2) {\n        var diffValue = colorMap.end - colorMap.start;\n        var colorsLength = colorMap.colors.length - 1;\n        if (diffValue > 0) {\n          diffValue = diffValue / colorsLength;\n          for (var index = 1; index < colorsLength; index++) {\n            var calculatedValue = colorMap.start + diffValue * index;\n            numberItems.push(calculatedValue);\n          }\n        } else {\n          for (var index = 1; index < colorsLength; index++) {\n            numberItems.push(colorMap.start);\n          }\n        }\n      }\n      if (numberItems.indexOf(colorMap.end) < 0) {\n        numberItems.push(colorMap.end);\n      }\n      for (var _b = 0, _c = colorMap.colors; _b < _c.length; _b++) {\n        var fillColor = _c[_b];\n        if (fillColors.indexOf(fillColor) < 0) {\n          fillColors.push(fillColor);\n        }\n      }\n      if (colorMap.colors.length > 0 && colorMap.colors.length < 2) {\n        fillColors.push(colorMap.colors[0]);\n      }\n    }\n    var x1 = this.isRtlEnable && !this.isVertical ? '100%' : '0%';\n    var x2 = this.isVertical || this.isRtlEnable ? '0%' : '100%';\n    var y2 = this.isVertical ? '100%' : '0%';\n    linerGradientEle.setAttribute('id', this.generateId(previousLegend, 'linearGradient', gradientLegendCount));\n    linerGradientEle.setAttribute('x1', x1);\n    linerGradientEle.setAttribute('y1', '0%');\n    linerGradientEle.setAttribute('x2', x2);\n    linerGradientEle.setAttribute('y2', y2);\n    var full = numberItems[numberItems.length - 1] - numberItems[0];\n    for (var b = 0; b < fillColors.length; b++) {\n      var offsetValue = numberItems[b] - numberItems[0];\n      offsetValue = offsetValue / full;\n      var stopEle = document.createElementNS(xmlns, 'stop');\n      stopEle.setAttribute('offset', offsetValue.toString());\n      stopEle.setAttribute('stop-color', fillColors[b]);\n      stopEle.setAttribute('stop-opacity', opacity.toString());\n      linerGradientEle.appendChild(stopEle);\n    }\n    var startLabel = previousLegend.text.toString();\n    var endLabel = nextLegend.text.toString();\n    var startTextSize = measureText(startLabel, legend.textStyle);\n    var endTextSize = measureText(endLabel, legend.textStyle);\n    var textWidth = startTextSize.width > endTextSize.width ? startTextSize.width : endTextSize.width;\n    var textHeight = startTextSize.height > endTextSize.height ? startTextSize.height : endTextSize.height;\n    var otherSpaces = 2 * textWidth + 4 * legend.padding;\n    var linearBarWidth = legendBounds.width;\n    var linearBarHeight = legendBounds.height;\n    var xValue = legendBounds.x + textWidth + 2 * legend.padding;\n    var yValue = legendBounds.y + legend.padding;\n    var startLabelY;\n    var endLabelY;\n    var startLabelX;\n    var endLabelX;\n    if (this.isVertical) {\n      otherSpaces = 2 * textHeight + 4 * legend.padding;\n      linearBarWidth = legendBounds.width - 2 * legend.padding;\n      linearBarHeight = legendBounds.height - otherSpaces;\n      xValue = legendBounds.x + legend.padding;\n      yValue = legendBounds.y + textHeight + 2 * legend.padding;\n      startLabelY = legendBounds.y + legend.padding + textHeight;\n      endLabelY = yValue + linearBarHeight + textHeight;\n      startLabelX = legendBounds.x + legendBounds.width * 0.5 - textWidth * 0.5;\n      endLabelX = startLabelX;\n      if (linearBarWidth > 30) {\n        var diffWidth = linearBarWidth - 30;\n        linearBarWidth = 30;\n        xValue = xValue + diffWidth / 2;\n      }\n    } else {\n      linearBarWidth = legendBounds.width - otherSpaces;\n      linearBarHeight = legendBounds.height - 2 * legend.padding;\n      startLabelX = legendBounds.x + (!this.isRtlEnable ? legend.padding + (textWidth - startTextSize.width) : linearBarWidth + 3 * legend.padding + textWidth);\n      endLabelX = legendBounds.x + (!this.isRtlEnable ? linearBarWidth + 3 * legend.padding + textWidth : legend.padding + (textWidth - endTextSize.width));\n      startLabelY = legendBounds.y + legendBounds.height * 0.5 + textHeight * 0.25;\n      endLabelY = startLabelY;\n      if (linearBarHeight > 30) {\n        var diffHeight = linearBarHeight - 30;\n        linearBarHeight = 30;\n        yValue = yValue + diffHeight / 2;\n      }\n    }\n    var anchor = chart.enableRtl ? 'end' : '';\n    var textOptions = new TextOption('', startLabelX, startLabelY, anchor, startLabel);\n    var hiddenColor = '#D3D3D3';\n    textOptions.id = this.legendID + this.generateId(previousLegend, '_text_', 1);\n    var fontcolor = previousLegend.visible ? legend.textStyle.color || chart.themeStyle.legendLabel : hiddenColor;\n    var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n    textElement(chart.renderer, textOptions, legend.textStyle, fontcolor, legendTranslateGroup, false, false, false, false,\n    // tslint:disable-next-line:align\n    null, this.currentPageNumber && isCanvas ? new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null);\n    textOptions = new TextOption('', endLabelX, endLabelY, anchor, endLabel);\n    textOptions.id = this.legendID + this.generateId(previousLegend, '_text_', 2);\n    textElement(chart.renderer, textOptions, legend.textStyle, fontcolor, legendTranslateGroup, false, false, false, false,\n    // tslint:disable-next-line:align\n    null, this.currentPageNumber && isCanvas ? new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null);\n    var gradientLegend = chart.renderer.drawRectangle({\n      width: linearBarWidth,\n      height: linearBarHeight,\n      x: xValue,\n      y: yValue,\n      fill: 'url(#' + this.generateId(previousLegend, 'linearGradient', gradientLegendCount) + ')'\n    });\n    defElement.appendChild(linerGradientEle);\n    legendTranslateGroup.appendChild(defElement);\n    legendTranslateGroup.appendChild(gradientLegend);\n  };\n  /**\n   * To find first valid legend text index for chart and accumulation chart\n   *\n   * @param legendCollection\n   * @returns {number}\n   * @private\n   */\n  BaseLegend.prototype.findFirstLegendPosition = function (legendCollection) {\n    var count = 0;\n    for (var _i = 0, legendCollection_1 = legendCollection; _i < legendCollection_1.length; _i++) {\n      var legend = legendCollection_1[_i];\n      if (legend.render && legend.text !== '') {\n        break;\n      }\n      count++;\n    }\n    return count;\n  };\n  /**\n   * To get the legend title text width and height.\n   *\n   * @param legend\n   * @param legendBounds\n   */\n  BaseLegend.prototype.calculateLegendTitle = function (legend, legendBounds) {\n    if (legend.title) {\n      this.isTop = legend.titlePosition === 'Top';\n      var padding = legend.titleStyle.textOverflow === 'Trim' ? 2 * legend.padding : 0;\n      if (this.isTop || this.isVertical) {\n        this.legendTitleCollections = getTitle(legend.title, legend.titleStyle, legendBounds.width - padding);\n      } else {\n        this.legendTitleCollections[0] = textTrim(legend.maximumTitleWidth, legend.title, legend.titleStyle);\n      }\n      var text = this.isTop ? legend.title : this.legendTitleCollections[0];\n      this.legendTitleSize = measureText(text, legend.titleStyle);\n      this.legendTitleSize.height *= this.legendTitleCollections.length;\n    } else {\n      this.legendTitleSize = new Size(0, 0);\n    }\n  };\n  /**\n   * Render the legend title\n   *\n   * @param chart\n   * @param legend\n   * @param legendBounds\n   * @param legendGroup\n   */\n  BaseLegend.prototype.renderLegendTitle = function (chart, legend, legendBounds, legendGroup) {\n    var padding = legend.padding;\n    var alignment = legend.titleStyle.textAlignment;\n    this.isTop = legend.titlePosition === 'Top';\n    var anchor = getTextAnchor(legend.titleStyle.textAlignment, chart.enableRtl);\n    var x = titlePositionX(legendBounds, legend.titleStyle);\n    anchor = this.isTop || this.isVertical ? anchor : chart.enableRtl ? 'end' : '';\n    x = alignment === 'Near' ? x + padding : alignment === 'Far' ? x - padding : x;\n    x = this.isTop || this.isVertical ? x : legendBounds.x + (legend.titlePosition === 'Left' ? 5 : legendBounds.width - this.legendTitleSize.width - 5);\n    var topPadding = legendBounds.height / 2 + this.legendTitleSize.height / 4;\n    var y = legendBounds.y + (!this.isTop && !this.isVertical ? topPadding : this.legendTitleSize.height / this.legendTitleCollections.length);\n    var legendTitleTextOptions = new TextOption(this.legendID + '_title', x, y, anchor, this.legendTitleCollections);\n    textElement(chart.renderer, legendTitleTextOptions, legend.titleStyle, legend.titleStyle.color, legendGroup);\n  };\n  /**\n   * To create legend rendering elements for chart and accumulation chart\n   *\n   * @param chart\n   * @param legendBounds\n   * @param legendGroup\n   * @param legend\n   * @param id\n   * @param redraw\n   */\n  BaseLegend.prototype.createLegendElements = function (chart, legendBounds, legendGroup, legend, id, redraw) {\n    var padding = legend.padding;\n    var options = new RectOption(id + '_element', legend.background, legend.border, legend.opacity, legendBounds);\n    var legendItemsGroup = chart.renderer.createGroup({\n      id: id + '_collections'\n    });\n    var isCanvas = this.isStockChartControl ? false : chart.enableCanvas;\n    var clippath = chart.renderer.createClipPath({\n      id: id + '_clipPath'\n    });\n    options.width = this.isRtlEnable && this.chart.getModuleName() === 'accumulationchart' && this.isVertical ? this.maxWidth : legendBounds.width;\n    if (legendGroup) {\n      legendGroup.appendChild(chart.renderer.drawRectangle(options));\n    } else {\n      chart.renderer.drawRectangle(options);\n    }\n    if (legend.title) {\n      this.renderLegendTitle(chart, legend, legendBounds, legendGroup);\n    }\n    if (!isCanvas) {\n      legendGroup.appendChild(legendItemsGroup);\n    }\n    this.legendTranslateGroup = chart.renderer.createGroup({\n      id: id + '_translate_g'\n    });\n    if (!isCanvas) {\n      legendItemsGroup.appendChild(this.legendTranslateGroup);\n    }\n    options.y += this.isTop ? this.legendTitleSize.height : 0;\n    options.id += '_clipPath_rect';\n    options.width = !this.isChartControl && chart.getModuleName() !== 'bulletChart' && !this.isStockChartControl && this.isVertical ? this.maxWidth - padding + legend.containerPadding.left + legend.containerPadding.right : legendBounds.width;\n    if (!isCanvas) {\n      this.clipRect = chart.renderer.drawRectangle(options);\n      clippath.appendChild(this.clipRect);\n    } else {\n      this.pagingClipRect = options;\n    }\n    appendChildElement(isCanvas, chart.svgObject, clippath, redraw);\n    if (!isCanvas) {\n      legendItemsGroup.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n    }\n    return this.legendTranslateGroup;\n  };\n  /**\n   * To render legend symbols for chart and accumulation chart\n   *\n   * @param legendOption\n   * @param group\n   * @param i\n   * @param legendOption\n   * @param group\n   * @param i\n   * @param legendOption\n   * @param group\n   * @param i\n   */\n  BaseLegend.prototype.renderSymbol = function (legendOption, group, legendIndex) {\n    var control = this.isBulletChartControl ? this.chart : null;\n    var symbolColor = legendOption.visible ? legendOption.fill : '#D3D3D3';\n    var isStrokeWidth = (this.chart.getModuleName() === 'chart' || this.chart.getModuleName() === 'stockChart') && legendOption.shape === 'SeriesType' && legendOption.type.toLowerCase().indexOf('line') > -1 && legendOption.type.toLowerCase().indexOf('area') === -1;\n    var isCustomBorder = (this.chart.getModuleName() === 'chart' || this.chart.getModuleName() === 'stockChart') && (legendOption.type === 'Scatter' || legendOption.type === 'Bubble');\n    var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n    var borderColor;\n    var shape = legendOption.shape === 'SeriesType' ? legendOption.type : legendOption.shape;\n    var strokewidth = isStrokeWidth ? this.legend.mode === 'Series' ? this.chart.visibleSeries[legendIndex].width : this.chart.visibleSeries[0].width : this.isBulletChartControl && legendOption.shape === 'Multiply' ? 4 : 1;\n    var regionPadding;\n    shape = shape === 'Scatter' ? legendOption.markerShape : shape;\n    if (isCustomBorder && legendIndex < this.chart.visibleSeries.length) {\n      var series = this.chart.visibleSeries[legendIndex];\n      var seriesBorder = series.border;\n      var isLineShapemarker = shape === 'HorizontalLine' || shape === 'VerticalLine';\n      borderColor = isLineShapemarker ? symbolColor : seriesBorder.color ? seriesBorder.color : symbolColor;\n      strokewidth = isLineShapemarker ? series.width : seriesBorder.width ? seriesBorder.width : 1;\n    }\n    var symbolOption = new PathOption(this.legendID + this.generateId(legendOption, '_shape_', legendIndex), symbolColor, strokewidth, isCustomBorder ? borderColor : symbolColor, 1, '', '');\n    var textSize = measureText(legendOption.text, this.legend.textStyle);\n    var x = this.legend.isInversed && !this.isRtlEnable ? legendOption.location.x + textSize.width + this.legend.shapePadding : legendOption.location.x;\n    var y = legendOption.location.y;\n    if (!isCanvas) {\n      group.appendChild(drawSymbol({\n        x: x,\n        y: y\n      }, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), legendOption.url, symbolOption, this.accessbilityText, this.chart.renderer, null, this.isBulletChartControl, control));\n    } else {\n      regionPadding = -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber);\n      drawSymbol({\n        x: x,\n        y: y\n      }, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), '', symbolOption, this.accessbilityText, this.chart.renderer, this.currentPageNumber ? new Rect(0, regionPadding, 0, 0) : null, this.isBulletChartControl, control);\n      this.legendRegions.push({\n        rect: new Rect(legendOption.location.x, legendOption.location.y, this.legend.shapeWidth, this.legend.shapeHeight + regionPadding),\n        index: legendIndex\n      });\n    }\n    if (shape === 'Line' && legendOption.markerVisibility && legendOption.markerShape !== 'Image' || legendOption.type === 'Doughnut' && shape === 'Doughnut') {\n      symbolOption.id = this.legendID + this.generateId(legendOption, '_shape_marker_', legendIndex);\n      shape = legendOption.type === 'Doughnut' ? 'Circle' : legendOption.markerShape;\n      symbolOption.fill = legendOption.type === 'Doughnut' ? '#FFFFFF' : symbolOption.fill;\n      if (!isCanvas) {\n        // eslint-disable-next-line max-len\n        group.appendChild(drawSymbol({\n          x: x,\n          y: y\n        }, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, this.accessbilityText, null, null, this.isBulletChartControl, control));\n      } else {\n        drawSymbol({\n          x: x,\n          y: y\n        }, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, this.accessbilityText, this.chart.renderer, this.currentPageNumber ? new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null, this.isBulletChartControl, control);\n      }\n    }\n  };\n  /**\n   * To render legend text for chart and accumulation chart\n   *\n   * @param chart\n   * @param legendOption\n   * @param group\n   * @param textOptions\n   * @param i\n   * @param chart\n   * @param legendOption\n   * @param group\n   * @param textOptions\n   * @param i\n   * @param chart\n   * @param legendOption\n   * @param group\n   * @param textOptions\n   * @param i\n   * @param chart\n   * @param legendOption\n   * @param group\n   * @param textOptions\n   * @param i\n   * @param chart\n   * @param legendOption\n   * @param group\n   * @param textOptions\n   * @param i\n   */\n  BaseLegend.prototype.renderText = function (chart, legendOption, group, textOptions, i, legendIndex) {\n    var legend = chart.legendSettings;\n    var hiddenColor = '#D3D3D3';\n    var fontcolor = legendOption.visible ? legend.textStyle.color || chart.themeStyle.legendLabel : hiddenColor;\n    var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n    textOptions.id = this.legendID + this.generateId(legendOption, '_text_', legendIndex);\n    textOptions.text = legendOption.textCollection.length > 0 ? legendOption.textCollection : legendOption.text;\n    if (legend.isInversed && !this.isRtlEnable) {\n      textOptions.x = legendOption.location.x - legend.shapeWidth / 2;\n    } else if (this.isRtlEnable) {\n      textOptions.x = legendOption.location.x - (measureText(legendOption.text, legend.textStyle).width + legend.shapeWidth / 2 + legend.shapePadding);\n    } else {\n      textOptions.x = legendOption.location.x + legend.shapeWidth / 2 + legend.shapePadding;\n    }\n    textOptions.y = legendOption.location.y + this.maxItemHeight / 4;\n    var element = textElement(chart.renderer, textOptions, legend.textStyle, fontcolor, group, false, false, false, false, null, this.currentPageNumber && isCanvas ? new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null);\n    if (isCanvas) {\n      var textSize = measureText(legendOption.text, legend.textStyle);\n      this.legendRegions[i].rect.y = textOptions.y < this.legendRegions[i].rect.y ? textOptions.y : this.legendRegions[i].rect.y;\n      this.legendRegions[i].rect.width += textSize.width;\n      this.legendRegions[i].rect.height = textSize.height;\n      this.legendRegions[i].rect.y -= textSize.height * 0.5;\n      this.legendRegions[i].rect.x -= this.isRtlEnable ? this.legendRegions[i].rect.width : 0;\n    }\n  };\n  /**\n   * To render legend paging elements for chart and accumulation chart\n   *\n   * @param chart\n   * @param bounds\n   * @param textOption\n   * @param legendGroup\n   * @param chart\n   * @param bounds\n   * @param textOption\n   * @param legendGroup\n   * @param chart\n   * @param bounds\n   * @param textOption\n   * @param legendGroup\n   * @param chart\n   * @param bounds\n   * @param textOption\n   * @param legendGroup\n   */\n  // tslint:disable-next-line:max-func-body-length\n  BaseLegend.prototype.renderPagingElements = function (chart, bounds, textOption, legendGroup) {\n    var paginggroup = chart.renderer.createGroup({\n      id: this.legendID + '_navigation'\n    });\n    var isCanvas = this.isStockChartControl ? false : chart.enableCanvas;\n    var titleHeight = this.isBulletChartControl ? 0 : this.legendTitleSize.height;\n    var grayColor = this.chart.theme.indexOf('Dark') > -1 ? '#FFFFFF' : '#545454';\n    var legend = chart.legendSettings; // to solve parameter lint error, legend declaration is here\n    var padding = 8; // const padding for paging elements\n    var pageUp = this.legendID + (!this.isRtlEnable ? '_pageup' : '_pagedown');\n    var pageDown = this.legendID + (!this.isRtlEnable ? '_pagedown' : '_pageup');\n    var symbolOption = new PathOption(pageUp, 'transparent', 5, grayColor, 1, '', '');\n    var iconSize = this.pageButtonSize;\n    // Page left arrow drawing calculation started here\n    var rowCount = !legend.enablePages && this.isPaging && !this.isVertical && !this.isBulletChartControl ? 1 : this.rowCount - 1;\n    var titleWidth = this.isTitle && legend.titlePosition === 'Left' ? this.legendTitleSize.width : 0;\n    this.pagingRegions = [];\n    this.backwardArrowOpacity = this.currentPage !== 1 ? 1 : 0;\n    this.forwardArrowOpacity = this.currentPage === this.totalPages ? 0 : 1;\n    if (!isCanvas) {\n      legendGroup.appendChild(paginggroup);\n    }\n    if (!this.isChartControl && !this.isAccChartControl) {\n      if (this.isBulletChartControl || this.isStockChartControl || !this.isVertical) {\n        this.totalPages = Math.ceil(this.totalPages / Math.max(1, this.rowCount - 1));\n      } else {\n        this.totalPages = Math.ceil(this.totalPages / this.maxColumns);\n      }\n    }\n    if (paginggroup) {\n      paginggroup.style.cursor = 'pointer';\n    }\n    if ((this.isChartControl || this.isAccChartControl) && !(!legend.enablePages && this.isPaging)) {\n      this.clipPathHeight = this.pageHeights[0];\n    } else {\n      this.clipPathHeight = rowCount * (this.maxItemHeight + legend.padding);\n    }\n    //this.clipPathHeight = !(this.isChartControl) ? (rowCount * (this.maxItemHeight + legend.padding)) : this.columnHeights[0];\n    if (!isCanvas) {\n      this.clipRect.setAttribute('height', this.clipPathHeight.toString());\n    } else {\n      //paging clipRect only for canvas mode\n      this.pagingClipRect.height = this.legendBounds.height - this.clipPathHeight - (this.pagingClipRect.y - this.legendBounds.y) - legend.border.width;\n      this.pagingClipRect.y = this.pagingClipRect.y + this.clipPathHeight;\n      this.pagingClipRect.x += legend.border.width;\n      this.pagingClipRect.width -= legend.border.width + legend.border.width / 2;\n      this.chart.renderer.clearRect(new Rect(this.pagingClipRect.x, this.pagingClipRect.y, this.pagingClipRect.width, this.pagingClipRect.height));\n    }\n    var pageTextElement;\n    var x = bounds.x + iconSize / 2;\n    var y = bounds.y + this.clipPathHeight + (titleHeight + bounds.height - this.clipPathHeight) / 2;\n    if (this.isPaging && !legend.enablePages && !this.isVertical && !this.isBulletChartControl) {\n      x = bounds.x + this.fivePixel + this.pageButtonSize + titleWidth;\n      y = legend.title && this.isTop ? bounds.y + padding + titleHeight + iconSize / 1 + 0.5 : bounds.y + padding + iconSize + 0.5;\n    }\n    var size = measureText(this.totalPages + '/' + this.totalPages, legend.textStyle);\n    var translateX = this.isRtlEnable ? legend.border.width + iconSize / 2 : bounds.width - (2 * (iconSize + padding) + padding + size.width);\n    if (!isCanvas) {\n      if (this.isVertical && !legend.enablePages && !this.isBulletChartControl) {\n        x = bounds.x + bounds.width / 2;\n        y = bounds.y + iconSize / 2 + padding + titleHeight;\n        symbolOption.opacity = this.backwardArrowOpacity;\n        paginggroup.appendChild(drawSymbol({\n          x: x,\n          y: y\n        }, 'UpArrow', new Size(iconSize, iconSize), '', symbolOption, 'UpArrow'));\n      } else {\n        symbolOption.opacity = this.isBulletChartControl ? symbolOption.opacity : legend.enablePages ? 1 : !this.isRtlEnable ? this.backwardArrowOpacity : this.forwardArrowOpacity;\n        paginggroup.appendChild(drawSymbol({\n          x: x,\n          y: y\n        }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow'));\n      }\n    } else {\n      drawSymbol({\n        x: x,\n        y: y\n      }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow', this.chart.renderer, new Rect(translateX, 0, 0, 0));\n    }\n    this.pagingRegions.push(new Rect(!this.isRtlEnable ? x + bounds.width - (2 * (iconSize + padding) + padding + size.width) - iconSize * 0.5 : x, y - iconSize * 0.5, iconSize, iconSize));\n    // Page numbering rendering calculation started here\n    textOption.x = x + iconSize / 2 + padding;\n    textOption.y = y + size.height / 4;\n    textOption.id = this.legendID + '_pagenumber';\n    textOption.text = !this.isRtlEnable ? '1/' + this.totalPages : this.totalPages + '/1';\n    var color = this.chart.theme.indexOf('Dark') > -1 ? '#FFFFFF' : legend.textStyle.color;\n    if (isCanvas && this.totalNoOfPages) {\n      textOption.text = !this.isRtlEnable ? this.currentPageNumber + '/' + this.totalNoOfPages : this.totalNoOfPages + '/' + this.currentPageNumber;\n    }\n    if (legend.enablePages || this.isBulletChartControl) {\n      pageTextElement = textElement(chart.renderer, textOption, legend.textStyle, color, paginggroup, false, false, false, false, null, new Rect(translateX, 0, 0, 0));\n    }\n    // Page right arrow rendering calculation started here\n    x = textOption.x + padding + iconSize / 2 + size.width;\n    if (this.isPaging && !legend.enablePages && !this.isVertical) {\n      x = bounds.x + bounds.width - this.fivePixel - this.pageButtonSize - (legend.title && legend.titlePosition === 'Right' ? this.legendTitleSize.width + this.fivePixel : 0);\n    }\n    symbolOption.id = pageDown;\n    symbolOption.opacity = !legend.enablePages ? !this.isRtlEnable ? this.forwardArrowOpacity : this.backwardArrowOpacity : 1;\n    if (!isCanvas) {\n      if (this.isVertical && !legend.enablePages && !this.isBulletChartControl) {\n        x = bounds.x + bounds.width / 2;\n        y = bounds.y + bounds.height - iconSize / 2 - padding;\n        paginggroup.appendChild(drawSymbol({\n          x: x,\n          y: y\n        }, 'DownArrow', new Size(iconSize, iconSize), '', symbolOption, 'DownArrow'));\n      } else {\n        paginggroup.appendChild(drawSymbol({\n          x: x,\n          y: y\n        }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow'));\n      }\n    } else {\n      drawSymbol({\n        x: x,\n        y: y\n      }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow', this.chart.renderer, new Rect(translateX, 0, 0, 0));\n    }\n    this.pagingRegions.push(new Rect(!this.isRtlEnable ? x + (bounds.width - (2 * (iconSize + padding) + padding + size.width) - iconSize * 0.5) : x, y - iconSize * 0.5, iconSize, iconSize));\n    if (!isCanvas && (legend.enablePages || this.isBulletChartControl)) {\n      //placing the navigation buttons and page numbering in legend right corner\n      paginggroup.setAttribute('transform', 'translate(' + translateX + ', ' + 0 + ')');\n    } else {\n      if (this.currentPageNumber === 1 && this.calTotalPage && (legend.enablePages || this.isBulletChartControl)) {\n        this.totalNoOfPages = this.totalPages;\n        this.calTotalPage = false;\n      }\n      if (!legend.enablePages && !this.isBulletChartControl) {\n        // For new legend page navigation\n        this.translatePage(isCanvas, null, this.currentPage - 1, this.currentPage, legend);\n      }\n    }\n    if (legend.enablePages || this.isBulletChartControl) {\n      this.translatePage(isCanvas, pageTextElement, this.currentPage - 1, this.currentPage, legend);\n    }\n  };\n  BaseLegend.prototype.getPageHeight = function (pageHeights, pageCount) {\n    var sum = 0;\n    for (var i = 0; i < pageCount; i++) {\n      sum += pageHeights[i];\n    }\n    return sum;\n  };\n  /**\n   * To translate legend pages for chart and accumulation chart\n   *\n   * @param pagingText\n   * @param page\n   * @param pageNumber\n   * @param legend\n   * @param pagingText\n   * @param page\n   * @param pageNumber\n   * @param legend\n   * @param pagingText\n   * @param page\n   * @param pageNumber\n   * @param legend\n   * @param pagingText\n   * @param page\n   * @param pageNumber\n   * @param legend\n   */\n  BaseLegend.prototype.translatePage = function (isCanvas, pagingText, page, pageNumber, legend) {\n    var size = this.isChartControl || this.isAccChartControl ? page ? this.getPageHeight(this.pageHeights, page) : 0 : this.clipPathHeight * page;\n    if (!isCanvas && (this.isChartControl || this.isAccChartControl)) {\n      this.clipRect.setAttribute('height', this.pageHeights[page].toString());\n    }\n    var translate = 'translate(0,-' + size + ')';\n    if (!this.isChartControl && !this.isBulletChartControl && !this.isStockChartControl && this.isVertical) {\n      var pageX = this.pageXCollections[page * this.maxColumns];\n      size = !this.isRtlEnable ? pageX - this.legendBounds.x : this.legendBounds.x + this.maxWidth - pageX;\n      size = size < 0 ? 0 : size; // to avoid small pixel variation\n      translate = (!this.isRtlEnable ? 'translate(-' : 'translate(') + size + ',0)';\n    }\n    if (!this.chart.enableCanvas) {\n      this.legendTranslateGroup.setAttribute('transform', translate);\n    }\n    if (!this.chart.enableCanvas && (legend.enablePages || this.isBulletChartControl)) {\n      pagingText.textContent = !this.isRtlEnable ? pageNumber + '/' + this.totalPages : this.totalPages + '/' + pageNumber;\n    }\n    this.currentPage = pageNumber;\n    return size;\n  };\n  /**\n   * To change legend pages for chart and accumulation chart\n   *\n   * @param event\n   * @param pageUp\n   * @param event\n   * @param pageUp\n   */\n  BaseLegend.prototype.changePage = function (event, pageUp) {\n    var legend = this.chart.legendSettings;\n    var backwardArrow = document.getElementById(this.legendID + '_pageup');\n    var forwardArrow = document.getElementById(this.legendID + '_pagedown');\n    var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n    var pageText = legend.enablePages || this.isBulletChartControl ? document.getElementById(this.legendID + '_pagenumber') : null;\n    var page = legend.enablePages || this.isBulletChartControl ? parseInt(pageText.textContent.split('/')[!this.isRtlEnable ? 0 : 1], 10) : this.currentPage;\n    if (pageUp && page > 1) {\n      this.translatePage(isCanvas, pageText, page - 2, page - 1, legend);\n    } else if (!pageUp && page < this.totalPages) {\n      this.translatePage(isCanvas, pageText, page, page + 1, legend);\n    }\n    if (this.isPaging && !legend.enablePages && !this.isBulletChartControl) {\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      this.currentPage === this.totalPages ? this.hideArrow(forwardArrow) : this.showArrow(forwardArrow);\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      this.currentPage === 1 ? this.hideArrow(backwardArrow) : this.showArrow(backwardArrow);\n    }\n  };\n  /**\n   * To hide the backward and forward arrow\n   *\n   * @param arrowElement\n   */\n  BaseLegend.prototype.hideArrow = function (arrowElement) {\n    arrowElement.setAttribute('opacity', '0');\n  };\n  /**\n   * To show the  backward and forward arrow\n   *\n   * @param arrowElement\n   */\n  BaseLegend.prototype.showArrow = function (arrowElement) {\n    arrowElement.setAttribute('opacity', '1');\n  };\n  /**\n   * To find legend elements id based on chart or accumulation chart\n   *\n   * @param option\n   * @param prefix\n   * @param count\n   * @param option\n   * @param prefix\n   * @param count\n   * @param option\n   * @param prefix\n   * @param count\n   * @private\n   */\n  BaseLegend.prototype.generateId = function (option, prefix, count) {\n    if (this.isChartControl || this.isStockChartControl) {\n      return prefix + count;\n    } else {\n      return prefix + option.pointIndex;\n    }\n  };\n  /**\n   * To show or hide trimmed text tooltip for legend.\n   *\n   * @param event\n   * @returns {void}\n   * @private\n   */\n  BaseLegend.prototype.move = function (event) {\n    var _this = this;\n    var x = this.chart.mouseX;\n    var y = this.chart.mouseY;\n    if (event.target.textContent.indexOf('...') > -1) {\n      var targetId = event.target.id.split(this.legendID + '_text_');\n      if (targetId.length === 2) {\n        var index = parseInt(targetId[1], 10);\n        var element = this.chart.element;\n        if (!isNaN(index)) {\n          if (this.chart.isTouch) {\n            removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n          }\n          if (this.isChartControl) {\n            showTooltip(this.chart.series[index].name, x, y, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n          } else {\n            showTooltip(this.chart.visibleSeries[0].points[index].x.toString(), x + 10, y + 10, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n          }\n        }\n      }\n    } else {\n      removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n    }\n    if (this.chart.isTouch) {\n      clearTimeout(this.clearTooltip);\n      this.clearTooltip = +setTimeout(function () {\n        removeElement(_this.chart.element.id + '_EJ2_Legend_Tooltip');\n      }, 1000);\n    }\n  };\n  return BaseLegend;\n}();\nexport { BaseLegend };\n/**\n * Class for legend options\n *\n * @private\n */\nvar LegendOptions = /** @class */function () {\n  function LegendOptions(text, fill, shape, visible, type, url, markerShape, markerVisibility, pointIndex, seriesIndex) {\n    this.location = {\n      x: 0,\n      y: 0\n    };\n    this.textCollection = [];\n    this.text = text;\n    this.fill = fill;\n    this.shape = shape;\n    this.url = url;\n    this.visible = visible;\n    this.type = type;\n    this.markerVisibility = markerVisibility;\n    this.markerShape = markerShape;\n    this.pointIndex = pointIndex;\n    this.seriesIndex = seriesIndex;\n  }\n  return LegendOptions;\n}();\nexport { LegendOptions };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Property","Complex","ChildProperty","measureText","Rect","TextOption","Size","PathOption","Font","Border","Margin","ContainerPadding","Theme","subtractThickness","Thickness","drawSymbol","ChartLocation","titlePositionX","getTitle","textTrim","getTextAnchor","RectOption","textElement","stringToNumber","removeElement","showTooltip","getElement","appendChildElement","Location","_super","apply","LegendSettings","x","y","legendLabelFont","left","right","top","bottom","legendTitleFont","BaseLegend","chart","maxItemHeight","rowHeights","pageHeights","columnHeights","pageXCollections","chartRowCount","legendTitleCollections","legendRegions","pagingRegions","legend","legendSettings","legendID","element","id","isChartControl","getModuleName","isAccChartControl","isBulletChartControl","isStockChartControl","bulletChart","fivePixel","rowCount","pageButtonSize","maxColumns","maxWidth","currentPage","backwardArrowOpacity","forwardArrowOpacity","arrowWidth","arrowHeight","isTop","isTitle","currentPageNumber","calculateLegendBounds","rect","availableSize","maxLabelSize","defaultValue","getPosition","position","legendBounds","isVertical","itemPadding","padding","height","margin","width","library","getLegendBounds","containerPadding","getLocation","alignment","accumulation","visibleSeries","type","setBounds","computedWidth","computedHeight","titleHeight","title","titlePosition","legendTitleSize","isPaging","enablePages","Math","min","mode","titleStyle","textOverflow","calculateLegendTitle","max","ceil","border","isBulletChart","labelIns","labelPosition","ticklIns","tickPosition","orientation","categoryFieldValue","categoryField","marginBottom","legendHeight","legendWidth","alignLegend","opposedPosition","majorTickLines","location","start","size","legendSize","renderLegend","redraw","titlePlusArrowWidth","pagingLegendBounds","requireLegendBounds","firstLegend","findFirstLegendPosition","legendCollections","upArrowHeight","legendGroup","renderer","createGroup","legendTranslateGroup","createLegendElements","maxHeight","pageCount","totalPages","text","textSize","shapeHeight","isRtlEnable","getLinearLegend","legendSeriesGroup","count","previousLegend","startPadding","shapeWidth","x_Location","anchor","isRtlEnabled","enableRtl","textOptions","textPadding","shapePadding","legendIndex","leftSpace","bottomSapce","abs","rightSpace","legendOption","isReverse","fill","points","pointIndex","color","accessbilityText","render","generateId","setAttribute","description","getRenderPoint","renderSymbol","renderText","style","cssText","toggleVisibility","selectionMode","highlightMode","appendChild","renderPagingElements","enableCanvas","svgObject","xmlns","nextLegend","defElement","createDefs","gradientLegendCount","linerGradientEle","document","createElementNS","opacity","fillColors","numberItems","_i","_a","rangeColorSettings","colorMap","indexOf","push","colors","diffValue","end","colorsLength","index","calculatedValue","_b","_c","fillColor","x1","x2","y2","full","offsetValue","stopEle","toString","startLabel","endLabel","startTextSize","textStyle","endTextSize","textWidth","textHeight","otherSpaces","linearBarWidth","linearBarHeight","xValue","yValue","startLabelY","endLabelY","startLabelX","endLabelX","diffWidth","diffHeight","hiddenColor","fontcolor","visible","themeStyle","legendLabel","isCanvas","translatePage","gradientLegend","drawRectangle","legendCollection","legendCollection_1","maximumTitleWidth","renderLegendTitle","textAlignment","topPadding","legendTitleTextOptions","options","background","legendItemsGroup","clippath","createClipPath","clipRect","pagingClipRect","group","control","symbolColor","isStrokeWidth","shape","toLowerCase","isCustomBorder","borderColor","strokewidth","regionPadding","markerShape","series","seriesBorder","isLineShapemarker","symbolOption","isInversed","url","markerVisibility","textCollection","bounds","textOption","paginggroup","grayColor","theme","pageUp","pageDown","iconSize","titleWidth","cursor","clipPathHeight","clearRect","pageTextElement","translateX","totalNoOfPages","calTotalPage","getPageHeight","sum","pagingText","page","pageNumber","translate","pageX","textContent","changePage","event","backwardArrow","getElementById","forwardArrow","pageText","parseInt","split","hideArrow","showArrow","arrowElement","option","prefix","move","_this","mouseX","mouseY","targetId","isNaN","isTouch","name","offsetWidth","clearTimeout","clearTooltip","setTimeout","LegendOptions","seriesIndex"],"sources":["/Users/thonghoangdanh/FullStack/birdnest/node_modules/@syncfusion/ej2-charts/src/common/legend/legend.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable valid-jsdoc */\n/* eslint-disable jsdoc/require-param */\n/* eslint-disable @typescript-eslint/no-inferrable-types */\nimport { Property, Complex, ChildProperty } from '@syncfusion/ej2-base';\nimport { measureText, Rect, TextOption, Size, PathOption } from '@syncfusion/ej2-svg-base';\nimport { Font, Border, Margin, ContainerPadding } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { subtractThickness, Thickness, drawSymbol, ChartLocation, titlePositionX, getTitle, textTrim, getTextAnchor } from '../utils/helper';\nimport { RectOption, textElement, stringToNumber } from '../utils/helper';\nimport { removeElement, showTooltip, getElement, appendChildElement } from '../utils/helper';\n/**\n * Configures the location for the legend.\n */\nvar Location = /** @class */ (function (_super) {\n    __extends(Location, _super);\n    function Location() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], Location.prototype, \"y\", void 0);\n    return Location;\n}(ChildProperty));\nexport { Location };\n/**\n * Configures the legends in charts.\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Complex({ x: 0, y: 0 }, Location)\n    ], LegendSettings.prototype, \"location\", void 0);\n    __decorate([\n        Property('Auto')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property('Series')\n    ], LegendSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(8)\n    ], LegendSettings.prototype, \"padding\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"itemPadding\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeHeight\", void 0);\n    __decorate([\n        Property(10)\n    ], LegendSettings.prototype, \"shapeWidth\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], LegendSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex({ left: 0, right: 0, top: 0, bottom: 0 }, Margin)\n    ], LegendSettings.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ left: 0, right: 0, top: 0, bottom: 0 }, ContainerPadding)\n    ], LegendSettings.prototype, \"containerPadding\", void 0);\n    __decorate([\n        Property(8)\n    ], LegendSettings.prototype, \"shapePadding\", void 0);\n    __decorate([\n        Property('transparent')\n    ], LegendSettings.prototype, \"background\", void 0);\n    __decorate([\n        Property(1)\n    ], LegendSettings.prototype, \"opacity\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"enableHighlight\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"description\", void 0);\n    __decorate([\n        Property(3)\n    ], LegendSettings.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"title\", void 0);\n    __decorate([\n        Complex(Theme.legendTitleFont, Font)\n    ], LegendSettings.prototype, \"titleStyle\", void 0);\n    __decorate([\n        Property('Top')\n    ], LegendSettings.prototype, \"titlePosition\", void 0);\n    __decorate([\n        Property('Normal')\n    ], LegendSettings.prototype, \"textWrap\", void 0);\n    __decorate([\n        Property('Ellipsis')\n    ], LegendSettings.prototype, \"textOverflow\", void 0);\n    __decorate([\n        Property(100)\n    ], LegendSettings.prototype, \"maximumTitleWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], LegendSettings.prototype, \"maximumLabelWidth\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"enablePages\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"reverse\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n * Legend base class for Chart and Accumulation chart.\n *\n * @private\n */\nvar BaseLegend = /** @class */ (function () {\n    /**\n     * Constructor for the dateTime module.\n     *\n     * @private\n     */\n    function BaseLegend(chart) {\n        this.maxItemHeight = 0;\n        this.rowHeights = [];\n        this.pageHeights = [];\n        this.columnHeights = [];\n        this.pageXCollections = []; // pages of x locations\n        this.chartRowCount = 1;\n        this.legendTitleCollections = [];\n        this.legendRegions = [];\n        this.pagingRegions = [];\n        this.chart = chart;\n        this.legend = chart.legendSettings;\n        this.legendID = chart.element.id + '_chart_legend';\n        this.isChartControl = (chart.getModuleName() === 'chart');\n        this.isAccChartControl = (chart.getModuleName() === 'accumulationchart');\n        this.isBulletChartControl = (chart.getModuleName() === 'bulletChart');\n        this.isStockChartControl = (chart.getModuleName() === 'stockChart');\n        this.bulletChart = this.chart;\n        this.fivePixel = 5;\n        this.rowCount = 0;\n        this.pageButtonSize = 8;\n        this.maxColumns = 0;\n        this.maxWidth = 0;\n        this.currentPage = 1;\n        this.backwardArrowOpacity = 0;\n        this.forwardArrowOpacity = 1;\n        this.arrowWidth = (2 * (this.fivePixel + this.pageButtonSize + this.fivePixel));\n        this.arrowHeight = this.arrowWidth;\n        this.isTop = false;\n        this.isTitle = false;\n        this.currentPageNumber = 1;\n    }\n    /**\n     * Calculate the bounds for the legends.\n     *\n     * @returns {void}\n     * @private\n     */\n    BaseLegend.prototype.calculateLegendBounds = function (rect, availableSize, maxLabelSize) {\n        var legend = this.legend;\n        var defaultValue = (this.isBulletChartControl) ? '40%' : '20%';\n        this.getPosition(legend.position, availableSize);\n        this.legendBounds = new Rect(rect.x, rect.y, 0, 0);\n        this.isVertical = (this.position === 'Left' || this.position === 'Right');\n        this.itemPadding = this.legend.itemPadding ? this.legend.itemPadding : this.isVertical ? this.legend.padding : 20;\n        if (this.isVertical) {\n            this.legendBounds.height = stringToNumber(legend.height, availableSize.height - (rect.y - this.chart.margin.top)) || rect.height;\n            this.legendBounds.width = stringToNumber(legend.width || defaultValue, availableSize.width);\n        }\n        else {\n            this.legendBounds.width = stringToNumber(legend.width, availableSize.width) || rect.width;\n            this.legendBounds.height = stringToNumber(legend.height || defaultValue, availableSize.height);\n        }\n        this.library.getLegendBounds(availableSize, this.legendBounds, legend);\n        if (!this.isBulletChartControl) {\n            this.legendBounds.width += (this.legend.containerPadding.left + this.legend.containerPadding.right);\n            this.legendBounds.height += (this.legend.containerPadding.top + this.legend.containerPadding.bottom);\n        }\n        this.getLocation(this.position, legend.alignment, this.legendBounds, rect, availableSize, maxLabelSize);\n    };\n    /**\n     * To find legend position based on available size for chart and accumulation chart\n     *\n     * @param position\n     * @param availableSize\n     * @param position\n     * @param availableSize\n     * @returns {void}\n     */\n    BaseLegend.prototype.getPosition = function (position, availableSize) {\n        var chart = this.chart;\n        var accumulation = this.chart;\n        if (this.isChartControl || this.isBulletChartControl || this.isStockChartControl) {\n            this.position = (position !== 'Auto') ? position : 'Bottom';\n        }\n        else {\n            if (position === 'Auto' && ((chart || accumulation).visibleSeries && (chart || accumulation).visibleSeries[0].type === 'Funnel' || (chart || accumulation).visibleSeries[0].type === 'Pyramid')) {\n                position = 'Top';\n            }\n            this.position = (position !== 'Auto') ? position :\n                (availableSize.width > availableSize.height ? 'Right' : 'Bottom');\n        }\n    };\n    /**\n     * To set bounds for chart and accumulation chart\n     *\n     * @param computedWidth\n     * @param computedHeight\n     * @param legend\n     * @param legendBounds\n     * @param computedWidth\n     * @param computedHeight\n     * @param legend\n     * @param legendBounds\n     * @param computedWidth\n     * @param computedHeight\n     * @param legend\n     * @param legendBounds\n     * @param computedWidth\n     * @param computedHeight\n     * @param legend\n     * @param legendBounds\n     * @returns {void}\n     */\n    BaseLegend.prototype.setBounds = function (computedWidth, computedHeight, legend, legendBounds) {\n        var titleHeight = legend.title && legend.titlePosition === 'Top' ? this.legendTitleSize.height + this.fivePixel : 0;\n        if (this.isVertical && this.isPaging && !legend.enablePages && !this.isBulletChartControl) {\n            titleHeight = legend.title && legend.titlePosition === 'Top' ? this.legendTitleSize.height + this.fivePixel : 0;\n            titleHeight += (this.pageButtonSize + this.fivePixel);\n        }\n        computedWidth = Math.min(computedWidth, legendBounds.width);\n        computedHeight = Math.min(computedHeight, legendBounds.height);\n        if (legend.mode === 'Gradient') {\n            legendBounds.width = legend.width ? legendBounds.width : this.isVertical ? computedWidth : 0.75 * legendBounds.width;\n            legendBounds.height = legend.height ? legendBounds.height : this.isVertical ? 0.75 * legendBounds.height : computedHeight;\n        }\n        else {\n            legendBounds.width = !legend.width ? computedWidth : legendBounds.width;\n            legendBounds.height = !legend.height ? computedHeight : legendBounds.height;\n        }\n        if (!this.isBulletChartControl) {\n            if (this.isTop && legend.titleStyle.textOverflow !== 'None') {\n                this.calculateLegendTitle(legend, legendBounds);\n                legendBounds.height += legend.titleStyle.textOverflow === 'Wrap' && this.legendTitleCollections.length > 1 ?\n                    (this.legendTitleSize.height - (this.legendTitleSize.height / this.legendTitleCollections.length)) : 0;\n            }\n        }\n        this.rowCount = Math.max(1, Math.ceil((legendBounds.height - legend.padding - titleHeight) /\n            (this.maxItemHeight + legend.padding)));\n    };\n    /**\n     * To find legend location based on position, alignment for chart and accumulation chart\n     *\n     * @param position\n     * @param alignment\n     * @param legendBounds\n     * @param rect\n     * @param availableSize\n     * @param maxLabelSize\n     * @param position\n     * @param alignment\n     * @param legendBounds\n     * @param rect\n     * @param availableSize\n     * @param maxLabelSize\n     * @param position\n     * @param alignment\n     * @param legendBounds\n     * @param rect\n     * @param availableSize\n     * @param maxLabelSize\n     * @param position\n     * @param alignment\n     * @param legendBounds\n     * @param rect\n     * @param availableSize\n     * @param maxLabelSize\n     * @param position\n     * @param alignment\n     * @param legendBounds\n     * @param rect\n     * @param availableSize\n     * @param maxLabelSize\n     * @param position\n     * @param alignment\n     * @param legendBounds\n     * @param rect\n     * @param availableSize\n     * @param maxLabelSize\n     */\n    BaseLegend.prototype.getLocation = function (position, alignment, legendBounds, rect, availableSize, maxLabelSize) {\n        var padding = this.legend.border.width;\n        var isBulletChart = this.isBulletChartControl;\n        var bulletChart = this.bulletChart;\n        var labelIns = bulletChart.labelPosition === 'Inside';\n        var ticklIns = bulletChart.tickPosition === 'Inside';\n        var isVertical = bulletChart.orientation === 'Vertical';\n        var categoryFieldValue = (isBulletChart && bulletChart.categoryField !== '') ?\n            maxLabelSize.width + this.chart.border.width + padding * 3 : 0;\n        var marginBottom = this.chart.margin.bottom;\n        var legendHeight = legendBounds.height + padding + this.legend.margin.top + this.legend.margin.bottom;\n        var legendWidth = legendBounds.width + padding + this.legend.margin.left + this.legend.margin.right;\n        if (position === 'Bottom') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + (rect.height - legendHeight) + padding + this.legend.margin.top;\n            legendBounds.y += (isBulletChart && !bulletChart.opposedPosition && !labelIns && !ticklIns\n                && !isVertical) ? bulletChart.majorTickLines.height + marginBottom + this.legend.border.width + padding * 2 :\n                (isVertical && bulletChart.categoryField !== '') ? maxLabelSize.height + padding * 2 : 0;\n            subtractThickness(rect, new Thickness(0, 0, 0, legendHeight));\n        }\n        else if (position === 'Top') {\n            legendBounds.x = this.alignLegend(legendBounds.x, availableSize.width, legendBounds.width, alignment);\n            legendBounds.y = rect.y + padding + this.legend.margin.top;\n            legendBounds.y -= (isBulletChart && bulletChart.opposedPosition && !labelIns && !ticklIns &&\n                !isVertical) ? bulletChart.majorTickLines.height + this.chart.margin.top : 0;\n            legendHeight -= (isBulletChart) ? -padding * 2 : 0;\n            subtractThickness(rect, new Thickness(0, 0, legendHeight, 0));\n        }\n        else if (position === 'Right') {\n            legendBounds.x = rect.x + (rect.width - legendBounds.width) - this.legend.margin.right;\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            legendWidth += (isBulletChart && bulletChart.opposedPosition && !labelIns && !ticklIns &&\n                isVertical) ? (this.chart.margin.left + this.chart.margin.right + bulletChart.majorTickLines.height) : 0;\n            subtractThickness(rect, new Thickness(0, legendWidth, 0, 0));\n        }\n        else if (position === 'Left') {\n            legendBounds.x = legendBounds.x + this.legend.margin.left;\n            legendBounds.y = rect.y + this.alignLegend(0, availableSize.height - (rect.y + marginBottom), legendBounds.height, alignment);\n            legendWidth += (isBulletChart && !bulletChart.opposedPosition && !labelIns && !ticklIns &&\n                isVertical) ? (legendBounds.x - this.chart.margin.left + padding + bulletChart.majorTickLines.height) :\n                (bulletChart.orientation !== 'Vertical' && bulletChart.categoryField !== '') ? categoryFieldValue : 0;\n            subtractThickness(rect, new Thickness(legendWidth, 0, 0, 0));\n        }\n        else {\n            legendBounds.x = this.legend.location.x;\n            legendBounds.y = this.legend.location.y;\n            subtractThickness(rect, new Thickness(0, 0, 0, 0));\n        }\n    };\n    /**\n     * To find legend alignment for chart and accumulation chart\n     *\n     * @param start\n     * @param size\n     * @param legendSize\n     * @param alignment\n     * @param start\n     * @param size\n     * @param legendSize\n     * @param alignment\n     * @param start\n     * @param size\n     * @param legendSize\n     * @param alignment\n     * @param start\n     * @param size\n     * @param legendSize\n     * @param alignment\n     */\n    BaseLegend.prototype.alignLegend = function (start, size, legendSize, alignment) {\n        switch (alignment) {\n            case 'Far':\n                start = (size - legendSize) - start;\n                break;\n            case 'Center':\n                start = ((size - legendSize) / 2);\n                break;\n        }\n        return start;\n    };\n    /**\n     * Renders the legend.\n     *\n     * @param chart\n     * @param legend\n     * @param legendBounds\n     * @param redraw\n     * @param chart\n     * @param legend\n     * @param legendBounds\n     * @param redraw\n     * @param chart\n     * @param legend\n     * @param legendBounds\n     * @param redraw\n     * @param chart\n     * @param legend\n     * @param legendBounds\n     * @param redraw\n     * @returns {void}\n     * @private\n     */\n    BaseLegend.prototype.renderLegend = function (chart, legend, legendBounds, redraw) {\n        var titleHeight = 0;\n        var titlePlusArrowWidth = 0;\n        var pagingLegendBounds = new Rect(0, 0, 0, 0);\n        var requireLegendBounds = new Rect(0, 0, 0, 0);\n        var firstLegend = this.findFirstLegendPosition(this.legendCollections);\n        var padding = legend.padding;\n        this.itemPadding = this.isBulletChartControl ? legend.padding : this.itemPadding;\n        var isPaging = legend.enablePages;\n        var titlePosition = legend.titlePosition;\n        var upArrowHeight = this.isPaging && !legend.enablePages && this.isVertical ? this.pageButtonSize : 0;\n        var legendGroup = chart.renderer.createGroup({ id: this.legendID + '_g' });\n        var legendTranslateGroup = this.createLegendElements(chart, legendBounds, legendGroup, legend, this.legendID, redraw);\n        this.legendRegions = [];\n        this.chartRowCount = 1;\n        var maxHeight = 0;\n        titleHeight = !this.isTitle ? 0 : (this.isTop || this.isVertical ? this.legendTitleSize.height : 0);\n        if (this.isChartControl || (this.isAccChartControl && !this.isVertical)) {\n            var pageCount = 1;\n            var rowHeights = this.rowHeights[0] + padding;\n            for (var i = 1; i < this.rowHeights.length; i++) {\n                if ((rowHeights + this.rowHeights[i] + padding) > (this.legendBounds.height - this.pageButtonSize - this.maxItemHeight / 2)) {\n                    this.pageHeights[pageCount - 1] = rowHeights + titleHeight;\n                    pageCount++;\n                    rowHeights = 0;\n                }\n                rowHeights += (this.rowHeights[i] + (this.isVertical ? this.itemPadding : padding));\n            }\n            this.pageHeights[pageCount - 1] = rowHeights + titleHeight;\n            this.totalPages = pageCount;\n        }\n        for (var i = 0; i < this.legendCollections.length; i++) {\n            if (this.legendCollections[i].text !== '') {\n                maxHeight = Math.max(this.legendCollections[i].textSize.height, maxHeight);\n                break;\n            }\n            else {\n                continue;\n            }\n        }\n        if (!this.isChartControl && !this.isAccChartControl) {\n            this.maxItemHeight = Math.max(maxHeight, legend.shapeHeight);\n        }\n        // For new legend navigation\n        if (!isPaging && this.isPaging && !this.isVertical) {\n            titlePlusArrowWidth = !this.isTitle ? 0 : titlePosition === 'Left' ? this.legendTitleSize.width : 0;\n            titlePlusArrowWidth += (this.pageButtonSize + (2 * this.fivePixel));\n        }\n        else if (this.isTitle && !this.isPaging && !this.isVertical) {\n            titlePlusArrowWidth = titlePosition === ((!this.isRtlEnable) ? 'Left' : 'Right') ? (this.fivePixel + this.legendTitleSize.width) : 0;\n        }\n        if (chart.legendSettings.mode === 'Gradient' && this.legendCollections.length > 1) {\n            this.getLinearLegend(legendBounds, chart, legend, legendTranslateGroup);\n            this.totalPages = 1;\n        }\n        else if (firstLegend !== this.legendCollections.length) {\n            var legendSeriesGroup = void 0; // legendItem group for each series group element\n            var count = 0;\n            var previousLegend = this.legendCollections[firstLegend];\n            // starting shape center x,y position && to resolve lint error used new line for declaration\n            var startPadding = this.isBulletChartControl ? 0 : titlePlusArrowWidth + padding + (legend.shapeWidth / 2) + legend.containerPadding.left;\n            var x_Location = this.isBulletChartControl ? legendBounds.x + titlePlusArrowWidth + padding + (legend.shapeWidth / 2) :\n                (!this.isRtlEnable) ? legendBounds.x + startPadding : legendBounds.x + ((this.chart.getModuleName() === 'accumulationchart' && this.isVertical) ? this.maxWidth : legendBounds.width) - startPadding;\n            var start = new ChartLocation(x_Location, this.isBulletChartControl ? legendBounds.y + titleHeight + upArrowHeight + padding + (this.maxItemHeight / 2) :\n                legendBounds.y + titleHeight + upArrowHeight + padding + (this.maxItemHeight / 2) + legend.containerPadding.top);\n            var anchor = chart.isRtlEnabled || chart.enableRtl ? 'end' : 'start';\n            var textOptions = new TextOption('', start.x, start.y, anchor);\n            var textPadding = legend.shapePadding + this.itemPadding + legend.shapeWidth;\n            //  initialization for totalPages legend click totalpage again calculate\n            this.totalPages = this.totalPages = (this.isAccChartControl || this.isChartControl || this.isBulletChartControl || this.isStockChartControl) ? this.totalPages : 0;\n            this.pageXCollections = [];\n            this.legendCollections[firstLegend].location = start;\n            var legendIndex = void 0;\n            if (!legend.enablePages && this.isPaging) {\n                var x = start.x - this.fivePixel;\n                var y = start.y - this.fivePixel;\n                var leftSpace = this.isTitle && !this.isVertical && titlePosition === 'Left' ?\n                    this.legendTitleSize.width + this.fivePixel : 0;\n                var bottomSapce = this.isVertical ? (this.pageButtonSize) + Math.abs(y - legendBounds.y) : 0;\n                var rightSpace = this.isTitle && !this.isVertical && titlePosition === 'Right' ?\n                    this.legendTitleSize.width + this.fivePixel : 0;\n                rightSpace += this.isVertical ? 0 : (this.fivePixel + this.pageButtonSize + this.fivePixel);\n                pagingLegendBounds = new Rect(x, y, legendBounds.width - rightSpace - leftSpace, legendBounds.height - bottomSapce);\n                requireLegendBounds = pagingLegendBounds;\n            }\n            else {\n                requireLegendBounds = legendBounds;\n            }\n            var legendOption = void 0;\n            for (var i = 0; i < this.legendCollections.length; i++) {\n                legendOption = this.legendCollections[i];\n                legendIndex = !this.isReverse ? count : (this.legendCollections.length - 1) - count;\n                if (this.chart.getModuleName() === 'accumulationchart') {\n                    // eslint-disable-next-line max-len\n                    legendOption.fill = (this.chart || this.chart || this.chart).visibleSeries[0].points[legendOption.pointIndex].color;\n                }\n                if (this.chart.getModuleName() === 'stockChart') {\n                    legendOption.type = this.chart.visibleSeries[count].type;\n                }\n                this.accessbilityText = (this.isBulletChartControl) ? 'Legend of bullet chart' + '' + legendOption.text\n                    : 'Click to show or hide the ' + legendOption.text + ' series';\n                if (legendOption.render && legendOption.text !== '') {\n                    legendSeriesGroup = chart.renderer.createGroup({\n                        id: this.legendID + this.generateId(legendOption, '_g_', legendIndex)\n                    });\n                    if (legendSeriesGroup) {\n                        legendSeriesGroup.setAttribute(\"tabindex\", i === 0 ? \"0\" : \"\");\n                        legendSeriesGroup.setAttribute('aria-label', legend.description || ('Show ' + legendOption.text));\n                    }\n                    this.library.getRenderPoint(legendOption, start, textPadding, previousLegend, requireLegendBounds, count, firstLegend);\n                    this.renderSymbol(legendOption, legendSeriesGroup, legendIndex);\n                    this.renderText(chart, legendOption, legendSeriesGroup, textOptions, count, legendIndex);\n                    if (legendSeriesGroup) {\n                        legendSeriesGroup.style.cssText =\n                            \"pointer-events: bounding-box; cursor: \" + ((!legend.toggleVisibility && (chart.selectionMode === 'None' ||\n                                chart.highlightMode === 'None' ||\n                                chart.selectionMode === 'None') || this.isBulletChartControl) ? \"auto\" : \"pointer\");\n                    }\n                    if (legendTranslateGroup) {\n                        legendTranslateGroup.appendChild(legendSeriesGroup);\n                    }\n                    previousLegend = legendOption;\n                }\n                count++;\n            }\n            if (this.isPaging) {\n                this.renderPagingElements(chart, legendBounds, textOptions, legendGroup);\n            }\n            else {\n                this.totalPages = 1;\n            }\n        }\n        appendChildElement(chart.enableCanvas, chart.svgObject, legendGroup, redraw);\n    };\n    /** @private */\n    BaseLegend.prototype.getLinearLegend = function (legendBounds, chart, legend, legendTranslateGroup) {\n        var xmlns = 'http://www.w3.org/2000/svg';\n        var previousLegend = this.legendCollections[0];\n        var nextLegend = this.legendCollections[1];\n        var defElement = this.chart.renderer.createDefs();\n        var gradientLegendCount = 0;\n        var linerGradientEle = document.createElementNS(xmlns, 'linearGradient');\n        var opacity = 1;\n        var fillColors = [];\n        var numberItems = [];\n        if (legend.title) {\n            if (!this.isVertical) {\n                if (legend.titlePosition === 'Left') {\n                    legendBounds.x += this.legendTitleSize.width;\n                    legendBounds.width -= this.legendTitleSize.width;\n                }\n                else if (legend.titlePosition === 'Right') {\n                    legendBounds.width -= this.legendTitleSize.width;\n                }\n                else if (legend.titlePosition === 'Top') {\n                    legendBounds.y += this.legendTitleSize.height;\n                    legendBounds.height -= this.legendTitleSize.height;\n                }\n            }\n            else {\n                legendBounds.y += this.legendTitleSize.height;\n                legendBounds.height -= this.legendTitleSize.height;\n            }\n        }\n        for (var _i = 0, _a = this.chart.rangeColorSettings; _i < _a.length; _i++) {\n            var colorMap = _a[_i];\n            if (numberItems.indexOf(colorMap.start) < 0) {\n                numberItems.push(colorMap.start);\n            }\n            if (colorMap.colors.length > 2) {\n                var diffValue = (colorMap.end - colorMap.start);\n                var colorsLength = colorMap.colors.length - 1;\n                if (diffValue > 0) {\n                    diffValue = diffValue / colorsLength;\n                    for (var index = 1; index < colorsLength; index++) {\n                        var calculatedValue = colorMap.start + (diffValue * index);\n                        numberItems.push(calculatedValue);\n                    }\n                }\n                else {\n                    for (var index = 1; index < colorsLength; index++) {\n                        numberItems.push(colorMap.start);\n                    }\n                }\n            }\n            if (numberItems.indexOf(colorMap.end) < 0) {\n                numberItems.push(colorMap.end);\n            }\n            for (var _b = 0, _c = colorMap.colors; _b < _c.length; _b++) {\n                var fillColor = _c[_b];\n                if (fillColors.indexOf(fillColor) < 0) {\n                    fillColors.push(fillColor);\n                }\n            }\n            if (colorMap.colors.length > 0 && colorMap.colors.length < 2) {\n                fillColors.push(colorMap.colors[0]);\n            }\n        }\n        var x1 = this.isRtlEnable && !this.isVertical ? '100%' : '0%';\n        var x2 = this.isVertical || this.isRtlEnable ? '0%' : '100%';\n        var y2 = this.isVertical ? '100%' : '0%';\n        linerGradientEle.setAttribute('id', this.generateId(previousLegend, 'linearGradient', gradientLegendCount));\n        linerGradientEle.setAttribute('x1', x1);\n        linerGradientEle.setAttribute('y1', '0%');\n        linerGradientEle.setAttribute('x2', x2);\n        linerGradientEle.setAttribute('y2', y2);\n        var full = numberItems[numberItems.length - 1] - numberItems[0];\n        for (var b = 0; b < fillColors.length; b++) {\n            var offsetValue = numberItems[b] - numberItems[0];\n            offsetValue = offsetValue / full;\n            var stopEle = document.createElementNS(xmlns, 'stop');\n            stopEle.setAttribute('offset', offsetValue.toString());\n            stopEle.setAttribute('stop-color', fillColors[b]);\n            stopEle.setAttribute('stop-opacity', opacity.toString());\n            linerGradientEle.appendChild(stopEle);\n        }\n        var startLabel = previousLegend.text.toString();\n        var endLabel = nextLegend.text.toString();\n        var startTextSize = measureText(startLabel, legend.textStyle);\n        var endTextSize = measureText(endLabel, legend.textStyle);\n        var textWidth = startTextSize.width > endTextSize.width ? startTextSize.width : endTextSize.width;\n        var textHeight = startTextSize.height > endTextSize.height ? startTextSize.height : endTextSize.height;\n        var otherSpaces = (2 * textWidth) + (4 * legend.padding);\n        var linearBarWidth = legendBounds.width;\n        var linearBarHeight = legendBounds.height;\n        var xValue = legendBounds.x + textWidth + (2 * legend.padding);\n        var yValue = legendBounds.y + legend.padding;\n        var startLabelY;\n        var endLabelY;\n        var startLabelX;\n        var endLabelX;\n        if (this.isVertical) {\n            otherSpaces = (2 * textHeight) + (4 * legend.padding);\n            linearBarWidth = legendBounds.width - (2 * legend.padding);\n            linearBarHeight = legendBounds.height - otherSpaces;\n            xValue = legendBounds.x + legend.padding;\n            yValue = legendBounds.y + textHeight + (2 * legend.padding);\n            startLabelY = legendBounds.y + legend.padding + textHeight;\n            endLabelY = yValue + linearBarHeight + textHeight;\n            startLabelX = (legendBounds.x + (legendBounds.width * 0.5)) - (textWidth * 0.5);\n            endLabelX = startLabelX;\n            if (linearBarWidth > 30) {\n                var diffWidth = linearBarWidth - 30;\n                linearBarWidth = 30;\n                xValue = xValue + (diffWidth / 2);\n            }\n        }\n        else {\n            linearBarWidth = legendBounds.width - otherSpaces;\n            linearBarHeight = legendBounds.height - (2 * legend.padding);\n            startLabelX = legendBounds.x + ((!this.isRtlEnable) ? legend.padding + (textWidth - startTextSize.width) :\n                linearBarWidth + (3 * legend.padding) + textWidth);\n            endLabelX = legendBounds.x + ((!this.isRtlEnable) ? linearBarWidth + (3 * legend.padding) + textWidth :\n                legend.padding + (textWidth - endTextSize.width));\n            startLabelY = legendBounds.y + (legendBounds.height * 0.5) + (textHeight * 0.25);\n            endLabelY = startLabelY;\n            if (linearBarHeight > 30) {\n                var diffHeight = linearBarHeight - 30;\n                linearBarHeight = 30;\n                yValue = yValue + (diffHeight / 2);\n            }\n        }\n        var anchor = chart.enableRtl ? 'end' : '';\n        var textOptions = new TextOption('', startLabelX, startLabelY, anchor, startLabel);\n        var hiddenColor = '#D3D3D3';\n        textOptions.id = this.legendID + this.generateId(previousLegend, '_text_', 1);\n        var fontcolor = previousLegend.visible ? legend.textStyle.color || chart.themeStyle.legendLabel : hiddenColor;\n        var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n        textElement(chart.renderer, textOptions, legend.textStyle, fontcolor, legendTranslateGroup, false, false, false, false, \n        // tslint:disable-next-line:align\n        null, this.currentPageNumber && isCanvas ?\n            new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null);\n        textOptions = new TextOption('', endLabelX, endLabelY, anchor, endLabel);\n        textOptions.id = this.legendID + this.generateId(previousLegend, '_text_', 2);\n        textElement(chart.renderer, textOptions, legend.textStyle, fontcolor, legendTranslateGroup, false, false, false, false, \n        // tslint:disable-next-line:align\n        null, this.currentPageNumber && isCanvas ?\n            new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null);\n        var gradientLegend = chart.renderer.drawRectangle({\n            width: linearBarWidth,\n            height: linearBarHeight,\n            x: xValue,\n            y: yValue,\n            fill: 'url(#' + this.generateId(previousLegend, 'linearGradient', gradientLegendCount) + ')'\n        });\n        defElement.appendChild(linerGradientEle);\n        legendTranslateGroup.appendChild(defElement);\n        legendTranslateGroup.appendChild(gradientLegend);\n    };\n    /**\n     * To find first valid legend text index for chart and accumulation chart\n     *\n     * @param legendCollection\n     * @returns {number}\n     * @private\n     */\n    BaseLegend.prototype.findFirstLegendPosition = function (legendCollection) {\n        var count = 0;\n        for (var _i = 0, legendCollection_1 = legendCollection; _i < legendCollection_1.length; _i++) {\n            var legend = legendCollection_1[_i];\n            if (legend.render && legend.text !== '') {\n                break;\n            }\n            count++;\n        }\n        return count;\n    };\n    /**\n     * To get the legend title text width and height.\n     *\n     * @param legend\n     * @param legendBounds\n     */\n    BaseLegend.prototype.calculateLegendTitle = function (legend, legendBounds) {\n        if (legend.title) {\n            this.isTop = legend.titlePosition === 'Top';\n            var padding = legend.titleStyle.textOverflow === 'Trim' ? 2 * legend.padding : 0;\n            if (this.isTop || this.isVertical) {\n                this.legendTitleCollections = getTitle(legend.title, legend.titleStyle, (legendBounds.width - padding));\n            }\n            else {\n                this.legendTitleCollections[0] = textTrim(legend.maximumTitleWidth, legend.title, legend.titleStyle);\n            }\n            var text = this.isTop ? legend.title : this.legendTitleCollections[0];\n            this.legendTitleSize = measureText(text, legend.titleStyle);\n            this.legendTitleSize.height *= this.legendTitleCollections.length;\n        }\n        else {\n            this.legendTitleSize = new Size(0, 0);\n        }\n    };\n    /**\n     * Render the legend title\n     *\n     * @param chart\n     * @param legend\n     * @param legendBounds\n     * @param legendGroup\n     */\n    BaseLegend.prototype.renderLegendTitle = function (chart, legend, legendBounds, legendGroup) {\n        var padding = legend.padding;\n        var alignment = legend.titleStyle.textAlignment;\n        this.isTop = legend.titlePosition === 'Top';\n        var anchor = getTextAnchor(legend.titleStyle.textAlignment, chart.enableRtl);\n        var x = titlePositionX(legendBounds, legend.titleStyle);\n        anchor = this.isTop || this.isVertical ? anchor : (chart.enableRtl) ? 'end' : '';\n        x = alignment === 'Near' ? (x + padding) : alignment === 'Far' ? (x - padding) : x;\n        x = (this.isTop || this.isVertical) ? x : ((legendBounds.x) + (legend.titlePosition === 'Left' ? 5 :\n            (legendBounds.width - this.legendTitleSize.width - 5)));\n        var topPadding = (legendBounds.height / 2) + (this.legendTitleSize.height / 4);\n        var y = legendBounds.y + (!this.isTop && !this.isVertical ? topPadding :\n            (this.legendTitleSize.height / this.legendTitleCollections.length));\n        var legendTitleTextOptions = new TextOption(this.legendID + '_title', x, y, anchor, this.legendTitleCollections);\n        textElement(chart.renderer, legendTitleTextOptions, legend.titleStyle, legend.titleStyle.color, legendGroup);\n    };\n    /**\n     * To create legend rendering elements for chart and accumulation chart\n     *\n     * @param chart\n     * @param legendBounds\n     * @param legendGroup\n     * @param legend\n     * @param id\n     * @param redraw\n     */\n    BaseLegend.prototype.createLegendElements = function (chart, legendBounds, legendGroup, legend, id, redraw) {\n        var padding = legend.padding;\n        var options = new RectOption(id + '_element', legend.background, legend.border, legend.opacity, legendBounds);\n        var legendItemsGroup = chart.renderer.createGroup({ id: id + '_collections' });\n        var isCanvas = this.isStockChartControl ? false : chart.enableCanvas;\n        var clippath = chart.renderer.createClipPath({ id: id + '_clipPath' });\n        options.width = (this.isRtlEnable && this.chart.getModuleName() === 'accumulationchart' && this.isVertical) ? this.maxWidth : legendBounds.width;\n        if (legendGroup) {\n            legendGroup.appendChild(chart.renderer.drawRectangle(options));\n        }\n        else {\n            chart.renderer.drawRectangle(options);\n        }\n        if (legend.title) {\n            this.renderLegendTitle(chart, legend, legendBounds, legendGroup);\n        }\n        if (!isCanvas) {\n            legendGroup.appendChild(legendItemsGroup);\n        }\n        this.legendTranslateGroup = chart.renderer.createGroup({ id: id + '_translate_g' });\n        if (!isCanvas) {\n            legendItemsGroup.appendChild(this.legendTranslateGroup);\n        }\n        options.y += (this.isTop ? this.legendTitleSize.height : 0);\n        options.id += '_clipPath_rect';\n        options.width = ((!this.isChartControl && chart.getModuleName() !== 'bulletChart' && !this.isStockChartControl) && this.isVertical) ? this.maxWidth - padding + legend.containerPadding.left + legend.containerPadding.right\n            : legendBounds.width;\n        if (!isCanvas) {\n            this.clipRect = chart.renderer.drawRectangle(options);\n            clippath.appendChild(this.clipRect);\n        }\n        else {\n            this.pagingClipRect = options;\n        }\n        appendChildElement(isCanvas, chart.svgObject, clippath, redraw);\n        if (!isCanvas) {\n            legendItemsGroup.style.cssText = 'clip-path:url(#' + clippath.id + ')';\n        }\n        return this.legendTranslateGroup;\n    };\n    /**\n     * To render legend symbols for chart and accumulation chart\n     *\n     * @param legendOption\n     * @param group\n     * @param i\n     * @param legendOption\n     * @param group\n     * @param i\n     * @param legendOption\n     * @param group\n     * @param i\n     */\n    BaseLegend.prototype.renderSymbol = function (legendOption, group, legendIndex) {\n        var control = this.isBulletChartControl ? this.chart : null;\n        var symbolColor = legendOption.visible ? legendOption.fill : '#D3D3D3';\n        var isStrokeWidth = ((this.chart.getModuleName() === 'chart' || this.chart.getModuleName() === 'stockChart') && (legendOption.shape === 'SeriesType') &&\n            (legendOption.type.toLowerCase().indexOf('line') > -1) && (legendOption.type.toLowerCase().indexOf('area') === -1));\n        var isCustomBorder = (this.chart.getModuleName() === 'chart' || this.chart.getModuleName() === 'stockChart') &&\n            (legendOption.type === 'Scatter' || legendOption.type === 'Bubble');\n        var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n        var borderColor;\n        var shape = (legendOption.shape === 'SeriesType') ? legendOption.type : legendOption.shape;\n        var strokewidth = isStrokeWidth ? (this.legend.mode === 'Series' ?\n            this.chart.visibleSeries[legendIndex].width : this.chart.visibleSeries[0].width) :\n            (this.isBulletChartControl && legendOption.shape === 'Multiply') ? 4 : 1;\n        var regionPadding;\n        shape = shape === 'Scatter' ? legendOption.markerShape : shape;\n        if (isCustomBorder && legendIndex < this.chart.visibleSeries.length) {\n            var series = this.chart.visibleSeries[legendIndex];\n            var seriesBorder = series.border;\n            var isLineShapemarker = shape === 'HorizontalLine' || shape === 'VerticalLine';\n            borderColor = isLineShapemarker ? symbolColor : seriesBorder.color ? seriesBorder.color : symbolColor;\n            strokewidth = isLineShapemarker ? series.width : seriesBorder.width ? seriesBorder.width : 1;\n        }\n        var symbolOption = new PathOption(this.legendID + this.generateId(legendOption, '_shape_', legendIndex), symbolColor, strokewidth, (isCustomBorder ? borderColor : symbolColor), 1, '', '');\n        var textSize = measureText(legendOption.text, this.legend.textStyle);\n        var x = this.legend.isInversed && !this.isRtlEnable ? legendOption.location.x + textSize.width + this.legend.shapePadding\n            : legendOption.location.x;\n        var y = legendOption.location.y;\n        if (!isCanvas) {\n            group.appendChild(drawSymbol({ x: x, y: y }, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), legendOption.url, symbolOption, this.accessbilityText, this.chart.renderer, null, this.isBulletChartControl, control));\n        }\n        else {\n            regionPadding = -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber);\n            drawSymbol({ x: x, y: y }, shape, new Size(this.legend.shapeWidth, this.legend.shapeHeight), '', symbolOption, this.accessbilityText, this.chart.renderer, this.currentPageNumber ? new Rect(0, regionPadding, 0, 0) : null, this.isBulletChartControl, control);\n            this.legendRegions.push({\n                rect: new Rect(legendOption.location.x, legendOption.location.y, this.legend.shapeWidth, this.legend.shapeHeight + regionPadding), index: legendIndex\n            });\n        }\n        if (shape === 'Line' && legendOption.markerVisibility && legendOption.markerShape !== 'Image' ||\n            (legendOption.type === 'Doughnut' && shape === 'Doughnut')) {\n            symbolOption.id = this.legendID + this.generateId(legendOption, '_shape_marker_', legendIndex);\n            shape = legendOption.type === 'Doughnut' ? 'Circle' : legendOption.markerShape;\n            symbolOption.fill = legendOption.type === 'Doughnut' ? '#FFFFFF' : symbolOption.fill;\n            if (!isCanvas) {\n                // eslint-disable-next-line max-len\n                group.appendChild(drawSymbol({ x: x, y: y }, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, this.accessbilityText, null, null, this.isBulletChartControl, control));\n            }\n            else {\n                drawSymbol({ x: x, y: y }, shape, new Size(this.legend.shapeWidth / 2, this.legend.shapeHeight / 2), '', symbolOption, this.accessbilityText, this.chart.renderer, this.currentPageNumber ?\n                    new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null, this.isBulletChartControl, control);\n            }\n        }\n    };\n    /**\n     * To render legend text for chart and accumulation chart\n     *\n     * @param chart\n     * @param legendOption\n     * @param group\n     * @param textOptions\n     * @param i\n     * @param chart\n     * @param legendOption\n     * @param group\n     * @param textOptions\n     * @param i\n     * @param chart\n     * @param legendOption\n     * @param group\n     * @param textOptions\n     * @param i\n     * @param chart\n     * @param legendOption\n     * @param group\n     * @param textOptions\n     * @param i\n     * @param chart\n     * @param legendOption\n     * @param group\n     * @param textOptions\n     * @param i\n     */\n    BaseLegend.prototype.renderText = function (chart, legendOption, group, textOptions, i, legendIndex) {\n        var legend = chart.legendSettings;\n        var hiddenColor = '#D3D3D3';\n        var fontcolor = legendOption.visible ? legend.textStyle.color || chart.themeStyle.legendLabel : hiddenColor;\n        var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n        textOptions.id = this.legendID + this.generateId(legendOption, '_text_', legendIndex);\n        textOptions.text = legendOption.textCollection.length > 0 ? legendOption.textCollection : legendOption.text;\n        if (legend.isInversed && !this.isRtlEnable) {\n            textOptions.x = legendOption.location.x - (legend.shapeWidth / 2);\n        }\n        else if (this.isRtlEnable) {\n            textOptions.x = legendOption.location.x - (measureText(legendOption.text, legend.textStyle).width + legend.shapeWidth / 2 + legend.shapePadding);\n        }\n        else {\n            textOptions.x = legendOption.location.x + (legend.shapeWidth / 2) + legend.shapePadding;\n        }\n        textOptions.y = legendOption.location.y + this.maxItemHeight / 4;\n        var element = textElement(chart.renderer, textOptions, legend.textStyle, fontcolor, group, false, false, false, false, null, this.currentPageNumber && isCanvas ?\n            new Rect(0, -this.translatePage(isCanvas, null, this.currentPageNumber - 1, this.currentPageNumber), 0, 0) : null);\n        if (isCanvas) {\n            var textSize = measureText(legendOption.text, legend.textStyle);\n            this.legendRegions[i].rect.y = textOptions.y < this.legendRegions[i].rect.y ? textOptions.y : this.legendRegions[i].rect.y;\n            this.legendRegions[i].rect.width += textSize.width;\n            this.legendRegions[i].rect.height = textSize.height;\n            this.legendRegions[i].rect.y -= textSize.height * 0.5;\n            this.legendRegions[i].rect.x -= (this.isRtlEnable) ? this.legendRegions[i].rect.width : 0;\n        }\n    };\n    /**\n     * To render legend paging elements for chart and accumulation chart\n     *\n     * @param chart\n     * @param bounds\n     * @param textOption\n     * @param legendGroup\n     * @param chart\n     * @param bounds\n     * @param textOption\n     * @param legendGroup\n     * @param chart\n     * @param bounds\n     * @param textOption\n     * @param legendGroup\n     * @param chart\n     * @param bounds\n     * @param textOption\n     * @param legendGroup\n     */\n    // tslint:disable-next-line:max-func-body-length\n    BaseLegend.prototype.renderPagingElements = function (chart, bounds, textOption, legendGroup) {\n        var paginggroup = chart.renderer.createGroup({ id: this.legendID + '_navigation' });\n        var isCanvas = this.isStockChartControl ? false : chart.enableCanvas;\n        var titleHeight = this.isBulletChartControl ? 0 : this.legendTitleSize.height;\n        var grayColor = this.chart.theme.indexOf('Dark') > -1 ? '#FFFFFF' : '#545454';\n        var legend = chart.legendSettings; // to solve parameter lint error, legend declaration is here\n        var padding = 8; // const padding for paging elements\n        var pageUp = this.legendID + (!this.isRtlEnable ? '_pageup' : '_pagedown');\n        var pageDown = this.legendID + (!this.isRtlEnable ? '_pagedown' : '_pageup');\n        var symbolOption = new PathOption(pageUp, 'transparent', 5, grayColor, 1, '', '');\n        var iconSize = this.pageButtonSize;\n        // Page left arrow drawing calculation started here\n        var rowCount = !legend.enablePages && this.isPaging && !this.isVertical && !this.isBulletChartControl ? 1 :\n            (this.rowCount - 1);\n        var titleWidth = this.isTitle && legend.titlePosition === 'Left' ? this.legendTitleSize.width : 0;\n        this.pagingRegions = [];\n        this.backwardArrowOpacity = this.currentPage !== 1 ? 1 : 0;\n        this.forwardArrowOpacity = this.currentPage === this.totalPages ? 0 : 1;\n        if (!isCanvas) {\n            legendGroup.appendChild(paginggroup);\n        }\n        if (!this.isChartControl && !this.isAccChartControl) {\n            if (this.isBulletChartControl || this.isStockChartControl || !this.isVertical) {\n                this.totalPages = Math.ceil(this.totalPages / Math.max(1, this.rowCount - 1));\n            }\n            else {\n                this.totalPages = Math.ceil(this.totalPages / this.maxColumns);\n            }\n        }\n        if (paginggroup) {\n            paginggroup.style.cursor = 'pointer';\n        }\n        if ((this.isChartControl || this.isAccChartControl) && !(!legend.enablePages && this.isPaging)) {\n            this.clipPathHeight = this.pageHeights[0];\n        }\n        else {\n            this.clipPathHeight = (rowCount * (this.maxItemHeight + legend.padding));\n        }\n        //this.clipPathHeight = !(this.isChartControl) ? (rowCount * (this.maxItemHeight + legend.padding)) : this.columnHeights[0];\n        if (!isCanvas) {\n            this.clipRect.setAttribute('height', this.clipPathHeight.toString());\n        }\n        else {\n            //paging clipRect only for canvas mode\n            this.pagingClipRect.height = this.legendBounds.height - this.clipPathHeight -\n                (this.pagingClipRect.y - this.legendBounds.y) - legend.border.width;\n            this.pagingClipRect.y = this.pagingClipRect.y + this.clipPathHeight;\n            this.pagingClipRect.x += legend.border.width;\n            this.pagingClipRect.width -= (legend.border.width + legend.border.width / 2);\n            this.chart.renderer.clearRect(new Rect(this.pagingClipRect.x, this.pagingClipRect.y, this.pagingClipRect.width, this.pagingClipRect.height));\n        }\n        var pageTextElement;\n        var x = (bounds.x + iconSize / 2);\n        var y = bounds.y + this.clipPathHeight + ((titleHeight + bounds.height - this.clipPathHeight) / 2);\n        if (this.isPaging && !legend.enablePages && !this.isVertical && !this.isBulletChartControl) {\n            x = (bounds.x + this.fivePixel + this.pageButtonSize + titleWidth);\n            y = legend.title && this.isTop ? (bounds.y + padding + titleHeight + (iconSize / 1) + 0.5) :\n                (bounds.y + padding + iconSize + 0.5);\n        }\n        var size = measureText(this.totalPages + '/' + this.totalPages, legend.textStyle);\n        var translateX = (this.isRtlEnable) ? legend.border.width + (iconSize / 2) : bounds.width - (2 * (iconSize + padding) + padding + size.width);\n        if (!isCanvas) {\n            if (this.isVertical && !legend.enablePages && !this.isBulletChartControl) {\n                x = bounds.x + (bounds.width / 2);\n                y = bounds.y + (iconSize / 2) + padding + titleHeight;\n                symbolOption.opacity = this.backwardArrowOpacity;\n                paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'UpArrow', new Size(iconSize, iconSize), '', symbolOption, 'UpArrow'));\n            }\n            else {\n                symbolOption.opacity = this.isBulletChartControl ? symbolOption.opacity :\n                    (legend.enablePages ? 1 : !this.isRtlEnable ? this.backwardArrowOpacity : this.forwardArrowOpacity);\n                paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow'));\n            }\n        }\n        else {\n            drawSymbol({ x: x, y: y }, 'LeftArrow', new Size(iconSize, iconSize), '', symbolOption, 'LeftArrow', this.chart.renderer, new Rect(translateX, 0, 0, 0));\n        }\n        this.pagingRegions.push(new Rect(!this.isRtlEnable ? x + bounds.width - (2 * (iconSize + padding) + padding + size.width) - iconSize * 0.5 : x, y - iconSize * 0.5, iconSize, iconSize));\n        // Page numbering rendering calculation started here\n        textOption.x = x + (iconSize / 2) + padding;\n        textOption.y = y + (size.height / 4);\n        textOption.id = this.legendID + '_pagenumber';\n        textOption.text = !this.isRtlEnable ? '1/' + this.totalPages : this.totalPages + '/1';\n        var color = this.chart.theme.indexOf('Dark') > -1 ? '#FFFFFF' : legend.textStyle.color;\n        if (isCanvas && this.totalNoOfPages) {\n            textOption.text = !this.isRtlEnable ? this.currentPageNumber + '/' + this.totalNoOfPages : this.totalNoOfPages + '/' + this.currentPageNumber;\n        }\n        if (legend.enablePages || this.isBulletChartControl) {\n            pageTextElement = textElement(chart.renderer, textOption, legend.textStyle, color, paginggroup, false, false, false, false, null, new Rect(translateX, 0, 0, 0));\n        }\n        // Page right arrow rendering calculation started here\n        x = textOption.x + padding + (iconSize / 2) + size.width;\n        if (this.isPaging && !legend.enablePages && !this.isVertical) {\n            x = (bounds.x + bounds.width - this.fivePixel - this.pageButtonSize - (legend.title && legend.titlePosition === 'Right' ?\n                this.legendTitleSize.width + this.fivePixel : 0));\n        }\n        symbolOption.id = pageDown;\n        symbolOption.opacity = !legend.enablePages ? !this.isRtlEnable ? this.forwardArrowOpacity : this.backwardArrowOpacity : 1;\n        if (!isCanvas) {\n            if (this.isVertical && !legend.enablePages && !this.isBulletChartControl) {\n                x = bounds.x + (bounds.width / 2);\n                y = bounds.y + bounds.height - (iconSize / 2) - padding;\n                paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'DownArrow', new Size(iconSize, iconSize), '', symbolOption, 'DownArrow'));\n            }\n            else {\n                paginggroup.appendChild(drawSymbol({ x: x, y: y }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow'));\n            }\n        }\n        else {\n            drawSymbol({ x: x, y: y }, 'RightArrow', new Size(iconSize, iconSize), '', symbolOption, 'RightArrow', this.chart.renderer, new Rect(translateX, 0, 0, 0));\n        }\n        this.pagingRegions.push(new Rect(!this.isRtlEnable ? x + (bounds.width - (2 * (iconSize + padding) + padding + size.width) - iconSize * 0.5) : x, y - iconSize * 0.5, iconSize, iconSize));\n        if (!isCanvas && (legend.enablePages || this.isBulletChartControl)) {\n            //placing the navigation buttons and page numbering in legend right corner\n            paginggroup.setAttribute('transform', 'translate(' + translateX + ', ' + 0 + ')');\n        }\n        else {\n            if (this.currentPageNumber === 1 && this.calTotalPage && (legend.enablePages || this.isBulletChartControl)) {\n                this.totalNoOfPages = this.totalPages;\n                this.calTotalPage = false;\n            }\n            if (!legend.enablePages && !this.isBulletChartControl) { // For new legend page navigation\n                this.translatePage(isCanvas, null, this.currentPage - 1, this.currentPage, legend);\n            }\n        }\n        if (legend.enablePages || this.isBulletChartControl) {\n            this.translatePage(isCanvas, pageTextElement, this.currentPage - 1, this.currentPage, legend);\n        }\n    };\n    BaseLegend.prototype.getPageHeight = function (pageHeights, pageCount) {\n        var sum = 0;\n        for (var i = 0; i < pageCount; i++) {\n            sum += pageHeights[i];\n        }\n        return sum;\n    };\n    /**\n     * To translate legend pages for chart and accumulation chart\n     *\n     * @param pagingText\n     * @param page\n     * @param pageNumber\n     * @param legend\n     * @param pagingText\n     * @param page\n     * @param pageNumber\n     * @param legend\n     * @param pagingText\n     * @param page\n     * @param pageNumber\n     * @param legend\n     * @param pagingText\n     * @param page\n     * @param pageNumber\n     * @param legend\n     */\n    BaseLegend.prototype.translatePage = function (isCanvas, pagingText, page, pageNumber, legend) {\n        var size = (this.isChartControl || this.isAccChartControl) ? (page ? this.getPageHeight(this.pageHeights, page) : 0) : ((this.clipPathHeight) * page);\n        if (!isCanvas && (this.isChartControl || this.isAccChartControl)) {\n            this.clipRect.setAttribute('height', this.pageHeights[page].toString());\n        }\n        var translate = 'translate(0,-' + size + ')';\n        if (!this.isChartControl && !this.isBulletChartControl && !this.isStockChartControl && this.isVertical) {\n            var pageX = this.pageXCollections[page * this.maxColumns];\n            size = (!this.isRtlEnable) ? pageX - this.legendBounds.x : (this.legendBounds.x + this.maxWidth) - pageX;\n            size = size < 0 ? 0 : size; // to avoid small pixel variation\n            translate = ((!this.isRtlEnable) ? 'translate(-' : 'translate(') + size + ',0)';\n        }\n        if (!this.chart.enableCanvas) {\n            this.legendTranslateGroup.setAttribute('transform', translate);\n        }\n        if (!this.chart.enableCanvas && (legend.enablePages || this.isBulletChartControl)) {\n            pagingText.textContent = !this.isRtlEnable ? (pageNumber) + '/' + this.totalPages : this.totalPages + '/' + pageNumber;\n        }\n        this.currentPage = pageNumber;\n        return size;\n    };\n    /**\n     * To change legend pages for chart and accumulation chart\n     *\n     * @param event\n     * @param pageUp\n     * @param event\n     * @param pageUp\n     */\n    BaseLegend.prototype.changePage = function (event, pageUp) {\n        var legend = this.chart.legendSettings;\n        var backwardArrow = document.getElementById(this.legendID + '_pageup');\n        var forwardArrow = document.getElementById(this.legendID + '_pagedown');\n        var isCanvas = this.isStockChartControl ? false : this.chart.enableCanvas;\n        var pageText = (legend.enablePages || this.isBulletChartControl) ?\n            document.getElementById(this.legendID + '_pagenumber') : null;\n        var page = (legend.enablePages || this.isBulletChartControl) ? parseInt(pageText.textContent.split('/')[!this.isRtlEnable ? 0 : 1], 10) :\n            this.currentPage;\n        if (pageUp && page > 1) {\n            this.translatePage(isCanvas, pageText, (page - 2), (page - 1), legend);\n        }\n        else if (!pageUp && page < this.totalPages) {\n            this.translatePage(isCanvas, pageText, page, (page + 1), legend);\n        }\n        if (this.isPaging && !legend.enablePages && !this.isBulletChartControl) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            this.currentPage === this.totalPages ? this.hideArrow(forwardArrow) : this.showArrow(forwardArrow);\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            this.currentPage === 1 ? this.hideArrow(backwardArrow) : this.showArrow(backwardArrow);\n        }\n    };\n    /**\n     * To hide the backward and forward arrow\n     *\n     * @param arrowElement\n     */\n    BaseLegend.prototype.hideArrow = function (arrowElement) {\n        arrowElement.setAttribute('opacity', '0');\n    };\n    /**\n     * To show the  backward and forward arrow\n     *\n     * @param arrowElement\n     */\n    BaseLegend.prototype.showArrow = function (arrowElement) {\n        arrowElement.setAttribute('opacity', '1');\n    };\n    /**\n     * To find legend elements id based on chart or accumulation chart\n     *\n     * @param option\n     * @param prefix\n     * @param count\n     * @param option\n     * @param prefix\n     * @param count\n     * @param option\n     * @param prefix\n     * @param count\n     * @private\n     */\n    BaseLegend.prototype.generateId = function (option, prefix, count) {\n        if (this.isChartControl || this.isStockChartControl) {\n            return prefix + count;\n        }\n        else {\n            return prefix + option.pointIndex;\n        }\n    };\n    /**\n     * To show or hide trimmed text tooltip for legend.\n     *\n     * @param event\n     * @returns {void}\n     * @private\n     */\n    BaseLegend.prototype.move = function (event) {\n        var _this = this;\n        var x = this.chart.mouseX;\n        var y = this.chart.mouseY;\n        if (event.target.textContent.indexOf('...') > -1) {\n            var targetId = event.target.id.split(this.legendID + '_text_');\n            if (targetId.length === 2) {\n                var index = parseInt(targetId[1], 10);\n                var element = this.chart.element;\n                if (!isNaN(index)) {\n                    if (this.chart.isTouch) {\n                        removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n                    }\n                    if (this.isChartControl) {\n                        showTooltip(this.chart.series[index].name, x, y, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                    else {\n                        showTooltip(this.chart.visibleSeries[0].points[index].x.toString(), x + 10, y + 10, element.offsetWidth, element.id + '_EJ2_Legend_Tooltip', getElement(this.chart.element.id + '_Secondary_Element'));\n                    }\n                }\n            }\n        }\n        else {\n            removeElement(this.chart.element.id + '_EJ2_Legend_Tooltip');\n        }\n        if (this.chart.isTouch) {\n            clearTimeout(this.clearTooltip);\n            this.clearTooltip = +setTimeout(function () { removeElement(_this.chart.element.id + '_EJ2_Legend_Tooltip'); }, 1000);\n        }\n    };\n    return BaseLegend;\n}());\nexport { BaseLegend };\n/**\n * Class for legend options\n *\n * @private\n */\nvar LegendOptions = /** @class */ (function () {\n    function LegendOptions(text, fill, shape, visible, type, url, markerShape, markerVisibility, pointIndex, seriesIndex) {\n        this.location = { x: 0, y: 0 };\n        this.textCollection = [];\n        this.text = text;\n        this.fill = fill;\n        this.shape = shape;\n        this.url = url;\n        this.visible = visible;\n        this.type = type;\n        this.markerVisibility = markerVisibility;\n        this.markerShape = markerShape;\n        this.pointIndex = pointIndex;\n        this.seriesIndex = seriesIndex;\n    }\n    return LegendOptions;\n}());\nexport { LegendOptions };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}