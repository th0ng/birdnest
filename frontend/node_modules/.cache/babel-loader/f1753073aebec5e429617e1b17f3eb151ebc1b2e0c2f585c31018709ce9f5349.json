{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */function () {\n  /**\n   * Constructor for the logerithmic module.\n   *\n   * @private\n   */\n  function MultiLevelLabel(chart) {\n    /** @private */\n    this.xAxisPrevHeight = [];\n    /** @private */\n    this.xAxisMultiLabelHeight = [];\n    /** @private */\n    this.yAxisPrevHeight = [];\n    /** @private */\n    this.yAxisMultiLabelHeight = [];\n    /** @private */\n    this.multiLevelLabelRectXRegion = [];\n    /** @private */\n    this.xLabelCollection = [];\n    this.chart = chart;\n    this.addEventListener();\n  }\n  /**\n   * Binding events for multi level module.\n   */\n  MultiLevelLabel.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n    this.chart.on('click', this.click, this);\n  };\n  /**\n   * Finds multilevel label height\n   *\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n    var value = 0;\n    var multiLevelLabelsHeight = [];\n    var prevHeight = [];\n    var isVertical = axis.orientation === 'Vertical';\n    var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n    var labelSize;\n    var height;\n    var padding = 10;\n    var gap;\n    axis.multiLevelLabels.map(function (multiLevel, index) {\n      multiLevel.categories.map(function (categoryLabel, i) {\n        if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n          labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n          height = isVertical ? labelSize.width : labelSize.height;\n          height += 2 * multiLevel.border.width + (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n          gap = categoryLabel.maximumTextWidth !== null ? categoryLabel.maximumTextWidth : valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end, axis) * axisValue - valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start, axis) * axisValue;\n          var len = axis.multiLevelLabels[index].categories.length;\n          gap = (i === 0 || i === len - 1) && axis.labelPlacement === \"OnTicks\" && axis.edgeLabelPlacement === \"Shift\" ? gap / 2 : gap;\n          if (labelSize.width > gap - padding && gap > 0 && multiLevel.overflow === 'Wrap' && !isVertical) {\n            height = height * textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length;\n          }\n          multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height : multiLevelLabelsHeight[index] < height ? height : multiLevelLabelsHeight[index];\n        }\n      });\n      prevHeight[index] = value;\n      value += multiLevelLabelsHeight[index] ? multiLevelLabelsHeight[index] + padding : 0;\n    });\n    axis.multiLevelLabelHeight = value + (axis.title !== '' || this.chart.legendModule && this.chart.legendSettings.visible ? padding / 2 : 0);\n    if (isVertical) {\n      this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.yAxisPrevHeight = prevHeight;\n    } else {\n      this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.xAxisPrevHeight = prevHeight;\n    }\n  };\n  /**\n   * render x axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n    var _this = this;\n    var x;\n    var y;\n    var padding = 10;\n    var startX;\n    var pointIndex;\n    var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.height + padding;\n    var endX;\n    var pathRect = '';\n    var start;\n    var end;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var gap;\n    var anchor;\n    var isInversed = axis.isAxisInverse;\n    var argsData;\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var angle = axis.angle % 360;\n    var len;\n    var intervalLength;\n    var width;\n    var labelWidth;\n    var scrollBarHeight = axis.scrollbarSettings.enable || isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    var clipY = opposedPosition && !isOutside || !opposedPosition && isOutside ? axisRect.y + startY - axis.majorTickLines.width : axisRect.y - startY - axis.multiLevelLabelHeight;\n    this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      pointIndex = 0;\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      multiLevel.categories.map(function (categoryLabel, i) {\n        len = multiLevel.categories.length;\n        intervalLength = axisRect.width / len;\n        pathRect = '';\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n        if (!argsData.cancel) {\n          startX = valueToCoefficient(start, axis) * axisRect.width;\n          endX = valueToCoefficient(end, axis) * axisRect.width;\n          endX = isInversed ? [startX, startX = endX][0] : endX;\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = (categoryLabel.maximumTextWidth === null ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n          labelWidth = labelSize.width;\n          width = (axis.labelIntersectAction === 'Trim' || axis.labelIntersectAction === 'Wrap') && angle === 0 && labelWidth > gap ? gap : labelWidth;\n          x = startX + axisRect.x + padding;\n          y = (opposedPosition && !isOutside || !opposedPosition && isOutside ? startY + axisRect.y + labelSize.height / 2 + padding + _this.xAxisPrevHeight[level] : axisRect.y - startY + labelSize.height / 2 - _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level]) + scrollBarHeight;\n          if (argsData.alignment === 'Center') {\n            x += (endX - startX - padding) / 2;\n            anchor = 'middle';\n          } else if (argsData.alignment === 'Far') {\n            x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n            if (axis.labelPlacement == 'OnTicks' && (i == 0 || i == len - 1)) {\n              x += (endX - startX - padding) / 2;\n              x = x - labelSize.width / 2;\n            }\n            anchor = 'end';\n          } else {\n            anchor = 'start';\n            x += multiLevel.border.width / 2;\n          }\n          y = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? y + padding : y - padding / 2 : y;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          if (multiLevel.overflow !== 'None') {\n            if (axis.edgeLabelPlacement && axis.labelPlacement == 'OnTicks') {\n              switch (axis.edgeLabelPlacement) {\n                case 'None':\n                  break;\n                case 'Shift':\n                  if (i === 0 || isInversed && i === len - 1) {\n                    if (argsData.alignment === \"Center\" && (options.x < axisRect.x + padding || options.x - labelSize.width / 2) < axis.rect.x) {\n                      options.x += axisRect.x / 2;\n                      if (options.x / 2 < axisRect.x) {\n                        options.x = axisRect.x + padding / 2;\n                        options.anchor = 'start';\n                      }\n                    } else if (argsData.alignment === \"Far\" && (options.x < axisRect.x + padding || options.x > axisRect.x + padding)) {\n                      options.x += labelSize.width / 2 - gap / 2;\n                    } else if (argsData.alignment === 'Near' && (options.x < axisRect.x + padding || options.x > axisRect.x + padding)) {\n                      options.x = axisRect.x + padding;\n                    }\n                    gap = gap / 2;\n                  } else if (i === len - 1 || isInversed && i === 0) {\n                    if (argsData.alignment === \"Center\" && options.x > axisRect.x + axisRect.width) {\n                      options.x -= padding;\n                      if (options.x > axisRect.width) {\n                        options.x = axisRect.width + axisRect.x;\n                        options.anchor = 'end';\n                      }\n                    } else if (argsData.alignment === \"Far\") {\n                      options.x = axisRect.width + axisRect.x;\n                    } else {\n                      options.x = options.x;\n                    }\n                    gap = gap / 2;\n                  }\n                  break;\n              }\n            }\n            options.text = multiLevel.overflow === 'Wrap' ? textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n            options.x = options.x - padding / 2;\n          }\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n          if (_this.chart.enableCanvas) {\n            var textSize = measureText(argsData.text, argsData.textStyle);\n            _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n            _this.xLabelCollection.push(options);\n          }\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n            // fix for generating seperate rect\n            if (pathRect !== '') {\n              _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n              pointIndex++;\n            }\n          }\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render x axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var value;\n    var value1;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var width = gap + padding;\n    var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n    var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n    var x = startX + axisRect.x;\n    var y = !opposedPosition && isOutside || opposedPosition && !isOutside ? startY + axisRect.y + this.xAxisPrevHeight[labelIndex] + scrollBarHeight : axisRect.y - startY - this.xAxisPrevHeight[labelIndex] - scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        var len = axis.multiLevelLabels[labelIndex].categories.length;\n        var lastX = categoryIndex === len - 1 && x + width > axisRect.width ? axisRect.width + axisRect.x : x + width;\n        var initialX = categoryIndex === 0 && axis.multiLevelLabels[labelIndex].categories[0].start <= 0 ? axisRect.x : x;\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + initialX + ' ' + y + ' L ' + initialX + ' ' + (y + height) + ' M ' + lastX + ' ' + y + ' L ' + lastX + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + initialX + ' ' + (y + height) + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + initialX + ' ' + y + ' L ' + lastX + ' ' + y : ' ';\n        break;\n      case 'Brace':\n        if (alignment === 'Near') {\n          value = textOptions.x;\n          value1 = textOptions.x + labelSize.width + 2;\n        } else if (alignment === 'Center') {\n          value = textOptions.x - labelSize.width / 2 - 2;\n          value1 = textOptions.x + labelSize.width / 2 + 2;\n        } else {\n          value = textOptions.x - labelSize.width - 2;\n          value1 = textOptions.x;\n        }\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) + ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) + ' M ' + value1 + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) + ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + y;\n        break;\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        } else {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        }\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) + ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else if (alignment === 'Near') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        }\n        break;\n    }\n    return path;\n  };\n  /**\n   * render y axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n    var _this = this;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var x;\n    var y;\n    var padding = 10;\n    var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.width + padding;\n    var startY;\n    var path = '';\n    var endY;\n    var argsData;\n    var pointIndex;\n    var isInversed = axis.isAxisInverse;\n    var start;\n    var end;\n    var gap;\n    var anchor = 'middle';\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var clipX = opposedPosition && !isOutside || !opposedPosition && isOutside ? rect.x - axis.multiLevelLabelHeight - startX - padding : rect.x + startX;\n    this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id + 'YAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      pointIndex = 0;\n      multiLevel.categories.map(function (categoryLabel, i) {\n        path = '';\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        startY = valueToCoefficient(start, axis) * rect.height;\n        endY = valueToCoefficient(end, axis) * rect.height;\n        endY = isInversed ? [startY, startY = endY][0] : endY;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n        if (!argsData.cancel) {\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = endY - startY;\n          x = rect.x - startX - _this.yAxisPrevHeight[level] - _this.yAxisMultiLabelHeight[level] / 2 - padding / 2;\n          y = rect.height + rect.y - startY - gap / 2;\n          if (opposedPosition) {\n            x = isOutside ? rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - _this.yAxisMultiLabelHeight[level] / 2 - _this.yAxisPrevHeight[level] - padding / 2;\n          } else {\n            x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level];\n          }\n          if (argsData.alignment === 'Center') {\n            y += labelSize.height / 4;\n          } else if (argsData.alignment === 'Far') {\n            y += gap / 2 - labelSize.height / 2;\n          } else {\n            y = y - gap / 2 + labelSize.height;\n          }\n          x = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? x - padding : x + padding : x;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          options.text = multiLevel.overflow === 'Trim' ? textTrim(categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] : categoryLabel.maximumTextWidth, argsData.text, argsData.textStyle) : options.text;\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n            if (path !== '') {\n              _this.createBorderElement(level, index, axis, path, pointIndex);\n              pointIndex++;\n            }\n          }\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render y axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var height = endY - startY;\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var y = rect.y + rect.height - endY;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n    var x = (!opposedPosition && isOutside || opposedPosition && !isOutside ? rect.x - startX - this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? -width : width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y + ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + (x + width) + ' ' + y + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + (y + height) + 'L' + ' ' + x + ' ' + y + ' ' : ' ';\n        break;\n      case 'Brace':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? width : -width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' + (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' + (textOptions.y + labelSize.height / 4 + 2) + ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + x + ' ' + (y + height);\n        break;\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        } else {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        }\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else if (alignment === 'Far') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding1) + ' ' + (y + 15) + ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        }\n        break;\n    }\n    return path;\n  };\n  /**\n   * create cliprect\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n    this.multiElements = this.chart.renderer.createGroup({\n      'id': axisId,\n      'clip-path': 'url(#' + clipId + ')'\n    });\n    if (!this.chart.enableCanvas) {\n      this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n        'id': clipId,\n        'x': x,\n        'y': y,\n        'width': width,\n        'height': height,\n        'fill': 'white',\n        'stroke-width': 1,\n        'stroke': 'Gray'\n      }, this.chart.renderer));\n    }\n  };\n  /**\n   * create borer element\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n    var direction = path;\n    var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n    borderElement.style.pointerEvents = 'none';\n    appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n    var argsData = {\n      cancel: false,\n      name: axisMultiLabelRender,\n      axis: axis,\n      text: text,\n      textStyle: textStyle,\n      alignment: textAlignment,\n      customAttributes: customAttributes\n    };\n    this.chart.trigger(axisMultiLabelRender, argsData);\n    return argsData;\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n    var level = parseInt(labelIndex.substr(0, 1), 10);\n    var textElement = parseInt(labelIndex.substr(7), 10);\n    var chart = this.chart;\n    var axis = chart.axisCollections[axisIndex];\n    var categories = axis.multiLevelLabels[level].categories;\n    var text = categories[textElement].text;\n    var start = categories[textElement].start;\n    var end = categories[textElement].end;\n    var customAttributes = categories[textElement].customAttributes;\n    var multilevelclickArgs = {\n      axis: axis,\n      level: level,\n      text: text,\n      customAttributes: customAttributes,\n      start: start,\n      end: end,\n      name: multiLevelLabelClick,\n      cancel: false\n    };\n    this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n    return multilevelclickArgs;\n  };\n  /**\n   * To click the multi level label\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.click = function (event) {\n    var targetId = event.target.id;\n    var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n    var textId;\n    var elementId;\n    var axisIndex;\n    if (this.chart.enableCanvas) {\n      for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n        if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n          targetId = this.xLabelCollection[i].id;\n        }\n      }\n    }\n    if (targetId.indexOf(multiLevelID) > -1) {\n      textId = targetId.split(multiLevelID)[1];\n      elementId = targetId.split(multiLevelID)[0];\n      axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n      this.MultiLevelLabelClick(textId, axisIndex);\n    }\n  };\n  /**\n   * To get the module name for `MultiLevelLabel`.\n   *\n   * @private\n   */\n  MultiLevelLabel.prototype.getModuleName = function () {\n    return 'MultiLevelLabel';\n  };\n  /**\n   * To destroy the `MultiLevelLabel` module.\n   *\n   * @private\n   */\n  MultiLevelLabel.prototype.destroy = function () {\n    // destroy peform here\n  };\n  return MultiLevelLabel;\n}();\nexport { MultiLevelLabel };","map":{"version":3,"names":["isNullOrUndefined","textWrap","appendClipElement","appendChildElement","valueToCoefficient","textTrim","textElement","withInBounds","measureText","TextOption","PathOption","Rect","axisMultiLabelRender","multiLevelLabelClick","MultiLevelLabel","chart","xAxisPrevHeight","xAxisMultiLabelHeight","yAxisPrevHeight","yAxisMultiLabelHeight","multiLevelLabelRectXRegion","xLabelCollection","addEventListener","prototype","isDestroyed","on","click","getMultilevelLabelsHeight","axis","value","multiLevelLabelsHeight","prevHeight","isVertical","orientation","axisValue","rect","height","width","labelSize","padding","gap","multiLevelLabels","map","multiLevel","index","categories","categoryLabel","i","text","start","end","textStyle","border","type","maximumTextWidth","Number","Date","len","length","labelPlacement","edgeLabelPlacement","overflow","multiLevelLabelHeight","title","legendModule","legendSettings","visible","renderXAxisMultiLevelLabels","parent","axisRect","_this","x","y","startX","pointIndex","startY","labelPosition","tickPosition","majorTickLines","maxLabelSize","endX","pathRect","isOutside","anchor","isInversed","isAxisInverse","argsData","opposedPosition","isAxisOpposedPosition","angle","intervalLength","labelWidth","scrollBarHeight","scrollbarSettings","enable","crossesAt","clipY","createClipRect","element","id","level","labelElement","renderer","createGroup","triggerMultiLabelRender","alignment","customAttributes","cancel","labelIntersectAction","options","color","themeStyle","axisLabel","redraw","enableCanvas","textSize","push","renderXAxisLabelBorder","createBorderElement","multiElements","appendChild","labelIndex","textOptions","path","categoryIndex","padding1","padding2","value1","groupLabel","categoryType","borderType","lastX","initialX","renderYAxisMultiLevelLabels","endY","clipX","renderYAxisLabelBorder","clipId","axisId","borderIndex","axisIndex","direction","borderElement","drawPath","axisLine","style","pointerEvents","textAlignment","name","trigger","MultiLevelLabelClick","parseInt","substr","axisCollections","multilevelclickArgs","event","targetId","target","multiLevelID","textId","elementId","indexOf","split","charAt","getModuleName","destroy"],"sources":["/Users/thonghoangdanh/FullStack/birdnest/node_modules/@syncfusion/ej2-charts/src/chart/axis/multi-level-labels.js"],"sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */ (function () {\n    /**\n     * Constructor for the logerithmic module.\n     *\n     * @private\n     */\n    function MultiLevelLabel(chart) {\n        /** @private */\n        this.xAxisPrevHeight = [];\n        /** @private */\n        this.xAxisMultiLabelHeight = [];\n        /** @private */\n        this.yAxisPrevHeight = [];\n        /** @private */\n        this.yAxisMultiLabelHeight = [];\n        /** @private */\n        this.multiLevelLabelRectXRegion = [];\n        /** @private */\n        this.xLabelCollection = [];\n        this.chart = chart;\n        this.addEventListener();\n    }\n    /**\n     * Binding events for multi level module.\n     */\n    MultiLevelLabel.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on('click', this.click, this);\n    };\n    /**\n     * Finds multilevel label height\n     *\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n        var value = 0;\n        var multiLevelLabelsHeight = [];\n        var prevHeight = [];\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n        var labelSize;\n        var height;\n        var padding = 10;\n        var gap;\n        axis.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel, i) {\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    height += 2 * multiLevel.border.width +\n                        (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n                    gap = (categoryLabel.maximumTextWidth !== null) ? categoryLabel.maximumTextWidth :\n                        (valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) :\n                            categoryLabel.end, axis) * axisValue) -\n                            (valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) :\n                                categoryLabel.start, axis) * axisValue);\n                    var len = axis.multiLevelLabels[index].categories.length;\n                    gap = ((i === 0 || i === len - 1) && axis.labelPlacement === \"OnTicks\" && axis.edgeLabelPlacement === \"Shift\") ? gap / 2 : gap;\n                    if ((labelSize.width > gap - padding) && gap > 0 && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height :\n                        ((multiLevelLabelsHeight[index] < height) ? height : multiLevelLabelsHeight[index]);\n                }\n            });\n            prevHeight[index] = value;\n            value += multiLevelLabelsHeight[index] ? (multiLevelLabelsHeight[index] + padding) : 0;\n        });\n        axis.multiLevelLabelHeight = value + ((axis.title !== '' || (this.chart.legendModule && this.chart.legendSettings.visible))\n            ? padding / 2 : 0);\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.yAxisPrevHeight = prevHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.xAxisPrevHeight = prevHeight;\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n        var _this = this;\n        var x;\n        var y;\n        var padding = 10;\n        var startX;\n        var pointIndex;\n        var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.height) + padding;\n        var endX;\n        var pathRect = '';\n        var start;\n        var end;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var gap;\n        var anchor;\n        var isInversed = axis.isAxisInverse;\n        var argsData;\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var angle = axis.angle % 360;\n        var len;\n        var intervalLength;\n        var width;\n        var labelWidth;\n        var scrollBarHeight = axis.scrollbarSettings.enable || (isOutside && isNullOrUndefined(axis.crossesAt)) ?\n            axis.scrollBarHeight : 0;\n        var clipY = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (axisRect.y + startY - axis.majorTickLines.width) : (axisRect.y - startY - axis.multiLevelLabelHeight);\n        this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            pointIndex = 0;\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                len = multiLevel.categories.length;\n                intervalLength = axisRect.width / len;\n                pathRect = '';\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    startX = valueToCoefficient(start, axis) * axisRect.width;\n                    endX = valueToCoefficient(end, axis) * axisRect.width;\n                    endX = isInversed ? [startX, startX = endX][0] : endX;\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n                    labelWidth = labelSize.width;\n                    width = ((axis.labelIntersectAction === 'Trim' || axis.labelIntersectAction === 'Wrap') && angle === 0 &&\n                        labelWidth > gap) ? gap : labelWidth;\n                    x = startX + axisRect.x + padding;\n                    y = (((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ? (startY + axisRect.y +\n                        labelSize.height / 2 + padding + _this.xAxisPrevHeight[level]) : (axisRect.y - startY + labelSize.height / 2 -\n                        _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level])) + scrollBarHeight;\n                    if (argsData.alignment === 'Center') {\n                        x += (endX - startX - padding) / 2;\n                        anchor = 'middle';\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n                        if (axis.labelPlacement == 'OnTicks' && (i == 0 || i == len - 1)) {\n                            x += (endX - startX - padding) / 2;\n                            x = x - labelSize.width / 2;\n                        }\n                        anchor = 'end';\n                    }\n                    else {\n                        anchor = 'start';\n                        x += multiLevel.border.width / 2;\n                    }\n                    y = multiLevel.border.type === 'CurlyBrace' ?\n                        (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? y + padding : y - padding / 2) : y;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    if (multiLevel.overflow !== 'None') {\n                        if (axis.edgeLabelPlacement && axis.labelPlacement == 'OnTicks') {\n                            switch (axis.edgeLabelPlacement) {\n                                case 'None':\n                                    break;\n                                case 'Shift':\n                                    if ((i === 0 || (isInversed && i === len - 1))) {\n                                        if (argsData.alignment === \"Center\" && ((options.x < axisRect.x + padding) || (options.x - labelSize.width / 2)) < axis.rect.x) {\n                                            options.x += axisRect.x / 2;\n                                            if ((options.x / 2) < axisRect.x) {\n                                                options.x = axisRect.x + padding / 2;\n                                                options.anchor = 'start';\n                                            }\n                                        }\n                                        else if (argsData.alignment === \"Far\" && ((options.x < axisRect.x + padding) || (options.x > axisRect.x + padding))) {\n                                            options.x += labelSize.width / 2 - gap / 2;\n                                        }\n                                        else if (argsData.alignment === 'Near' && ((options.x < axisRect.x + padding) || (options.x > axisRect.x + padding))) {\n                                            options.x = axisRect.x + padding;\n                                        }\n                                        gap = gap / 2;\n                                    }\n                                    else if ((i === len - 1 || (isInversed && i === 0))) {\n                                        if (argsData.alignment === \"Center\" && (options.x) > axisRect.x + axisRect.width) {\n                                            options.x -= padding;\n                                            if (options.x > axisRect.width) {\n                                                options.x = axisRect.width + axisRect.x;\n                                                options.anchor = 'end';\n                                            }\n                                        }\n                                        else if (argsData.alignment === \"Far\") {\n                                            options.x = axisRect.width + axisRect.x;\n                                        }\n                                        else {\n                                            options.x = options.x;\n                                        }\n                                        gap = gap / 2;\n                                    }\n                                    break;\n                            }\n                        }\n                        options.text = (multiLevel.overflow === 'Wrap') ?\n                            textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n                        options.x = options.x - padding / 2;\n                    }\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (_this.chart.enableCanvas) {\n                        var textSize = measureText(argsData.text, argsData.textStyle);\n                        _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n                        _this.xLabelCollection.push(options);\n                    }\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n                        // fix for generating seperate rect\n                        if (pathRect !== '') {\n                            _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var value;\n        var value1;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var width = gap + padding;\n        var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n        var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n        var x = startX + axisRect.x;\n        var y = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? (startY + axisRect.y +\n            this.xAxisPrevHeight[labelIndex] + scrollBarHeight) : (axisRect.y - startY -\n            this.xAxisPrevHeight[labelIndex] - scrollBarHeight);\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                var len = axis.multiLevelLabels[labelIndex].categories.length;\n                var lastX = (categoryIndex === len - 1 && (x + width > axisRect.width)) ? axisRect.width + axisRect.x : x + width;\n                var initialX = (categoryIndex === 0 && axis.multiLevelLabels[labelIndex].categories[0].start <= 0) ? axisRect.x : x;\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + initialX + ' ' + y + ' L ' + initialX + ' ' + (y + height) + ' M ' + (lastX) + ' '\n                    + y + ' L ' + (lastX) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (initialX) + ' ' + (y + height) + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + initialX + ' ' + y + ' L ' + (lastX) + ' ' + y) : ' ';\n                break;\n            case 'Brace':\n                if (alignment === 'Near') {\n                    value = textOptions.x;\n                    value1 = textOptions.x + labelSize.width + 2;\n                }\n                else if (alignment === 'Center') {\n                    value = textOptions.x - labelSize.width / 2 - 2;\n                    value1 = textOptions.x + labelSize.width / 2 + 2;\n                }\n                else {\n                    value = textOptions.x - labelSize.width - 2;\n                    value1 = textOptions.x;\n                }\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) +\n                    ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) +\n                    ' M ' + (value1) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) +\n                    ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                else {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) +\n                        ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else if (alignment === 'Near') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' '\n                        + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) +\n                        ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C '\n                        + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n        var _this = this;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var x;\n        var y;\n        var padding = 10;\n        var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.width) + padding;\n        var startY;\n        var path = '';\n        var endY;\n        var argsData;\n        var pointIndex;\n        var isInversed = axis.isAxisInverse;\n        var start;\n        var end;\n        var gap;\n        var anchor = 'middle';\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var clipX = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (rect.x - axis.multiLevelLabelHeight - startX - padding) : (rect.x + startX);\n        this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id\n            + 'YAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            pointIndex = 0;\n            multiLevel.categories.map(function (categoryLabel, i) {\n                path = '';\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                startY = valueToCoefficient((start), axis) * (rect.height);\n                endY = valueToCoefficient((end), axis) * (rect.height);\n                endY = isInversed ? [startY, startY = endY][0] : endY;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = endY - startY;\n                    x = rect.x - startX - _this.yAxisPrevHeight[level] -\n                        (_this.yAxisMultiLabelHeight[level] / 2) - padding / 2;\n                    y = rect.height + rect.y - startY - (gap / 2);\n                    if (opposedPosition) {\n                        x = isOutside ? rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - (_this.yAxisMultiLabelHeight[level] / 2) -\n                            _this.yAxisPrevHeight[level] - padding / 2;\n                    }\n                    else {\n                        x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level];\n                    }\n                    if (argsData.alignment === 'Center') {\n                        y += labelSize.height / 4;\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        y += gap / 2 - labelSize.height / 2;\n                    }\n                    else {\n                        y = y - gap / 2 + labelSize.height;\n                    }\n                    x = multiLevel.border.type === 'CurlyBrace' ? (((!opposedPosition && isOutside) ||\n                        (opposedPosition && !isOutside)) ? x - padding : x + padding) : x;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    options.text = (multiLevel.overflow === 'Trim') ?\n                        textTrim((categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                            categoryLabel.maximumTextWidth), argsData.text, argsData.textStyle) : options.text;\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n                        if (path !== '') {\n                            _this.createBorderElement(level, index, axis, path, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render y axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var height = endY - startY;\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var y = rect.y + rect.height - endY;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n        var x = (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? rect.x - startX -\n            this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? -width : width;\n                path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y +\n                    ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x + width) + ' ' + y + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + (x) + ' ' + (y + height) + 'L' + ' ' + (x) + ' ' + y + ' ') : ' ';\n                break;\n            case 'Brace':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? width : -width;\n                path += 'M ' + (x) + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' +\n                    (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' +\n                    (textOptions.y + labelSize.height / 4 + 2) +\n                    ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + (x) + ' ' + (y + height);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                else {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' '\n                        + x + ' ' + (y + height);\n                }\n                else if (alignment === 'Far') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) +\n                        ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' '\n                        + (y + height);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding1) + ' ' + (y + 15) +\n                        ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x +\n                        ' ' + (y + height);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * create cliprect\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n        this.multiElements = this.chart.renderer.createGroup({\n            'id': axisId,\n            'clip-path': 'url(#' + clipId + ')'\n        });\n        if (!this.chart.enableCanvas) {\n            this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n                'id': clipId,\n                'x': x,\n                'y': y,\n                'width': width,\n                'height': height,\n                'fill': 'white',\n                'stroke-width': 1, 'stroke': 'Gray'\n            }, this.chart.renderer));\n        }\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n        var direction = path;\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n        borderElement.style.pointerEvents = 'none';\n        appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n        var argsData = {\n            cancel: false, name: axisMultiLabelRender, axis: axis,\n            text: text, textStyle: textStyle, alignment: textAlignment, customAttributes: customAttributes\n        };\n        this.chart.trigger(axisMultiLabelRender, argsData);\n        return argsData;\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n        var level = parseInt(labelIndex.substr(0, 1), 10);\n        var textElement = parseInt(labelIndex.substr(7), 10);\n        var chart = this.chart;\n        var axis = chart.axisCollections[axisIndex];\n        var categories = axis.multiLevelLabels[level].categories;\n        var text = categories[textElement].text;\n        var start = categories[textElement].start;\n        var end = categories[textElement].end;\n        var customAttributes = categories[textElement].customAttributes;\n        var multilevelclickArgs = {\n            axis: axis, level: level, text: text, customAttributes: customAttributes,\n            start: start, end: end, name: multiLevelLabelClick, cancel: false\n        };\n        this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n        return multilevelclickArgs;\n    };\n    /**\n     * To click the multi level label\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n        var textId;\n        var elementId;\n        var axisIndex;\n        if (this.chart.enableCanvas) {\n            for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n                if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n                    targetId = this.xLabelCollection[i].id;\n                }\n            }\n        }\n        if (targetId.indexOf(multiLevelID) > -1) {\n            textId = targetId.split(multiLevelID)[1];\n            elementId = targetId.split(multiLevelID)[0];\n            axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n            this.MultiLevelLabelClick(textId, axisIndex);\n        }\n    };\n    /**\n     * To get the module name for `MultiLevelLabel`.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.getModuleName = function () {\n        return 'MultiLevelLabel';\n    };\n    /**\n     * To destroy the `MultiLevelLabel` module.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return MultiLevelLabel;\n}());\nexport { MultiLevelLabel };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}